var Xd=t=>{throw TypeError(t)};var zl=(t,s,r)=>s.has(t)||Xd("Cannot "+r);var R=(t,s,r)=>(zl(t,s,"read from private field"),r?r.call(t):s.get(t)),ce=(t,s,r)=>s.has(t)?Xd("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),re=(t,s,r,a)=>(zl(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),pe=(t,s,r)=>(zl(t,s,"access private method"),r);var ri=(t,s,r,a)=>({set _(n){re(t,s,n,r)},get _(){return R(t,s,a)}});function jp(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xh={exports:{}},gl={},ph={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=Symbol.for("react.element"),Np=Symbol.for("react.portal"),_p=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Ap=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),eu=Symbol.iterator;function Mp(t){return t===null||typeof t!="object"?null:(t=eu&&t[eu]||t["@@iterator"],typeof t=="function"?t:null)}var gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fh=Object.assign,yh={};function za(t,s,r){this.props=t,this.context=s,this.refs=yh,this.updater=r||gh}za.prototype.isReactComponent={};za.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bh(){}bh.prototype=za.prototype;function Dc(t,s,r){this.props=t,this.context=s,this.refs=yh,this.updater=r||gh}var Oc=Dc.prototype=new bh;Oc.constructor=Dc;fh(Oc,za.prototype);Oc.isPureReactComponent=!0;var tu=Array.isArray,vh=Object.prototype.hasOwnProperty,Ic={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function wh(t,s,r){var a,n={},i=null,l=null;if(s!=null)for(a in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)vh.call(s,a)&&!jh.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Qn,type:t,key:i,ref:l,props:n,_owner:Ic.current}}function Rp(t,s){return{$$typeof:Qn,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qn}function Tp(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var su=/\/+/g;function Dl(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Tp(""+t.key):s.toString(36)}function ki(t,s,r,a,n){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Qn:case Np:l=!0}}if(l)return l=t,n=n(l),t=a===""?"."+Dl(l,0):a,tu(n)?(r="",t!=null&&(r=t.replace(su,"$&/")+"/"),ki(n,s,r,"",function(d){return d})):n!=null&&(Bc(n)&&(n=Rp(n,r+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(su,"$&/")+"/")+t)),s.push(n)),1;if(l=0,a=a===""?".":a+":",tu(t))for(var o=0;o<t.length;o++){i=t[o];var c=a+Dl(i,o);l+=ki(i,s,r,c,n)}else if(c=Mp(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=a+Dl(i,o++),l+=ki(i,s,r,c,n);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function ai(t,s,r){if(t==null)return t;var a=[],n=0;return ki(t,a,"","",function(i){return s.call(r,i,n++)}),a}function qp(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},Ci={transition:null},$p={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:Ic};function Nh(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ai,forEach:function(t,s,r){ai(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return ai(t,function(){s++}),s},toArray:function(t){return ai(t,function(s){return s})||[]},only:function(t){if(!Bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=za;ge.Fragment=_p;ge.Profiler=Cp;ge.PureComponent=Dc;ge.StrictMode=kp;ge.Suspense=Fp;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;ge.act=Nh;ge.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=fh({},t.props),n=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Ic.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)vh.call(s,c)&&!jh.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:Qn,type:t.type,key:n,ref:i,props:a,_owner:l}};ge.createContext=function(t){return t={$$typeof:Pp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sp,_context:t},t.Consumer=t};ge.createElement=wh;ge.createFactory=function(t){var s=wh.bind(null,t);return s.type=t,s};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:Ep,render:t}};ge.isValidElement=Bc;ge.lazy=function(t){return{$$typeof:Lp,_payload:{_status:-1,_result:t},_init:qp}};ge.memo=function(t,s){return{$$typeof:Ap,type:t,compare:s===void 0?null:s}};ge.startTransition=function(t){var s=Ci.transition;Ci.transition={};try{t()}finally{Ci.transition=s}};ge.unstable_act=Nh;ge.useCallback=function(t,s){return ht.current.useCallback(t,s)};ge.useContext=function(t){return ht.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ge.useEffect=function(t,s){return ht.current.useEffect(t,s)};ge.useId=function(){return ht.current.useId()};ge.useImperativeHandle=function(t,s,r){return ht.current.useImperativeHandle(t,s,r)};ge.useInsertionEffect=function(t,s){return ht.current.useInsertionEffect(t,s)};ge.useLayoutEffect=function(t,s){return ht.current.useLayoutEffect(t,s)};ge.useMemo=function(t,s){return ht.current.useMemo(t,s)};ge.useReducer=function(t,s,r){return ht.current.useReducer(t,s,r)};ge.useRef=function(t){return ht.current.useRef(t)};ge.useState=function(t){return ht.current.useState(t)};ge.useSyncExternalStore=function(t,s,r){return ht.current.useSyncExternalStore(t,s,r)};ge.useTransition=function(){return ht.current.useTransition()};ge.version="18.3.1";ph.exports=ge;var k=ph.exports;const cs=wp(k),zp=jp({__proto__:null,default:cs},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=k,Op=Symbol.for("react.element"),Ip=Symbol.for("react.fragment"),Bp=Object.prototype.hasOwnProperty,Up=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wp={key:!0,ref:!0,__self:!0,__source:!0};function _h(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)Bp.call(s,a)&&!Wp.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Op,type:t,key:i,ref:l,props:n,_owner:Up.current}}gl.Fragment=Ip;gl.jsx=_h;gl.jsxs=_h;xh.exports=gl;var e=xh.exports,kh={exports:{}},Lt={},Ch={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(N,P){var K=N.length;N.push(P);e:for(;0<K;){var $=K-1>>>1,F=N[$];if(0<n(F,P))N[$]=P,N[K]=F,K=$;else break e}}function r(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var P=N[0],K=N.pop();if(K!==P){N[0]=K;e:for(var $=0,F=N.length,M=F>>>1;$<M;){var _=2*($+1)-1,B=N[_],Z=_+1,ne=N[Z];if(0>n(B,K))Z<F&&0>n(ne,B)?(N[$]=ne,N[Z]=K,$=Z):(N[$]=B,N[_]=K,$=_);else if(Z<F&&0>n(ne,K))N[$]=ne,N[Z]=K,$=Z;else break e}}return P}function n(N,P){var K=N.sortIndex-P.sortIndex;return K!==0?K:N.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,h=null,g=3,w=!1,j=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(N){for(var P=r(d);P!==null;){if(P.callback===null)a(d);else if(P.startTime<=N)a(d),P.sortIndex=P.expirationTime,s(c,P);else break;P=r(d)}}function C(N){if(x=!1,f(N),!j)if(r(c)!==null)j=!0,Y(L);else{var P=r(d);P!==null&&y(C,P.startTime-N)}}function L(N,P){j=!1,x&&(x=!1,u(S),S=-1),w=!0;var K=g;try{for(f(P),h=r(c);h!==null&&(!(h.expirationTime>P)||N&&!Q());){var $=h.callback;if(typeof $=="function"){h.callback=null,g=h.priorityLevel;var F=$(h.expirationTime<=P);P=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&a(c),f(P)}else a(c);h=r(c)}if(h!==null)var M=!0;else{var _=r(d);_!==null&&y(C,_.startTime-P),M=!1}return M}finally{h=null,g=K,w=!1}}var A=!1,q=null,S=-1,b=5,T=-1;function Q(){return!(t.unstable_now()-T<b)}function W(){if(q!==null){var N=t.unstable_now();T=N;var P=!0;try{P=q(!0,N)}finally{P?O():(A=!1,q=null)}}else A=!1}var O;if(typeof p=="function")O=function(){p(W)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,D=te.port2;te.port1.onmessage=W,O=function(){D.postMessage(null)}}else O=function(){v(W,0)};function Y(N){q=N,A||(A=!0,O())}function y(N,P){S=v(function(){N(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){j||w||(j=!0,Y(L))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var K=g;g=P;try{return N()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,P){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=g;g=N;try{return P()}finally{g=K}},t.unstable_scheduleCallback=function(N,P,K){var $=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?$+K:$):K=$,N){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,N={id:m++,callback:P,priorityLevel:N,startTime:K,expirationTime:F,sortIndex:-1},K>$?(N.sortIndex=K,s(d,N),r(c)===null&&N===r(d)&&(x?(u(S),S=-1):x=!0,y(C,K-$))):(N.sortIndex=F,s(c,N),j||w||(j=!0,Y(L))),N},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(N){var P=g;return function(){var K=g;g=P;try{return N.apply(this,arguments)}finally{g=K}}}})(Sh);Ch.exports=Sh;var Vp=Ch.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=k,Ft=Vp;function X(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ph=new Set,vn={};function Hr(t,s){Pa(t,s),Pa(t+"Capture",s)}function Pa(t,s){for(vn[t]=s,t=0;t<s.length;t++)Ph.add(s[t])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=Object.prototype.hasOwnProperty,Qp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ru={},au={};function Kp(t){return yo.call(au,t)?!0:yo.call(ru,t)?!1:Qp.test(t)?au[t]=!0:(ru[t]=!0,!1)}function Yp(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gp(t,s,r,a){if(s===null||typeof s>"u"||Yp(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function xt(t,s,r,a,n,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];et[s]=new xt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function Wc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Uc,Wc);et[s]=new xt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Uc,Wc);et[s]=new xt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Uc,Wc);et[s]=new xt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vc(t,s,r,a){var n=et.hasOwnProperty(s)?et[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Gp(s,r,n,a)&&(r=null),a||n===null?Kp(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var Es=Hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),Ah=Symbol.for("react.offscreen"),nu=Symbol.iterator;function Ka(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Ol;function an(t){if(Ol===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ol=s&&s[1]||""}return`
`+Ol+t}var Il=!1;function Bl(t,s){if(!t||Il)return"";Il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var a=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){a=d}t.call(s.prototype)}else{try{throw Error()}catch(d){a=d}t()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Il=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?an(t):""}function Jp(t){switch(t.tag){case 5:return an(t.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return t=Bl(t.type,!1),t;case 11:return t=Bl(t.type.render,!1),t;case 1:return t=Bl(t.type,!0),t;default:return""}}function wo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Gr:return"Portal";case bo:return"Profiler";case Hc:return"StrictMode";case vo:return"Suspense";case jo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fh:return(t.displayName||"Context")+".Consumer";case Eh:return(t._context.displayName||"Context")+".Provider";case Qc:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kc:return s=t.displayName||null,s!==null?s:wo(t.type)||"Memo";case Ms:s=t._payload,t=t._init;try{return wo(t(s))}catch{}}return null}function Zp(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(s);case 8:return s===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xp(t){var s=Lh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ii(t){t._valueTracker||(t._valueTracker=Xp(t))}function Mh(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=Lh(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function No(t,s){var r=s.checked;return Te({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iu(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=lr(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Rh(t,s){s=s.checked,s!=null&&Vc(t,"checked",s,!1)}function _o(t,s){Rh(t,s);var r=lr(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ko(t,s.type,r):s.hasOwnProperty("defaultValue")&&ko(t,s.type,lr(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function lu(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ko(t,s,r){(s!=="number"||Ii(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var nn=Array.isArray;function da(t,s,r,a){if(t=t.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=s.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+lr(r),s=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function Co(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(X(91));return Te({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(X(92));if(nn(r)){if(1<r.length)throw Error(X(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:lr(r)}}function Th(t,s){var r=lr(s.value),a=lr(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function cu(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?qh(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var li,$h=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function jn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eg=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(t){eg.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),un[s]=un[t]})});function zh(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||un.hasOwnProperty(t)&&un[t]?(""+s).trim():s+"px"}function Dh(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=zh(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var tg=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(t,s){if(s){if(tg[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(X(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(X(61))}if(s.style!=null&&typeof s.style!="object")throw Error(X(62))}}function Eo(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ao=null,ua=null,ma=null;function du(t){if(t=Gn(t)){if(typeof Ao!="function")throw Error(X(280));var s=t.stateNode;s&&(s=jl(s),Ao(t.stateNode,t.type,s))}}function Oh(t){ua?ma?ma.push(t):ma=[t]:ua=t}function Ih(){if(ua){var t=ua,s=ma;if(ma=ua=null,du(t),s)for(t=0;t<s.length;t++)du(s[t])}}function Bh(t,s){return t(s)}function Uh(){}var Ul=!1;function Wh(t,s,r){if(Ul)return t(s,r);Ul=!0;try{return Bh(t,s,r)}finally{Ul=!1,(ua!==null||ma!==null)&&(Uh(),Ih())}}function wn(t,s){var r=t.stateNode;if(r===null)return null;var a=jl(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,s,typeof r));return r}var Lo=!1;if(ks)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Lo=!1}function sg(t,s,r,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(m){this.onError(m)}}var mn=!1,Bi=null,Ui=!1,Mo=null,rg={onError:function(t){mn=!0,Bi=t}};function ag(t,s,r,a,n,i,l,o,c){mn=!1,Bi=null,sg.apply(rg,arguments)}function ng(t,s,r,a,n,i,l,o,c){if(ag.apply(this,arguments),mn){if(mn){var d=Bi;mn=!1,Bi=null}else throw Error(X(198));Ui||(Ui=!0,Mo=d)}}function Qr(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function Vh(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function uu(t){if(Qr(t)!==t)throw Error(X(188))}function ig(t){var s=t.alternate;if(!s){if(s=Qr(t),s===null)throw Error(X(188));return s!==t?null:t}for(var r=t,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return uu(n),t;if(i===a)return uu(n),s;i=i.sibling}throw Error(X(188))}if(r.return!==a.return)r=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l)throw Error(X(189))}}if(r.alternate!==a)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:s}function Hh(t){return t=ig(t),t!==null?Qh(t):null}function Qh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Qh(t);if(s!==null)return s;t=t.sibling}return null}var Kh=Ft.unstable_scheduleCallback,mu=Ft.unstable_cancelCallback,lg=Ft.unstable_shouldYield,og=Ft.unstable_requestPaint,Oe=Ft.unstable_now,cg=Ft.unstable_getCurrentPriorityLevel,Gc=Ft.unstable_ImmediatePriority,Yh=Ft.unstable_UserBlockingPriority,Wi=Ft.unstable_NormalPriority,dg=Ft.unstable_LowPriority,Gh=Ft.unstable_IdlePriority,fl=null,ds=null;function ug(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:xg,mg=Math.log,hg=Math.LN2;function xg(t){return t>>>=0,t===0?32:31-(mg(t)/hg|0)|0}var oi=64,ci=4194304;function ln(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vi(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~n;o!==0?a=ln(o):(i&=l,i!==0&&(a=ln(i)))}else l=r&~n,l!==0?a=ln(l):i!==0&&(a=ln(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-Jt(s),n=1<<r,a|=t[r],s&=~n;return a}function pg(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gg(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Jt(i),o=1<<l,c=n[l];c===-1?(!(o&r)||o&a)&&(n[l]=pg(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function Ro(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jh(){var t=oi;return oi<<=1,!(oi&4194240)&&(oi=64),t}function Wl(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Kn(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Jt(s),t[s]=r}function fg(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-Jt(r),i=1<<n;s[n]=0,a[n]=-1,t[n]=-1,r&=~i}}function Jc(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-Jt(r),n=1<<a;n&s|t[a]&s&&(t[a]|=s),r&=~n}}var ke=0;function Zh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xh,Zc,e0,t0,s0,To=!1,di=[],Gs=null,Js=null,Zs=null,Nn=new Map,_n=new Map,Ts=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(t,s){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Nn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(s.pointerId)}}function Ga(t,s,r,a,n,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=Gn(s),s!==null&&Zc(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function bg(t,s,r,a,n){switch(s){case"focusin":return Gs=Ga(Gs,t,s,r,a,n),!0;case"dragenter":return Js=Ga(Js,t,s,r,a,n),!0;case"mouseover":return Zs=Ga(Zs,t,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return Nn.set(i,Ga(Nn.get(i)||null,t,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,_n.set(i,Ga(_n.get(i)||null,t,s,r,a,n)),!0}return!1}function r0(t){var s=br(t.target);if(s!==null){var r=Qr(s);if(r!==null){if(s=r.tag,s===13){if(s=Vh(r),s!==null){t.blockedOn=s,s0(t.priority,function(){e0(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Si(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=qo(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Fo=a,r.target.dispatchEvent(a),Fo=null}else return s=Gn(r),s!==null&&Zc(s),t.blockedOn=r,!1;s.shift()}return!0}function xu(t,s,r){Si(t)&&r.delete(s)}function vg(){To=!1,Gs!==null&&Si(Gs)&&(Gs=null),Js!==null&&Si(Js)&&(Js=null),Zs!==null&&Si(Zs)&&(Zs=null),Nn.forEach(xu),_n.forEach(xu)}function Ja(t,s){t.blockedOn===s&&(t.blockedOn=null,To||(To=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,vg)))}function kn(t){function s(n){return Ja(n,t)}if(0<di.length){Ja(di[0],t);for(var r=1;r<di.length;r++){var a=di[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Gs!==null&&Ja(Gs,t),Js!==null&&Ja(Js,t),Zs!==null&&Ja(Zs,t),Nn.forEach(s),_n.forEach(s),r=0;r<Ts.length;r++)a=Ts[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<Ts.length&&(r=Ts[0],r.blockedOn===null);)r0(r),r.blockedOn===null&&Ts.shift()}var ha=Es.ReactCurrentBatchConfig,Hi=!0;function jg(t,s,r,a){var n=ke,i=ha.transition;ha.transition=null;try{ke=1,Xc(t,s,r,a)}finally{ke=n,ha.transition=i}}function wg(t,s,r,a){var n=ke,i=ha.transition;ha.transition=null;try{ke=4,Xc(t,s,r,a)}finally{ke=n,ha.transition=i}}function Xc(t,s,r,a){if(Hi){var n=qo(t,s,r,a);if(n===null)eo(t,s,a,Qi,r),hu(t,a);else if(bg(n,t,s,r,a))a.stopPropagation();else if(hu(t,a),s&4&&-1<yg.indexOf(t)){for(;n!==null;){var i=Gn(n);if(i!==null&&Xh(i),i=qo(t,s,r,a),i===null&&eo(t,s,a,Qi,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else eo(t,s,a,null,r)}}var Qi=null;function qo(t,s,r,a){if(Qi=null,t=Yc(a),t=br(t),t!==null)if(s=Qr(t),s===null)t=null;else if(r=s.tag,r===13){if(t=Vh(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Qi=t,null}function a0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case Gc:return 1;case Yh:return 4;case Wi:case dg:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var Hs=null,ed=null,Pi=null;function n0(){if(Pi)return Pi;var t,s=ed,r=s.length,a,n="value"in Hs?Hs.value:Hs.textContent,i=n.length;for(t=0;t<r&&s[t]===n[t];t++);var l=r-t;for(a=1;a<=l&&s[r-a]===n[i-a];a++);return Pi=n.slice(t,1<a?1-a:void 0)}function Ei(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function pu(){return!1}function Mt(t){function s(r,a,n,i,l){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ui:pu,this.isPropagationStopped=pu,this}return Te(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=Mt(Da),Yn=Te({},Da,{view:0,detail:0}),Ng=Mt(Yn),Vl,Hl,Za,yl=Te({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(Vl=t.screenX-Za.screenX,Hl=t.screenY-Za.screenY):Hl=Vl=0,Za=t),Vl)},movementY:function(t){return"movementY"in t?t.movementY:Hl}}),gu=Mt(yl),_g=Te({},yl,{dataTransfer:0}),kg=Mt(_g),Cg=Te({},Yn,{relatedTarget:0}),Ql=Mt(Cg),Sg=Te({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Pg=Mt(Sg),Eg=Te({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fg=Mt(Eg),Ag=Te({},Da,{data:0}),fu=Mt(Ag),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Rg[t])?!!s[t]:!1}function sd(){return Tg}var qg=Te({},Yn,{key:function(t){if(t.key){var s=Lg[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$g=Mt(qg),zg=Te({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Mt(zg),Dg=Te({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),Og=Mt(Dg),Ig=Te({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bg=Mt(Ig),Ug=Te({},yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wg=Mt(Ug),Vg=[9,13,27,32],rd=ks&&"CompositionEvent"in window,hn=null;ks&&"documentMode"in document&&(hn=document.documentMode);var Hg=ks&&"TextEvent"in window&&!hn,i0=ks&&(!rd||hn&&8<hn&&11>=hn),bu=" ",vu=!1;function l0(t,s){switch(t){case"keyup":return Vg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zr=!1;function Qg(t,s){switch(t){case"compositionend":return o0(s);case"keypress":return s.which!==32?null:(vu=!0,bu);case"textInput":return t=s.data,t===bu&&vu?null:t;default:return null}}function Kg(t,s){if(Zr)return t==="compositionend"||!rd&&l0(t,s)?(t=n0(),Pi=ed=Hs=null,Zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return i0&&s.locale!=="ko"?null:s.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Yg[t.type]:s==="textarea"}function c0(t,s,r,a){Oh(a),s=Ki(s,"onChange"),0<s.length&&(r=new td("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var xn=null,Cn=null;function Gg(t){v0(t,0)}function bl(t){var s=ta(t);if(Mh(s))return t}function Jg(t,s){if(t==="change")return s}var d0=!1;if(ks){var Kl;if(ks){var Yl="oninput"in document;if(!Yl){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),Yl=typeof wu.oninput=="function"}Kl=Yl}else Kl=!1;d0=Kl&&(!document.documentMode||9<document.documentMode)}function Nu(){xn&&(xn.detachEvent("onpropertychange",u0),Cn=xn=null)}function u0(t){if(t.propertyName==="value"&&bl(Cn)){var s=[];c0(s,Cn,t,Yc(t)),Wh(Gg,s)}}function Zg(t,s,r){t==="focusin"?(Nu(),xn=s,Cn=r,xn.attachEvent("onpropertychange",u0)):t==="focusout"&&Nu()}function Xg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bl(Cn)}function ef(t,s){if(t==="click")return bl(s)}function tf(t,s){if(t==="input"||t==="change")return bl(s)}function sf(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xt=typeof Object.is=="function"?Object.is:sf;function Sn(t,s){if(Xt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!yo.call(s,n)||!Xt(t[n],s[n]))return!1}return!0}function _u(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ku(t,s){var r=_u(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function m0(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?m0(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function h0(){for(var t=window,s=Ii();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Ii(t.document)}return s}function ad(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function rf(t){var s=h0(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&m0(r.ownerDocument.documentElement,r)){if(a!==null&&ad(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!t.extend&&i>a&&(n=a,a=i,i=n),n=ku(r,i);var l=ku(r,a);n&&l&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),i>a?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var af=ks&&"documentMode"in document&&11>=document.documentMode,Xr=null,$o=null,pn=null,zo=!1;function Cu(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||Xr==null||Xr!==Ii(a)||(a=Xr,"selectionStart"in a&&ad(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pn&&Sn(pn,a)||(pn=a,a=Ki($o,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=Xr)))}function mi(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var ea={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionend:mi("Transition","TransitionEnd")},Gl={},x0={};ks&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function vl(t){if(Gl[t])return Gl[t];if(!ea[t])return t;var s=ea[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in x0)return Gl[t]=s[r];return t}var p0=vl("animationend"),g0=vl("animationiteration"),f0=vl("animationstart"),y0=vl("transitionend"),b0=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,s){b0.set(t,s),Hr(s,[t])}for(var Jl=0;Jl<Su.length;Jl++){var Zl=Su[Jl],nf=Zl.toLowerCase(),lf=Zl[0].toUpperCase()+Zl.slice(1);cr(nf,"on"+lf)}cr(p0,"onAnimationEnd");cr(g0,"onAnimationIteration");cr(f0,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(y0,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),of=new Set("cancel close invalid load scroll toggle".split(" ").concat(on));function Pu(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,ng(a,s,void 0,t),t.currentTarget=null}function v0(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;Pu(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;Pu(n,o,d),i=c}}}if(Ui)throw t=Mo,Ui=!1,Mo=null,t}function Ee(t,s){var r=s[Uo];r===void 0&&(r=s[Uo]=new Set);var a=t+"__bubble";r.has(a)||(j0(s,t,2,!1),r.add(a))}function Xl(t,s,r){var a=0;s&&(a|=4),j0(r,t,a,s)}var hi="_reactListening"+Math.random().toString(36).slice(2);function Pn(t){if(!t[hi]){t[hi]=!0,Ph.forEach(function(r){r!=="selectionchange"&&(of.has(r)||Xl(r,!1,t),Xl(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[hi]||(s[hi]=!0,Xl("selectionchange",!1,s))}}function j0(t,s,r,a){switch(a0(s)){case 1:var n=jg;break;case 4:n=wg;break;default:n=Xc}r=n.bind(null,s,r,t),n=void 0,!Lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(s,r,{capture:!0,passive:n}):t.addEventListener(s,r,!0):n!==void 0?t.addEventListener(s,r,{passive:n}):t.addEventListener(s,r,!1)}function eo(t,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=br(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}Wh(function(){var d=i,m=Yc(r),h=[];e:{var g=b0.get(t);if(g!==void 0){var w=td,j=t;switch(t){case"keypress":if(Ei(r)===0)break e;case"keydown":case"keyup":w=$g;break;case"focusin":j="focus",w=Ql;break;case"focusout":j="blur",w=Ql;break;case"beforeblur":case"afterblur":w=Ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Og;break;case p0:case g0:case f0:w=Pg;break;case y0:w=Bg;break;case"scroll":w=Ng;break;case"wheel":w=Wg;break;case"copy":case"cut":case"paste":w=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=yu}var x=(s&4)!==0,v=!x&&t==="scroll",u=x?g!==null?g+"Capture":null:g;x=[];for(var p=d,f;p!==null;){f=p;var C=f.stateNode;if(f.tag===5&&C!==null&&(f=C,u!==null&&(C=wn(p,u),C!=null&&x.push(En(p,C,f)))),v)break;p=p.return}0<x.length&&(g=new w(g,j,null,r,m),h.push({event:g,listeners:x}))}}if(!(s&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&r!==Fo&&(j=r.relatedTarget||r.fromElement)&&(br(j)||j[Cs]))break e;if((w||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,w?(j=r.relatedTarget||r.toElement,w=d,j=j?br(j):null,j!==null&&(v=Qr(j),j!==v||j.tag!==5&&j.tag!==6)&&(j=null)):(w=null,j=d),w!==j)){if(x=gu,C="onMouseLeave",u="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=yu,C="onPointerLeave",u="onPointerEnter",p="pointer"),v=w==null?g:ta(w),f=j==null?g:ta(j),g=new x(C,p+"leave",w,r,m),g.target=v,g.relatedTarget=f,C=null,br(m)===d&&(x=new x(u,p+"enter",j,r,m),x.target=f,x.relatedTarget=v,C=x),v=C,w&&j)t:{for(x=w,u=j,p=0,f=x;f;f=Kr(f))p++;for(f=0,C=u;C;C=Kr(C))f++;for(;0<p-f;)x=Kr(x),p--;for(;0<f-p;)u=Kr(u),f--;for(;p--;){if(x===u||u!==null&&x===u.alternate)break t;x=Kr(x),u=Kr(u)}x=null}else x=null;w!==null&&Eu(h,g,w,x,!1),j!==null&&v!==null&&Eu(h,v,j,x,!0)}}e:{if(g=d?ta(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var L=Jg;else if(ju(g))if(d0)L=tf;else{L=Xg;var A=Zg}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=ef);if(L&&(L=L(t,d))){c0(h,L,r,m);break e}A&&A(t,g,d),t==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&ko(g,"number",g.value)}switch(A=d?ta(d):window,t){case"focusin":(ju(A)||A.contentEditable==="true")&&(Xr=A,$o=d,pn=null);break;case"focusout":pn=$o=Xr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Cu(h,r,m);break;case"selectionchange":if(af)break;case"keydown":case"keyup":Cu(h,r,m)}var q;if(rd)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Zr?l0(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(i0&&r.locale!=="ko"&&(Zr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Zr&&(q=n0()):(Hs=m,ed="value"in Hs?Hs.value:Hs.textContent,Zr=!0)),A=Ki(d,S),0<A.length&&(S=new fu(S,t,null,r,m),h.push({event:S,listeners:A}),q?S.data=q:(q=o0(r),q!==null&&(S.data=q)))),(q=Hg?Qg(t,r):Kg(t,r))&&(d=Ki(d,"onBeforeInput"),0<d.length&&(m=new fu("onBeforeInput","beforeinput",null,r,m),h.push({event:m,listeners:d}),m.data=q))}v0(h,s)})}function En(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Ki(t,s){for(var r=s+"Capture",a=[];t!==null;){var n=t,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=wn(t,r),i!=null&&a.unshift(En(t,i,n)),i=wn(t,s),i!=null&&a.push(En(t,i,n))),t=t.return}return a}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eu(t,s,r,a,n){for(var i=s._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=wn(r,i),c!=null&&l.unshift(En(r,c,o))):n||(c=wn(r,i),c!=null&&l.push(En(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var cf=/\r\n?/g,df=/\u0000|\uFFFD/g;function Fu(t){return(typeof t=="string"?t:""+t).replace(cf,`
`).replace(df,"")}function xi(t,s,r){if(s=Fu(s),Fu(t)!==s&&r)throw Error(X(425))}function Yi(){}var Do=null,Oo=null;function Io(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,uf=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,mf=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(t){return Au.resolve(null).then(t).catch(hf)}:Bo;function hf(t){setTimeout(function(){throw t})}function to(t,s){var r=s,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),kn(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);kn(s)}function Xs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Lu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),os="__reactFiber$"+Oa,Fn="__reactProps$"+Oa,Cs="__reactContainer$"+Oa,Uo="__reactEvents$"+Oa,xf="__reactListeners$"+Oa,pf="__reactHandles$"+Oa;function br(t){var s=t[os];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Cs]||r[os]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Lu(t);t!==null;){if(r=t[os])return r;t=Lu(t)}return s}t=r,r=t.parentNode}return null}function Gn(t){return t=t[os]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function jl(t){return t[Fn]||null}var Wo=[],sa=-1;function dr(t){return{current:t}}function Fe(t){0>sa||(t.current=Wo[sa],Wo[sa]=null,sa--)}function Pe(t,s){sa++,Wo[sa]=t.current,t.current=s}var or={},it=dr(or),vt=dr(!1),qr=or;function Ea(t,s){var r=t.type.contextTypes;if(!r)return or;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function jt(t){return t=t.childContextTypes,t!=null}function Gi(){Fe(vt),Fe(it)}function Mu(t,s,r){if(it.current!==or)throw Error(X(168));Pe(it,s),Pe(vt,r)}function w0(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(X(108,Zp(t)||"Unknown",n));return Te({},r,a)}function Ji(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,qr=it.current,Pe(it,t),Pe(vt,vt.current),!0}function Ru(t,s,r){var a=t.stateNode;if(!a)throw Error(X(169));r?(t=w0(t,s,qr),a.__reactInternalMemoizedMergedChildContext=t,Fe(vt),Fe(it),Pe(it,t)):Fe(vt),Pe(vt,r)}var xs=null,wl=!1,so=!1;function N0(t){xs===null?xs=[t]:xs.push(t)}function gf(t){wl=!0,N0(t)}function ur(){if(!so&&xs!==null){so=!0;var t=0,s=ke;try{var r=xs;for(ke=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}xs=null,wl=!1}catch(n){throw xs!==null&&(xs=xs.slice(t+1)),Kh(Gc,ur),n}finally{ke=s,so=!1}}return null}var ra=[],aa=0,Zi=null,Xi=0,$t=[],zt=0,$r=null,bs=1,vs="";function gr(t,s){ra[aa++]=Xi,ra[aa++]=Zi,Zi=t,Xi=s}function _0(t,s,r){$t[zt++]=bs,$t[zt++]=vs,$t[zt++]=$r,$r=t;var a=bs;t=vs;var n=32-Jt(a)-1;a&=~(1<<n),r+=1;var i=32-Jt(s)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,bs=1<<32-Jt(s)+n|r<<n|a,vs=i+t}else bs=1<<i|r<<n|a,vs=t}function nd(t){t.return!==null&&(gr(t,1),_0(t,1,0))}function id(t){for(;t===Zi;)Zi=ra[--aa],ra[aa]=null,Xi=ra[--aa],ra[aa]=null;for(;t===$r;)$r=$t[--zt],$t[zt]=null,vs=$t[--zt],$t[zt]=null,bs=$t[--zt],$t[zt]=null}var Pt=null,St=null,Ae=!1,Gt=null;function k0(t,s){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Tu(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Pt=t,St=Xs(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Pt=t,St=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=$r!==null?{id:bs,overflow:vs}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Pt=t,St=null,!0):!1;default:return!1}}function Vo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ho(t){if(Ae){var s=St;if(s){var r=s;if(!Tu(t,s)){if(Vo(t))throw Error(X(418));s=Xs(r.nextSibling);var a=Pt;s&&Tu(t,s)?k0(a,r):(t.flags=t.flags&-4097|2,Ae=!1,Pt=t)}}else{if(Vo(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ae=!1,Pt=t}}}function qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function pi(t){if(t!==Pt)return!1;if(!Ae)return qu(t),Ae=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Io(t.type,t.memoizedProps)),s&&(s=St)){if(Vo(t))throw C0(),Error(X(418));for(;s;)k0(t,s),s=Xs(s.nextSibling)}if(qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){St=Xs(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}St=null}}else St=Pt?Xs(t.stateNode.nextSibling):null;return!0}function C0(){for(var t=St;t;)t=Xs(t.nextSibling)}function Fa(){St=Pt=null,Ae=!1}function ld(t){Gt===null?Gt=[t]:Gt.push(t)}var ff=Es.ReactCurrentBatchConfig;function Xa(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var a=r.stateNode}if(!a)throw Error(X(147,t));var n=a,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function gi(t,s){throw t=Object.prototype.toString.call(s),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function $u(t){var s=t._init;return s(t._payload)}function S0(t){function s(u,p){if(t){var f=u.deletions;f===null?(u.deletions=[p],u.flags|=16):f.push(p)}}function r(u,p){if(!t)return null;for(;p!==null;)s(u,p),p=p.sibling;return null}function a(u,p){for(u=new Map;p!==null;)p.key!==null?u.set(p.key,p):u.set(p.index,p),p=p.sibling;return u}function n(u,p){return u=rr(u,p),u.index=0,u.sibling=null,u}function i(u,p,f){return u.index=f,t?(f=u.alternate,f!==null?(f=f.index,f<p?(u.flags|=2,p):f):(u.flags|=2,p)):(u.flags|=1048576,p)}function l(u){return t&&u.alternate===null&&(u.flags|=2),u}function o(u,p,f,C){return p===null||p.tag!==6?(p=co(f,u.mode,C),p.return=u,p):(p=n(p,f),p.return=u,p)}function c(u,p,f,C){var L=f.type;return L===Jr?m(u,p,f.props.children,C,f.key):p!==null&&(p.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ms&&$u(L)===p.type)?(C=n(p,f.props),C.ref=Xa(u,p,f),C.return=u,C):(C=qi(f.type,f.key,f.props,null,u.mode,C),C.ref=Xa(u,p,f),C.return=u,C)}function d(u,p,f,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=uo(f,u.mode,C),p.return=u,p):(p=n(p,f.children||[]),p.return=u,p)}function m(u,p,f,C,L){return p===null||p.tag!==7?(p=Rr(f,u.mode,C,L),p.return=u,p):(p=n(p,f),p.return=u,p)}function h(u,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=co(""+p,u.mode,f),p.return=u,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ni:return f=qi(p.type,p.key,p.props,null,u.mode,f),f.ref=Xa(u,null,p),f.return=u,f;case Gr:return p=uo(p,u.mode,f),p.return=u,p;case Ms:var C=p._init;return h(u,C(p._payload),f)}if(nn(p)||Ka(p))return p=Rr(p,u.mode,f,null),p.return=u,p;gi(u,p)}return null}function g(u,p,f,C){var L=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return L!==null?null:o(u,p,""+f,C);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ni:return f.key===L?c(u,p,f,C):null;case Gr:return f.key===L?d(u,p,f,C):null;case Ms:return L=f._init,g(u,p,L(f._payload),C)}if(nn(f)||Ka(f))return L!==null?null:m(u,p,f,C,null);gi(u,f)}return null}function w(u,p,f,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return u=u.get(f)||null,o(p,u,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ni:return u=u.get(C.key===null?f:C.key)||null,c(p,u,C,L);case Gr:return u=u.get(C.key===null?f:C.key)||null,d(p,u,C,L);case Ms:var A=C._init;return w(u,p,f,A(C._payload),L)}if(nn(C)||Ka(C))return u=u.get(f)||null,m(p,u,C,L,null);gi(p,C)}return null}function j(u,p,f,C){for(var L=null,A=null,q=p,S=p=0,b=null;q!==null&&S<f.length;S++){q.index>S?(b=q,q=null):b=q.sibling;var T=g(u,q,f[S],C);if(T===null){q===null&&(q=b);break}t&&q&&T.alternate===null&&s(u,q),p=i(T,p,S),A===null?L=T:A.sibling=T,A=T,q=b}if(S===f.length)return r(u,q),Ae&&gr(u,S),L;if(q===null){for(;S<f.length;S++)q=h(u,f[S],C),q!==null&&(p=i(q,p,S),A===null?L=q:A.sibling=q,A=q);return Ae&&gr(u,S),L}for(q=a(u,q);S<f.length;S++)b=w(q,u,S,f[S],C),b!==null&&(t&&b.alternate!==null&&q.delete(b.key===null?S:b.key),p=i(b,p,S),A===null?L=b:A.sibling=b,A=b);return t&&q.forEach(function(Q){return s(u,Q)}),Ae&&gr(u,S),L}function x(u,p,f,C){var L=Ka(f);if(typeof L!="function")throw Error(X(150));if(f=L.call(f),f==null)throw Error(X(151));for(var A=L=null,q=p,S=p=0,b=null,T=f.next();q!==null&&!T.done;S++,T=f.next()){q.index>S?(b=q,q=null):b=q.sibling;var Q=g(u,q,T.value,C);if(Q===null){q===null&&(q=b);break}t&&q&&Q.alternate===null&&s(u,q),p=i(Q,p,S),A===null?L=Q:A.sibling=Q,A=Q,q=b}if(T.done)return r(u,q),Ae&&gr(u,S),L;if(q===null){for(;!T.done;S++,T=f.next())T=h(u,T.value,C),T!==null&&(p=i(T,p,S),A===null?L=T:A.sibling=T,A=T);return Ae&&gr(u,S),L}for(q=a(u,q);!T.done;S++,T=f.next())T=w(q,u,S,T.value,C),T!==null&&(t&&T.alternate!==null&&q.delete(T.key===null?S:T.key),p=i(T,p,S),A===null?L=T:A.sibling=T,A=T);return t&&q.forEach(function(W){return s(u,W)}),Ae&&gr(u,S),L}function v(u,p,f,C){if(typeof f=="object"&&f!==null&&f.type===Jr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ni:e:{for(var L=f.key,A=p;A!==null;){if(A.key===L){if(L=f.type,L===Jr){if(A.tag===7){r(u,A.sibling),p=n(A,f.props.children),p.return=u,u=p;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ms&&$u(L)===A.type){r(u,A.sibling),p=n(A,f.props),p.ref=Xa(u,A,f),p.return=u,u=p;break e}r(u,A);break}else s(u,A);A=A.sibling}f.type===Jr?(p=Rr(f.props.children,u.mode,C,f.key),p.return=u,u=p):(C=qi(f.type,f.key,f.props,null,u.mode,C),C.ref=Xa(u,p,f),C.return=u,u=C)}return l(u);case Gr:e:{for(A=f.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(u,p.sibling),p=n(p,f.children||[]),p.return=u,u=p;break e}else{r(u,p);break}else s(u,p);p=p.sibling}p=uo(f,u.mode,C),p.return=u,u=p}return l(u);case Ms:return A=f._init,v(u,p,A(f._payload),C)}if(nn(f))return j(u,p,f,C);if(Ka(f))return x(u,p,f,C);gi(u,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(u,p.sibling),p=n(p,f),p.return=u,u=p):(r(u,p),p=co(f,u.mode,C),p.return=u,u=p),l(u)):r(u,p)}return v}var Aa=S0(!0),P0=S0(!1),el=dr(null),tl=null,na=null,od=null;function cd(){od=na=tl=null}function dd(t){var s=el.current;Fe(el),t._currentValue=s}function Qo(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function xa(t,s){tl=t,od=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(bt=!0),t.firstContext=null)}function Bt(t){var s=t._currentValue;if(od!==t)if(t={context:t,memoizedValue:s,next:null},na===null){if(tl===null)throw Error(X(308));na=t,tl.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return s}var vr=null;function ud(t){vr===null?vr=[t]:vr.push(t)}function E0(t,s,r,a){var n=s.interleaved;return n===null?(r.next=r,ud(s)):(r.next=n.next,n.next=r),s.interleaved=r,Ss(t,a)}function Ss(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rs=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function er(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,ye&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Ss(t,r)}return n=a.interleaved,n===null?(s.next=s,ud(a)):(s.next=n.next,n.next=s),a.interleaved=s,Ss(t,r)}function Fi(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Jc(t,r)}}function zu(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function sl(t,s,r,a){var n=t.updateQueue;Rs=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;l=0,m=d=c=null,o=i;do{var g=o.lane,w=o.eventTime;if((a&g)===g){m!==null&&(m=m.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=t,x=o;switch(g=s,w=r,x.tag){case 1:if(j=x.payload,typeof j=="function"){h=j.call(w,h,g);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,g=typeof j=="function"?j.call(w,h,g):j,g==null)break e;h=Te({},h,g);break e;case 2:Rs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=n.effects,g===null?n.effects=[o]:g.push(o))}else w={eventTime:w,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=w,c=h):m=m.next=w,l|=g;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;g=o,o=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);if(m===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=m,s=n.shared.interleaved,s!==null){n=s;do l|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);Dr|=l,t.lanes=l,t.memoizedState=h}}function Du(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(X(191,n));n.call(a)}}}var Jn={},us=dr(Jn),An=dr(Jn),Ln=dr(Jn);function jr(t){if(t===Jn)throw Error(X(174));return t}function hd(t,s){switch(Pe(Ln,s),Pe(An,t),Pe(us,Jn),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:So(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=So(s,t)}Fe(us),Pe(us,s)}function La(){Fe(us),Fe(An),Fe(Ln)}function A0(t){jr(Ln.current);var s=jr(us.current),r=So(s,t.type);s!==r&&(Pe(An,t),Pe(us,r))}function xd(t){An.current===t&&(Fe(us),Fe(An))}var Me=dr(0);function rl(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ro=[];function pd(){for(var t=0;t<ro.length;t++)ro[t]._workInProgressVersionPrimary=null;ro.length=0}var Ai=Es.ReactCurrentDispatcher,ao=Es.ReactCurrentBatchConfig,zr=0,Re=null,Ve=null,Ye=null,al=!1,gn=!1,Mn=0,yf=0;function tt(){throw Error(X(321))}function gd(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Xt(t[r],s[r]))return!1;return!0}function fd(t,s,r,a,n,i){if(zr=i,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ai.current=t===null||t.memoizedState===null?wf:Nf,t=r(a,n),gn){i=0;do{if(gn=!1,Mn=0,25<=i)throw Error(X(301));i+=1,Ye=Ve=null,s.updateQueue=null,Ai.current=_f,t=r(a,n)}while(gn)}if(Ai.current=nl,s=Ve!==null&&Ve.next!==null,zr=0,Ye=Ve=Re=null,al=!1,s)throw Error(X(300));return t}function yd(){var t=Mn!==0;return Mn=0,t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ut(){if(Ve===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var s=Ye===null?Re.memoizedState:Ye.next;if(s!==null)Ye=s,Ve=t;else{if(t===null)throw Error(X(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Rn(t,s){return typeof s=="function"?s(t):s}function no(t){var s=Ut(),r=s.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var a=Ve,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((zr&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:t(a,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=a):c=c.next=h,Re.lanes|=m,Dr|=m}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,Xt(a,s.memoizedState)||(bt=!0),s.memoizedState=a,s.baseState=l,s.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do i=n.lane,Re.lanes|=i,Dr|=i,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function io(t){var s=Ut(),r=s.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var l=n=n.next;do i=t(i,l.action),l=l.next;while(l!==n);Xt(i,s.memoizedState)||(bt=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function L0(){}function M0(t,s){var r=Re,a=Ut(),n=s(),i=!Xt(a.memoizedState,n);if(i&&(a.memoizedState=n,bt=!0),a=a.queue,bd(q0.bind(null,r,a,t),[t]),a.getSnapshot!==s||i||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,Tn(9,T0.bind(null,r,a,n,s),void 0,null),Ge===null)throw Error(X(349));zr&30||R0(r,s,n)}return n}function R0(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Re.updateQueue,s===null?(s={lastEffect:null,stores:null},Re.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function T0(t,s,r,a){s.value=r,s.getSnapshot=a,$0(s)&&z0(t)}function q0(t,s,r){return r(function(){$0(s)&&z0(t)})}function $0(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Xt(t,r)}catch{return!0}}function z0(t){var s=Ss(t,1);s!==null&&Zt(s,t,1,-1)}function Ou(t){var s=as();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:t},s.queue=t,t=t.dispatch=jf.bind(null,Re,t),[s.memoizedState,t]}function Tn(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=Re.updateQueue,s===null?(s={lastEffect:null,stores:null},Re.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function D0(){return Ut().memoizedState}function Li(t,s,r,a){var n=as();Re.flags|=t,n.memoizedState=Tn(1|s,r,void 0,a===void 0?null:a)}function Nl(t,s,r,a){var n=Ut();a=a===void 0?null:a;var i=void 0;if(Ve!==null){var l=Ve.memoizedState;if(i=l.destroy,a!==null&&gd(a,l.deps)){n.memoizedState=Tn(s,r,i,a);return}}Re.flags|=t,n.memoizedState=Tn(1|s,r,i,a)}function Iu(t,s){return Li(8390656,8,t,s)}function bd(t,s){return Nl(2048,8,t,s)}function O0(t,s){return Nl(4,2,t,s)}function I0(t,s){return Nl(4,4,t,s)}function B0(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function U0(t,s,r){return r=r!=null?r.concat([t]):null,Nl(4,4,B0.bind(null,s,t),r)}function vd(){}function W0(t,s){var r=Ut();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&gd(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function V0(t,s){var r=Ut();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&gd(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function H0(t,s,r){return zr&21?(Xt(r,s)||(r=Jh(),Re.lanes|=r,Dr|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=r)}function bf(t,s){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var a=ao.transition;ao.transition={};try{t(!1),s()}finally{ke=r,ao.transition=a}}function Q0(){return Ut().memoizedState}function vf(t,s,r){var a=sr(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},K0(t))Y0(s,r);else if(r=E0(t,s,r,a),r!==null){var n=mt();Zt(r,t,a,n),G0(r,s,a)}}function jf(t,s,r){var a=sr(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(K0(t))Y0(s,n);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(n.hasEagerState=!0,n.eagerState=o,Xt(o,l)){var c=s.interleaved;c===null?(n.next=n,ud(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=E0(t,s,n,a),r!==null&&(n=mt(),Zt(r,t,a,n),G0(r,s,a))}}function K0(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function Y0(t,s){gn=al=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function G0(t,s,r){if(r&4194240){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Jc(t,r)}}var nl={readContext:Bt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},wf={readContext:Bt,useCallback:function(t,s){return as().memoizedState=[t,s===void 0?null:s],t},useContext:Bt,useEffect:Iu,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Li(4194308,4,B0.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Li(4194308,4,t,s)},useInsertionEffect:function(t,s){return Li(4,2,t,s)},useMemo:function(t,s){var r=as();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=as();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=vf.bind(null,Re,t),[a.memoizedState,t]},useRef:function(t){var s=as();return t={current:t},s.memoizedState=t},useState:Ou,useDebugValue:vd,useDeferredValue:function(t){return as().memoizedState=t},useTransition:function(){var t=Ou(!1),s=t[0];return t=bf.bind(null,t[1]),as().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=Re,n=as();if(Ae){if(r===void 0)throw Error(X(407));r=r()}else{if(r=s(),Ge===null)throw Error(X(349));zr&30||R0(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,Iu(q0.bind(null,a,i,t),[t]),a.flags|=2048,Tn(9,T0.bind(null,a,i,r,s),void 0,null),r},useId:function(){var t=as(),s=Ge.identifierPrefix;if(Ae){var r=vs,a=bs;r=(a&~(1<<32-Jt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Mn++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=yf++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Nf={readContext:Bt,useCallback:W0,useContext:Bt,useEffect:bd,useImperativeHandle:U0,useInsertionEffect:O0,useLayoutEffect:I0,useMemo:V0,useReducer:no,useRef:D0,useState:function(){return no(Rn)},useDebugValue:vd,useDeferredValue:function(t){var s=Ut();return H0(s,Ve.memoizedState,t)},useTransition:function(){var t=no(Rn)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:L0,useSyncExternalStore:M0,useId:Q0,unstable_isNewReconciler:!1},_f={readContext:Bt,useCallback:W0,useContext:Bt,useEffect:bd,useImperativeHandle:U0,useInsertionEffect:O0,useLayoutEffect:I0,useMemo:V0,useReducer:io,useRef:D0,useState:function(){return io(Rn)},useDebugValue:vd,useDeferredValue:function(t){var s=Ut();return Ve===null?s.memoizedState=t:H0(s,Ve.memoizedState,t)},useTransition:function(){var t=io(Rn)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:L0,useSyncExternalStore:M0,useId:Q0,unstable_isNewReconciler:!1};function Ht(t,s){if(t&&t.defaultProps){s=Te({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Ko(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:Te({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _l={isMounted:function(t){return(t=t._reactInternals)?Qr(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=mt(),n=sr(t),i=Ns(a,n);i.payload=s,r!=null&&(i.callback=r),s=er(t,i,n),s!==null&&(Zt(s,t,n,a),Fi(s,t,n))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=mt(),n=sr(t),i=Ns(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=er(t,i,n),s!==null&&(Zt(s,t,n,a),Fi(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=mt(),a=sr(t),n=Ns(r,a);n.tag=2,s!=null&&(n.callback=s),s=er(t,n,a),s!==null&&(Zt(s,t,a,r),Fi(s,t,a))}};function Bu(t,s,r,a,n,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,l):s.prototype&&s.prototype.isPureReactComponent?!Sn(r,a)||!Sn(n,i):!0}function J0(t,s,r){var a=!1,n=or,i=s.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(n=jt(s)?qr:it.current,a=s.contextTypes,i=(a=a!=null)?Ea(t,n):or),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_l,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),s}function Uu(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&_l.enqueueReplaceState(s,s.state,null)}function Yo(t,s,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},md(t);var i=s.contextType;typeof i=="object"&&i!==null?n.context=Bt(i):(i=jt(s)?qr:it.current,n.context=Ea(t,i)),n.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Ko(t,s,i,r),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&_l.enqueueReplaceState(n,n.state,null),sl(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,s){try{var r="",a=s;do r+=Jp(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:n,digest:null}}function lo(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Go(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var kf=typeof WeakMap=="function"?WeakMap:Map;function Z0(t,s,r){r=Ns(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){ll||(ll=!0,ic=a),Go(t,s)},r}function X0(t,s,r){r=Ns(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Go(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Go(t,s),typeof a!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function Wu(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new kf;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),t=Df.bind(null,t,s,r),s.then(t,t))}function Vu(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Hu(t,s,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ns(-1,1),s.tag=2,er(r,s,1))),r.lanes|=1),t)}var Cf=Es.ReactCurrentOwner,bt=!1;function dt(t,s,r,a){s.child=t===null?P0(s,null,r,a):Aa(s,t.child,r,a)}function Qu(t,s,r,a,n){r=r.render;var i=s.ref;return xa(s,n),a=fd(t,s,r,a,i,n),r=yd(),t!==null&&!bt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ps(t,s,n)):(Ae&&r&&nd(s),s.flags|=1,dt(t,s,a,n),s.child)}function Ku(t,s,r,a,n){if(t===null){var i=r.type;return typeof i=="function"&&!Pd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,ex(t,s,i,a,n)):(t=qi(r.type,null,a,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&n)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Sn,r(l,a)&&t.ref===s.ref)return Ps(t,s,n)}return s.flags|=1,t=rr(i,a),t.ref=s.ref,t.return=s,s.child=t}function ex(t,s,r,a,n){if(t!==null){var i=t.memoizedProps;if(Sn(i,a)&&t.ref===s.ref)if(bt=!1,s.pendingProps=a=i,(t.lanes&n)!==0)t.flags&131072&&(bt=!0);else return s.lanes=t.lanes,Ps(t,s,n)}return Jo(t,s,r,a,n)}function tx(t,s,r){var a=s.pendingProps,n=a.children,i=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(la,Ct),Ct|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Pe(la,Ct),Ct|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Pe(la,Ct),Ct|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,Pe(la,Ct),Ct|=a;return dt(t,s,n,r),s.child}function sx(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Jo(t,s,r,a,n){var i=jt(r)?qr:it.current;return i=Ea(s,i),xa(s,n),r=fd(t,s,r,a,i,n),a=yd(),t!==null&&!bt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ps(t,s,n)):(Ae&&a&&nd(s),s.flags|=1,dt(t,s,r,n),s.child)}function Yu(t,s,r,a,n){if(jt(r)){var i=!0;Ji(s)}else i=!1;if(xa(s,n),s.stateNode===null)Mi(t,s),J0(s,r,a),Yo(s,r,a,n),a=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=jt(r)?qr:it.current,d=Ea(s,d));var m=r.getDerivedStateFromProps,h=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&Uu(s,l,a,d),Rs=!1;var g=s.memoizedState;l.state=g,sl(s,a,l,n),c=s.memoizedState,o!==a||g!==c||vt.current||Rs?(typeof m=="function"&&(Ko(s,r,m,a),c=s.memoizedState),(o=Rs||Bu(s,r,o,a,g,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{l=s.stateNode,F0(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Ht(s.type,o),l.props=d,h=s.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=jt(r)?qr:it.current,c=Ea(s,c));var w=r.getDerivedStateFromProps;(m=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||g!==c)&&Uu(s,l,a,c),Rs=!1,g=s.memoizedState,l.state=g,sl(s,a,l,n);var j=s.memoizedState;o!==h||g!==j||vt.current||Rs?(typeof w=="function"&&(Ko(s,r,w,a),j=s.memoizedState),(d=Rs||Bu(s,r,d,a,g,j,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,j,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=j),l.props=a,l.state=j,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),a=!1)}return Zo(t,s,r,a,i,n)}function Zo(t,s,r,a,n,i){sx(t,s);var l=(s.flags&128)!==0;if(!a&&!l)return n&&Ru(s,r,!1),Ps(t,s,i);a=s.stateNode,Cf.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&l?(s.child=Aa(s,t.child,null,i),s.child=Aa(s,null,o,i)):dt(t,s,o,i),s.memoizedState=a.state,n&&Ru(s,r,!0),s.child}function rx(t){var s=t.stateNode;s.pendingContext?Mu(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Mu(t,s.context,!1),hd(t,s.containerInfo)}function Gu(t,s,r,a,n){return Fa(),ld(n),s.flags|=256,dt(t,s,r,a),s.child}var Xo={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function ax(t,s,r){var a=s.pendingProps,n=Me.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Pe(Me,n&1),t===null)return Ho(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=a.children,t=a.fallback,i?(a=s.mode,i=s.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Sl(l,a,0,null),t=Rr(t,a,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=ec(r),s.memoizedState=Xo,t):jd(s,l));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return Sf(t,s,l,a,o,n,r);if(i){i=a.fallback,l=s.mode,n=t.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=rr(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=rr(o,i):(i=Rr(i,l,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,l=t.child.memoizedState,l=l===null?ec(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=Xo,a}return i=t.child,t=i.sibling,a=rr(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function jd(t,s){return s=Sl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function fi(t,s,r,a){return a!==null&&ld(a),Aa(s,t.child,null,r),t=jd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Sf(t,s,r,a,n,i,l){if(r)return s.flags&256?(s.flags&=-257,a=lo(Error(X(422))),fi(t,s,l,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=Sl({mode:"visible",children:a.children},n,0,null),i=Rr(i,n,l,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&Aa(s,t.child,null,l),s.child.memoizedState=ec(l),s.memoizedState=Xo,i);if(!(s.mode&1))return fi(t,s,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(X(419)),a=lo(i,a,void 0),fi(t,s,l,a)}if(o=(l&t.childLanes)!==0,bt||o){if(a=Ge,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Ss(t,n),Zt(a,t,n,-1))}return Sd(),a=lo(Error(X(421))),fi(t,s,l,a)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=Of.bind(null,t),n._reactRetry=s,null):(t=i.treeContext,St=Xs(n.nextSibling),Pt=s,Ae=!0,Gt=null,t!==null&&($t[zt++]=bs,$t[zt++]=vs,$t[zt++]=$r,bs=t.id,vs=t.overflow,$r=s),s=jd(s,a.children),s.flags|=4096,s)}function Ju(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),Qo(t.return,s,r)}function oo(t,s,r,a,n){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function nx(t,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(dt(t,s,a.children,r),a=Me.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,r,s);else if(t.tag===19)Ju(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Pe(Me,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)t=r.alternate,t!==null&&rl(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),oo(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&rl(t)===null){s.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}oo(s,!0,r,null,i);break;case"together":oo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mi(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Ps(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Dr|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(X(153));if(s.child!==null){for(t=s.child,r=rr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=rr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Pf(t,s,r){switch(s.tag){case 3:rx(s),Fa();break;case 5:A0(s);break;case 1:jt(s.type)&&Ji(s);break;case 4:hd(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;Pe(el,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Pe(Me,Me.current&1),s.flags|=128,null):r&s.child.childLanes?ax(t,s,r):(Pe(Me,Me.current&1),t=Ps(t,s,r),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(a=(r&s.childLanes)!==0,t.flags&128){if(a)return nx(t,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Pe(Me,Me.current),a)break;return null;case 22:case 23:return s.lanes=0,tx(t,s,r)}return Ps(t,s,r)}var ix,tc,lx,ox;ix=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tc=function(){};lx=function(t,s,r,a){var n=t.memoizedProps;if(n!==a){t=s.stateNode,jr(us.current);var i=null;switch(r){case"input":n=No(t,n),a=No(t,a),i=[];break;case"select":n=Te({},n,{value:void 0}),a=Te({},a,{value:void 0}),i=[];break;case"textarea":n=Co(t,n),a=Co(t,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Yi)}Po(r,a);var l;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};ox=function(t,s,r,a){r!==a&&(s.flags|=4)};function en(t,s){if(!Ae)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function st(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function Ef(t,s,r){var a=s.pendingProps;switch(id(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return jt(s.type)&&Gi(),st(s),null;case 3:return a=s.stateNode,La(),Fe(vt),Fe(it),pd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pi(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gt!==null&&(cc(Gt),Gt=null))),tc(t,s),st(s),null;case 5:xd(s);var n=jr(Ln.current);if(r=s.type,t!==null&&s.stateNode!=null)lx(t,s,r,a,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(X(166));return st(s),null}if(t=jr(us.current),pi(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[os]=s,a[Fn]=i,t=(s.mode&1)!==0,r){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(n=0;n<on.length;n++)Ee(on[n],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":iu(a,i),Ee("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",a);break;case"textarea":ou(a,i),Ee("invalid",a)}Po(r,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&xi(a.textContent,o,t),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&xi(a.textContent,o,t),n=["children",""+o]):vn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ee("scroll",a)}switch(r){case"input":ii(a),lu(a,i,!0);break;case"textarea":ii(a),cu(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Yi)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=l.createElement(r,{is:a.is}):(t=l.createElement(r),r==="select"&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,r),t[os]=s,t[Fn]=a,ix(t,s,!1,!1),s.stateNode=t;e:{switch(l=Eo(r,a),r){case"dialog":Ee("cancel",t),Ee("close",t),n=a;break;case"iframe":case"object":case"embed":Ee("load",t),n=a;break;case"video":case"audio":for(n=0;n<on.length;n++)Ee(on[n],t);n=a;break;case"source":Ee("error",t),n=a;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),n=a;break;case"details":Ee("toggle",t),n=a;break;case"input":iu(t,a),n=No(t,a),Ee("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=Te({},a,{value:void 0}),Ee("invalid",t);break;case"textarea":ou(t,a),n=Co(t,a),Ee("invalid",t);break;default:n=a}Po(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Dh(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$h(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jn(t,c):typeof c=="number"&&jn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",t):c!=null&&Vc(t,i,c,l))}switch(r){case"input":ii(t),lu(t,a,!1);break;case"textarea":ii(t),cu(t);break;case"option":a.value!=null&&t.setAttribute("value",""+lr(a.value));break;case"select":t.multiple=!!a.multiple,i=a.value,i!=null?da(t,!!a.multiple,i,!1):a.defaultValue!=null&&da(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Yi)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(t&&s.stateNode!=null)ox(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(X(166));if(r=jr(Ln.current),jr(us.current),pi(s)){if(a=s.stateNode,r=s.memoizedProps,a[os]=s,(i=a.nodeValue!==r)&&(t=Pt,t!==null))switch(t.tag){case 3:xi(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xi(a.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[os]=s,s.stateNode=a}return st(s),null;case 13:if(Fe(Me),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&St!==null&&s.mode&1&&!(s.flags&128))C0(),Fa(),s.flags|=98560,i=!1;else if(i=pi(s),a!==null&&a.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[os]=s}else Fa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;st(s),i=!1}else Gt!==null&&(cc(Gt),Gt=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||Me.current&1?Qe===0&&(Qe=3):Sd())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return La(),tc(t,s),t===null&&Pn(s.stateNode.containerInfo),st(s),null;case 10:return dd(s.type._context),st(s),null;case 17:return jt(s.type)&&Gi(),st(s),null;case 19:if(Fe(Me),i=s.memoizedState,i===null)return st(s),null;if(a=(s.flags&128)!==0,l=i.rendering,l===null)if(a)en(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=rl(t),l!==null){for(s.flags|=128,en(i,!1),a=l.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,t=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Pe(Me,Me.current&1|2),s.child}t=t.sibling}i.tail!==null&&Oe()>Ra&&(s.flags|=128,a=!0,en(i,!1),s.lanes=4194304)}else{if(!a)if(t=rl(l),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),en(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ae)return st(s),null}else 2*Oe()-i.renderingStartTime>Ra&&r!==1073741824&&(s.flags|=128,a=!0,en(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Oe(),s.sibling=null,r=Me.current,Pe(Me,a?r&1|2:r&1),s):(st(s),null);case 22:case 23:return Cd(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Ct&1073741824&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(X(156,s.tag))}function Ff(t,s){switch(id(s),s.tag){case 1:return jt(s.type)&&Gi(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return La(),Fe(vt),Fe(it),pd(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return xd(s),null;case 13:if(Fe(Me),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(X(340));Fa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Fe(Me),null;case 4:return La(),null;case 10:return dd(s.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var yi=!1,rt=!1,Af=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ia(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){$e(t,s,a)}else r.current=null}function sc(t,s,r){try{r()}catch(a){$e(t,s,a)}}var Zu=!1;function Lf(t,s){if(Do=Hi,t=h0(),ad(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,m=0,h=t,g=null;t:for(;;){for(var w;h!==r||n!==0&&h.nodeType!==3||(o=l+n),h!==i||a!==0&&h.nodeType!==3||(c=l+a),h.nodeType===3&&(l+=h.nodeValue.length),(w=h.firstChild)!==null;)g=h,h=w;for(;;){if(h===t)break t;if(g===r&&++d===n&&(o=l),g===i&&++m===a&&(c=l),(w=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=w}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:t,selectionRange:r},Hi=!1,ae=s;ae!==null;)if(s=ae,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ae=t;else for(;ae!==null;){s=ae;try{var j=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,v=j.memoizedState,u=s.stateNode,p=u.getSnapshotBeforeUpdate(s.elementType===s.type?x:Ht(s.type,x),v);u.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=s.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(C){$e(s,s.return,C)}if(t=s.sibling,t!==null){t.return=s.return,ae=t;break}ae=s.return}return j=Zu,Zu=!1,j}function fn(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,i!==void 0&&sc(s,r,i)}n=n.next}while(n!==a)}}function kl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function rc(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function cx(t){var s=t.alternate;s!==null&&(t.alternate=null,cx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[os],delete s[Fn],delete s[Uo],delete s[xf],delete s[pf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dx(t){return t.tag===5||t.tag===3||t.tag===4}function Xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ac(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Yi));else if(a!==4&&(t=t.child,t!==null))for(ac(t,s,r),t=t.sibling;t!==null;)ac(t,s,r),t=t.sibling}function nc(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(nc(t,s,r),t=t.sibling;t!==null;)nc(t,s,r),t=t.sibling}var Ze=null,Yt=!1;function As(t,s,r){for(r=r.child;r!==null;)ux(t,s,r),r=r.sibling}function ux(t,s,r){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(fl,r)}catch{}switch(r.tag){case 5:rt||ia(r,s);case 6:var a=Ze,n=Yt;Ze=null,As(t,s,r),Ze=a,Yt=n,Ze!==null&&(Yt?(t=Ze,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Yt?(t=Ze,r=r.stateNode,t.nodeType===8?to(t.parentNode,r):t.nodeType===1&&to(t,r),kn(t)):to(Ze,r.stateNode));break;case 4:a=Ze,n=Yt,Ze=r.stateNode.containerInfo,Yt=!0,As(t,s,r),Ze=a,Yt=n;break;case 0:case 11:case 14:case 15:if(!rt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&sc(r,s,l),n=n.next}while(n!==a)}As(t,s,r);break;case 1:if(!rt&&(ia(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){$e(r,s,o)}As(t,s,r);break;case 21:As(t,s,r);break;case 22:r.mode&1?(rt=(a=rt)||r.memoizedState!==null,As(t,s,r),rt=a):As(t,s,r);break;default:As(t,s,r)}}function em(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Af),s.forEach(function(a){var n=If.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function Vt(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ze=o.stateNode,Yt=!1;break e;case 3:Ze=o.stateNode.containerInfo,Yt=!0;break e;case 4:Ze=o.stateNode.containerInfo,Yt=!0;break e}o=o.return}if(Ze===null)throw Error(X(160));ux(i,l,n),Ze=null,Yt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){$e(n,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)mx(s,t),s=s.sibling}function mx(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(s,t),ss(t),a&4){try{fn(3,t,t.return),kl(3,t)}catch(x){$e(t,t.return,x)}try{fn(5,t,t.return)}catch(x){$e(t,t.return,x)}}break;case 1:Vt(s,t),ss(t),a&512&&r!==null&&ia(r,r.return);break;case 5:if(Vt(s,t),ss(t),a&512&&r!==null&&ia(r,r.return),t.flags&32){var n=t.stateNode;try{jn(n,"")}catch(x){$e(t,t.return,x)}}if(a&4&&(n=t.stateNode,n!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Rh(n,i),Eo(o,l);var d=Eo(o,i);for(l=0;l<c.length;l+=2){var m=c[l],h=c[l+1];m==="style"?Dh(n,h):m==="dangerouslySetInnerHTML"?$h(n,h):m==="children"?jn(n,h):Vc(n,m,h,d)}switch(o){case"input":_o(n,i);break;case"textarea":Th(n,i);break;case"select":var g=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?da(n,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?da(n,!!i.multiple,i.defaultValue,!0):da(n,!!i.multiple,i.multiple?[]:"",!1))}n[Fn]=i}catch(x){$e(t,t.return,x)}}break;case 6:if(Vt(s,t),ss(t),a&4){if(t.stateNode===null)throw Error(X(162));n=t.stateNode,i=t.memoizedProps;try{n.nodeValue=i}catch(x){$e(t,t.return,x)}}break;case 3:if(Vt(s,t),ss(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(s.containerInfo)}catch(x){$e(t,t.return,x)}break;case 4:Vt(s,t),ss(t);break;case 13:Vt(s,t),ss(t),n=t.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(_d=Oe())),a&4&&em(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(rt=(d=rt)||m,Vt(s,t),rt=d):Vt(s,t),ss(t),a&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(ae=t,m=t.child;m!==null;){for(h=ae=m;ae!==null;){switch(g=ae,w=g.child,g.tag){case 0:case 11:case 14:case 15:fn(4,g,g.return);break;case 1:ia(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){a=g,r=g.return;try{s=a,j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(x){$e(a,r,x)}}break;case 5:ia(g,g.return);break;case 22:if(g.memoizedState!==null){sm(h);continue}}w!==null?(w.return=g,ae=w):sm(h)}m=m.sibling}e:for(m=null,h=t;;){if(h.tag===5){if(m===null){m=h;try{n=h.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=zh("display",l))}catch(x){$e(t,t.return,x)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){$e(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vt(s,t),ss(t),a&4&&em(t);break;case 21:break;default:Vt(s,t),ss(t)}}function ss(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(dx(r)){var a=r;break e}r=r.return}throw Error(X(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(jn(n,""),a.flags&=-33);var i=Xu(t);nc(t,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=Xu(t);ac(t,o,l);break;default:throw Error(X(161))}}catch(c){$e(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Mf(t,s,r){ae=t,hx(t)}function hx(t,s,r){for(var a=(t.mode&1)!==0;ae!==null;){var n=ae,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||yi;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||rt;o=yi;var d=rt;if(yi=l,(rt=c)&&!d)for(ae=n;ae!==null;)l=ae,c=l.child,l.tag===22&&l.memoizedState!==null?rm(n):c!==null?(c.return=l,ae=c):rm(n);for(;i!==null;)ae=i,hx(i),i=i.sibling;ae=n,yi=o,rt=d}tm(t)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ae=i):tm(t)}}function tm(t){for(;ae!==null;){var s=ae;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:rt||kl(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!rt)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:Ht(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Du(s,i,a);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Du(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&kn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}rt||s.flags&512&&rc(s)}catch(g){$e(s,s.return,g)}}if(s===t){ae=null;break}if(r=s.sibling,r!==null){r.return=s.return,ae=r;break}ae=s.return}}function sm(t){for(;ae!==null;){var s=ae;if(s===t){ae=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ae=r;break}ae=s.return}}function rm(t){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{kl(4,s)}catch(c){$e(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){$e(s,n,c)}}var i=s.return;try{rc(s)}catch(c){$e(s,i,c)}break;case 5:var l=s.return;try{rc(s)}catch(c){$e(s,l,c)}}}catch(c){$e(s,s.return,c)}if(s===t){ae=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ae=o;break}ae=s.return}}var Rf=Math.ceil,il=Es.ReactCurrentDispatcher,wd=Es.ReactCurrentOwner,It=Es.ReactCurrentBatchConfig,ye=0,Ge=null,Ue=null,Xe=0,Ct=0,la=dr(0),Qe=0,qn=null,Dr=0,Cl=0,Nd=0,yn=null,yt=null,_d=0,Ra=1/0,hs=null,ll=!1,ic=null,tr=null,bi=!1,Qs=null,ol=0,bn=0,lc=null,Ri=-1,Ti=0;function mt(){return ye&6?Oe():Ri!==-1?Ri:Ri=Oe()}function sr(t){return t.mode&1?ye&2&&Xe!==0?Xe&-Xe:ff.transition!==null?(Ti===0&&(Ti=Jh()),Ti):(t=ke,t!==0||(t=window.event,t=t===void 0?16:a0(t.type)),t):1}function Zt(t,s,r,a){if(50<bn)throw bn=0,lc=null,Error(X(185));Kn(t,r,a),(!(ye&2)||t!==Ge)&&(t===Ge&&(!(ye&2)&&(Cl|=r),Qe===4&&qs(t,Xe)),wt(t,a),r===1&&ye===0&&!(s.mode&1)&&(Ra=Oe()+500,wl&&ur()))}function wt(t,s){var r=t.callbackNode;gg(t,s);var a=Vi(t,t===Ge?Xe:0);if(a===0)r!==null&&mu(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&mu(r),s===1)t.tag===0?gf(am.bind(null,t)):N0(am.bind(null,t)),mf(function(){!(ye&6)&&ur()}),r=null;else{switch(Zh(a)){case 1:r=Gc;break;case 4:r=Yh;break;case 16:r=Wi;break;case 536870912:r=Gh;break;default:r=Wi}r=jx(r,xx.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function xx(t,s){if(Ri=-1,Ti=0,ye&6)throw Error(X(327));var r=t.callbackNode;if(pa()&&t.callbackNode!==r)return null;var a=Vi(t,t===Ge?Xe:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=cl(t,a);else{s=a;var n=ye;ye|=2;var i=gx();(Ge!==t||Xe!==s)&&(hs=null,Ra=Oe()+500,Mr(t,s));do try{$f();break}catch(o){px(t,o)}while(!0);cd(),il.current=i,ye=n,Ue!==null?s=0:(Ge=null,Xe=0,s=Qe)}if(s!==0){if(s===2&&(n=Ro(t),n!==0&&(a=n,s=oc(t,n))),s===1)throw r=qn,Mr(t,0),qs(t,a),wt(t,Oe()),r;if(s===6)qs(t,a);else{if(n=t.current.alternate,!(a&30)&&!Tf(n)&&(s=cl(t,a),s===2&&(i=Ro(t),i!==0&&(a=i,s=oc(t,i))),s===1))throw r=qn,Mr(t,0),qs(t,a),wt(t,Oe()),r;switch(t.finishedWork=n,t.finishedLanes=a,s){case 0:case 1:throw Error(X(345));case 2:fr(t,yt,hs);break;case 3:if(qs(t,a),(a&130023424)===a&&(s=_d+500-Oe(),10<s)){if(Vi(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){mt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Bo(fr.bind(null,t,yt,hs),s);break}fr(t,yt,hs);break;case 4:if(qs(t,a),(a&4194240)===a)break;for(s=t.eventTimes,n=-1;0<a;){var l=31-Jt(a);i=1<<l,l=s[l],l>n&&(n=l),a&=~i}if(a=n,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Rf(a/1960))-a,10<a){t.timeoutHandle=Bo(fr.bind(null,t,yt,hs),a);break}fr(t,yt,hs);break;case 5:fr(t,yt,hs);break;default:throw Error(X(329))}}}return wt(t,Oe()),t.callbackNode===r?xx.bind(null,t):null}function oc(t,s){var r=yn;return t.current.memoizedState.isDehydrated&&(Mr(t,s).flags|=256),t=cl(t,s),t!==2&&(s=yt,yt=r,s!==null&&cc(s)),t}function cc(t){yt===null?yt=t:yt.push.apply(yt,t)}function Tf(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Xt(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qs(t,s){for(s&=~Nd,s&=~Cl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Jt(s),a=1<<r;t[r]=-1,s&=~a}}function am(t){if(ye&6)throw Error(X(327));pa();var s=Vi(t,0);if(!(s&1))return wt(t,Oe()),null;var r=cl(t,s);if(t.tag!==0&&r===2){var a=Ro(t);a!==0&&(s=a,r=oc(t,a))}if(r===1)throw r=qn,Mr(t,0),qs(t,s),wt(t,Oe()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,fr(t,yt,hs),wt(t,Oe()),null}function kd(t,s){var r=ye;ye|=1;try{return t(s)}finally{ye=r,ye===0&&(Ra=Oe()+500,wl&&ur())}}function Or(t){Qs!==null&&Qs.tag===0&&!(ye&6)&&pa();var s=ye;ye|=1;var r=It.transition,a=ke;try{if(It.transition=null,ke=1,t)return t()}finally{ke=a,It.transition=r,ye=s,!(ye&6)&&ur()}}function Cd(){Ct=la.current,Fe(la)}function Mr(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uf(r)),Ue!==null)for(r=Ue.return;r!==null;){var a=r;switch(id(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gi();break;case 3:La(),Fe(vt),Fe(it),pd();break;case 5:xd(a);break;case 4:La();break;case 13:Fe(Me);break;case 19:Fe(Me);break;case 10:dd(a.type._context);break;case 22:case 23:Cd()}r=r.return}if(Ge=t,Ue=t=rr(t.current,null),Xe=Ct=s,Qe=0,qn=null,Nd=Cl=Dr=0,yt=yn=null,vr!==null){for(s=0;s<vr.length;s++)if(r=vr[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}r.pending=a}vr=null}return t}function px(t,s){do{var r=Ue;try{if(cd(),Ai.current=nl,al){for(var a=Re.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}al=!1}if(zr=0,Ye=Ve=Re=null,gn=!1,Mn=0,wd.current=null,r===null||r.return===null){Qe=1,qn=s,Ue=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=Xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Vu(l);if(w!==null){w.flags&=-257,Hu(w,l,o,i,s),w.mode&1&&Wu(i,d,s),s=w,c=d;var j=s.updateQueue;if(j===null){var x=new Set;x.add(c),s.updateQueue=x}else j.add(c);break e}else{if(!(s&1)){Wu(i,d,s),Sd();break e}c=Error(X(426))}}else if(Ae&&o.mode&1){var v=Vu(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Hu(v,l,o,i,s),ld(Ma(c,o));break e}}i=c=Ma(c,o),Qe!==4&&(Qe=2),yn===null?yn=[i]:yn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var u=Z0(i,c,s);zu(i,u);break e;case 1:o=c;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f)))){i.flags|=65536,s&=-s,i.lanes|=s;var C=X0(i,o,s);zu(i,C);break e}}i=i.return}while(i!==null)}yx(r)}catch(L){s=L,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function gx(){var t=il.current;return il.current=nl,t===null?nl:t}function Sd(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ge===null||!(Dr&268435455)&&!(Cl&268435455)||qs(Ge,Xe)}function cl(t,s){var r=ye;ye|=2;var a=gx();(Ge!==t||Xe!==s)&&(hs=null,Mr(t,s));do try{qf();break}catch(n){px(t,n)}while(!0);if(cd(),ye=r,il.current=a,Ue!==null)throw Error(X(261));return Ge=null,Xe=0,Qe}function qf(){for(;Ue!==null;)fx(Ue)}function $f(){for(;Ue!==null&&!lg();)fx(Ue)}function fx(t){var s=vx(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,s===null?yx(t):Ue=s,wd.current=null}function yx(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Ff(r,s),r!==null){r.flags&=32767,Ue=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ue=null;return}}else if(r=Ef(r,s,Ct),r!==null){Ue=r;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=t}while(s!==null);Qe===0&&(Qe=5)}function fr(t,s,r){var a=ke,n=It.transition;try{It.transition=null,ke=1,zf(t,s,r,a)}finally{It.transition=n,ke=a}return null}function zf(t,s,r,a){do pa();while(Qs!==null);if(ye&6)throw Error(X(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(fg(t,i),t===Ge&&(Ue=Ge=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bi||(bi=!0,jx(Wi,function(){return pa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=It.transition,It.transition=null;var l=ke;ke=1;var o=ye;ye|=4,wd.current=null,Lf(t,r),mx(r,t),rf(Oo),Hi=!!Do,Oo=Do=null,t.current=r,Mf(r),og(),ye=o,ke=l,It.transition=i}else t.current=r;if(bi&&(bi=!1,Qs=t,ol=n),i=t.pendingLanes,i===0&&(tr=null),ug(r.stateNode),wt(t,Oe()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(ll)throw ll=!1,t=ic,ic=null,t;return ol&1&&t.tag!==0&&pa(),i=t.pendingLanes,i&1?t===lc?bn++:(bn=0,lc=t):bn=0,ur(),null}function pa(){if(Qs!==null){var t=Zh(ol),s=It.transition,r=ke;try{if(It.transition=null,ke=16>t?16:t,Qs===null)var a=!1;else{if(t=Qs,Qs=null,ol=0,ye&6)throw Error(X(331));var n=ye;for(ye|=4,ae=t.current;ae!==null;){var i=ae,l=i.child;if(ae.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ae=d;ae!==null;){var m=ae;switch(m.tag){case 0:case 11:case 15:fn(8,m,i)}var h=m.child;if(h!==null)h.return=m,ae=h;else for(;ae!==null;){m=ae;var g=m.sibling,w=m.return;if(cx(m),m===d){ae=null;break}if(g!==null){g.return=w,ae=g;break}ae=w}}}var j=i.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ae=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ae=l;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fn(9,i,i.return)}var u=i.sibling;if(u!==null){u.return=i.return,ae=u;break e}ae=i.return}}var p=t.current;for(ae=p;ae!==null;){l=ae;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,ae=f;else e:for(l=p;ae!==null;){if(o=ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kl(9,o)}}catch(L){$e(o,o.return,L)}if(o===l){ae=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,ae=C;break e}ae=o.return}}if(ye=n,ur(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(fl,t)}catch{}a=!0}return a}finally{ke=r,It.transition=s}}return!1}function nm(t,s,r){s=Ma(r,s),s=Z0(t,s,1),t=er(t,s,1),s=mt(),t!==null&&(Kn(t,1,s),wt(t,s))}function $e(t,s,r){if(t.tag===3)nm(t,t,r);else for(;s!==null;){if(s.tag===3){nm(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(tr===null||!tr.has(a))){t=Ma(r,t),t=X0(s,t,1),s=er(s,t,1),t=mt(),s!==null&&(Kn(s,1,t),wt(s,t));break}}s=s.return}}function Df(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=mt(),t.pingedLanes|=t.suspendedLanes&r,Ge===t&&(Xe&r)===r&&(Qe===4||Qe===3&&(Xe&130023424)===Xe&&500>Oe()-_d?Mr(t,0):Nd|=r),wt(t,s)}function bx(t,s){s===0&&(t.mode&1?(s=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):s=1);var r=mt();t=Ss(t,s),t!==null&&(Kn(t,s,r),wt(t,r))}function Of(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),bx(t,r)}function If(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(X(314))}a!==null&&a.delete(s),bx(t,r)}var vx;vx=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||vt.current)bt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return bt=!1,Pf(t,s,r);bt=!!(t.flags&131072)}else bt=!1,Ae&&s.flags&1048576&&_0(s,Xi,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Mi(t,s),t=s.pendingProps;var n=Ea(s,it.current);xa(s,r),n=fd(null,s,a,t,n,r);var i=yd();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,jt(a)?(i=!0,Ji(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,md(s),n.updater=_l,s.stateNode=n,n._reactInternals=s,Yo(s,a,t,r),s=Zo(null,s,a,!0,i,r)):(s.tag=0,Ae&&i&&nd(s),dt(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Mi(t,s),t=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Uf(a),t=Ht(a,t),n){case 0:s=Jo(null,s,a,t,r);break e;case 1:s=Yu(null,s,a,t,r);break e;case 11:s=Qu(null,s,a,t,r);break e;case 14:s=Ku(null,s,a,Ht(a.type,t),r);break e}throw Error(X(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ht(a,n),Jo(t,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ht(a,n),Yu(t,s,a,n,r);case 3:e:{if(rx(s),t===null)throw Error(X(387));a=s.pendingProps,i=s.memoizedState,n=i.element,F0(t,s),sl(s,a,null,r);var l=s.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=Ma(Error(X(423)),s),s=Gu(t,s,a,r,n);break e}else if(a!==n){n=Ma(Error(X(424)),s),s=Gu(t,s,a,r,n);break e}else for(St=Xs(s.stateNode.containerInfo.firstChild),Pt=s,Ae=!0,Gt=null,r=P0(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fa(),a===n){s=Ps(t,s,r);break e}dt(t,s,a,r)}s=s.child}return s;case 5:return A0(s),t===null&&Ho(s),a=s.type,n=s.pendingProps,i=t!==null?t.memoizedProps:null,l=n.children,Io(a,n)?l=null:i!==null&&Io(a,i)&&(s.flags|=32),sx(t,s),dt(t,s,l,r),s.child;case 6:return t===null&&Ho(s),null;case 13:return ax(t,s,r);case 4:return hd(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=Aa(s,null,a,r):dt(t,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ht(a,n),Qu(t,s,a,n,r);case 7:return dt(t,s,s.pendingProps,r),s.child;case 8:return dt(t,s,s.pendingProps.children,r),s.child;case 12:return dt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,l=n.value,Pe(el,a._currentValue),a._currentValue=l,i!==null)if(Xt(i.value,l)){if(i.children===n.children&&!vt.current){s=Ps(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Ns(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qo(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(X(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Qo(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}dt(t,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,xa(s,r),n=Bt(n),a=a(n),s.flags|=1,dt(t,s,a,r),s.child;case 14:return a=s.type,n=Ht(a,s.pendingProps),n=Ht(a.type,n),Ku(t,s,a,n,r);case 15:return ex(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ht(a,n),Mi(t,s),s.tag=1,jt(a)?(t=!0,Ji(s)):t=!1,xa(s,r),J0(s,a,n),Yo(s,a,n,r),Zo(null,s,a,!0,t,r);case 19:return nx(t,s,r);case 22:return tx(t,s,r)}throw Error(X(156,s.tag))};function jx(t,s){return Kh(t,s)}function Bf(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,s,r,a){return new Bf(t,s,r,a)}function Pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uf(t){if(typeof t=="function")return Pd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Kc)return 14}return 2}function rr(t,s){var r=t.alternate;return r===null?(r=Dt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qi(t,s,r,a,n,i){var l=2;if(a=t,typeof t=="function")Pd(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Jr:return Rr(r.children,n,i,s);case Hc:l=8,n|=8;break;case bo:return t=Dt(12,r,s,n|2),t.elementType=bo,t.lanes=i,t;case vo:return t=Dt(13,r,s,n),t.elementType=vo,t.lanes=i,t;case jo:return t=Dt(19,r,s,n),t.elementType=jo,t.lanes=i,t;case Ah:return Sl(r,n,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Eh:l=10;break e;case Fh:l=9;break e;case Qc:l=11;break e;case Kc:l=14;break e;case Ms:l=16,a=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return s=Dt(l,r,s,n),s.elementType=t,s.type=a,s.lanes=i,s}function Rr(t,s,r,a){return t=Dt(7,t,a,s),t.lanes=r,t}function Sl(t,s,r,a){return t=Dt(22,t,a,s),t.elementType=Ah,t.lanes=r,t.stateNode={isHidden:!1},t}function co(t,s,r){return t=Dt(6,t,null,s),t.lanes=r,t}function uo(t,s,r){return s=Dt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Wf(t,s,r,a,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ed(t,s,r,a,n,i,l,o,c){return t=new Wf(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Dt(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(i),t}function Vf(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function wx(t){if(!t)return or;t=t._reactInternals;e:{if(Qr(t)!==t||t.tag!==1)throw Error(X(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(jt(r))return w0(t,r,s)}return s}function Nx(t,s,r,a,n,i,l,o,c){return t=Ed(r,a,!0,t,n,i,l,o,c),t.context=wx(null),r=t.current,a=mt(),n=sr(r),i=Ns(a,n),i.callback=s??null,er(r,i,n),t.current.lanes=n,Kn(t,n,a),wt(t,a),t}function Pl(t,s,r,a){var n=s.current,i=mt(),l=sr(n);return r=wx(r),s.context===null?s.context=r:s.pendingContext=r,s=Ns(i,l),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=er(n,s,l),t!==null&&(Zt(t,n,l,i),Fi(t,n,l)),l}function dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function im(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Fd(t,s){im(t,s),(t=t.alternate)&&im(t,s)}function Hf(){return null}var _x=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ad(t){this._internalRoot=t}El.prototype.render=Ad.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(X(409));Pl(t,s,null,null)};El.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Or(function(){Pl(null,t,null,null)}),s[Cs]=null}};function El(t){this._internalRoot=t}El.prototype.unstable_scheduleHydration=function(t){if(t){var s=t0();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ts.length&&s!==0&&s<Ts[r].priority;r++);Ts.splice(r,0,t),r===0&&r0(t)}};function Ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lm(){}function Qf(t,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=dl(l);i.call(d)}}var l=Nx(s,a,t,0,null,!1,!1,"",lm);return t._reactRootContainer=l,t[Cs]=l.current,Pn(t.nodeType===8?t.parentNode:t),Or(),l}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=dl(c);o.call(d)}}var c=Ed(t,0,!1,null,null,!1,!1,"",lm);return t._reactRootContainer=c,t[Cs]=c.current,Pn(t.nodeType===8?t.parentNode:t),Or(function(){Pl(s,c,r,a)}),c}function Al(t,s,r,a,n){var i=r._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=dl(l);o.call(c)}}Pl(s,l,t,n)}else l=Qf(r,s,t,n,a);return dl(l)}Xh=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=ln(s.pendingLanes);r!==0&&(Jc(s,r|1),wt(s,Oe()),!(ye&6)&&(Ra=Oe()+500,ur()))}break;case 13:Or(function(){var a=Ss(t,1);if(a!==null){var n=mt();Zt(a,t,1,n)}}),Fd(t,1)}};Zc=function(t){if(t.tag===13){var s=Ss(t,134217728);if(s!==null){var r=mt();Zt(s,t,134217728,r)}Fd(t,134217728)}};e0=function(t){if(t.tag===13){var s=sr(t),r=Ss(t,s);if(r!==null){var a=mt();Zt(r,t,s,a)}Fd(t,s)}};t0=function(){return ke};s0=function(t,s){var r=ke;try{return ke=t,s()}finally{ke=r}};Ao=function(t,s,r){switch(s){case"input":if(_o(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var n=jl(a);if(!n)throw Error(X(90));Mh(a),_o(a,n)}}}break;case"textarea":Th(t,r);break;case"select":s=r.value,s!=null&&da(t,!!r.multiple,s,!1)}};Bh=kd;Uh=Or;var Kf={usingClientEntryPoint:!1,Events:[Gn,ta,jl,Oh,Ih,kd]},tn={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yf={bundleType:tn.bundleType,version:tn.version,rendererPackageName:tn.rendererPackageName,rendererConfig:tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hh(t),t===null?null:t.stateNode},findFiberByHostInstance:tn.findFiberByHostInstance||Hf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{fl=vi.inject(Yf),ds=vi}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kf;Lt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(s))throw Error(X(200));return Vf(t,s,null,r)};Lt.createRoot=function(t,s){if(!Ld(t))throw Error(X(299));var r=!1,a="",n=_x;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Ed(t,1,!1,null,null,r,!1,a,n),t[Cs]=s.current,Pn(t.nodeType===8?t.parentNode:t),new Ad(s)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=Hh(s),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Or(t)};Lt.hydrate=function(t,s,r){if(!Fl(s))throw Error(X(200));return Al(null,t,s,!0,r)};Lt.hydrateRoot=function(t,s,r){if(!Ld(t))throw Error(X(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",l=_x;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=Nx(s,null,t,1,r??null,n,!1,i,l),t[Cs]=s.current,Pn(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new El(s)};Lt.render=function(t,s,r){if(!Fl(s))throw Error(X(200));return Al(null,t,s,!1,r)};Lt.unmountComponentAtNode=function(t){if(!Fl(t))throw Error(X(40));return t._reactRootContainer?(Or(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};Lt.unstable_batchedUpdates=kd;Lt.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!Fl(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Al(t,s,r,!1,a)};Lt.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),kh.exports=Lt;var Gf=kh.exports,Cx,om=Gf;Cx=om.createRoot,om.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $n(){return $n=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},$n.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const cm="popstate";function Jf(t){t===void 0&&(t={});function s(a,n){let{pathname:i,search:l,hash:o}=a.location;return dc("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ul(n)}return Xf(s,r,null,t)}function Ie(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Md(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Zf(){return Math.random().toString(36).substr(2,8)}function dm(t,s){return{usr:t.state,key:t.key,idx:s}}function dc(t,s,r,a){return r===void 0&&(r=null),$n({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ia(s):s,{state:r,key:s&&s.key||a||Zf()})}function ul(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ia(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Xf(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=Ks.Pop,c=null,d=m();d==null&&(d=0,l.replaceState($n({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function h(){o=Ks.Pop;let v=m(),u=v==null?null:v-d;d=v,c&&c({action:o,location:x.location,delta:u})}function g(v,u){o=Ks.Push;let p=dc(x.location,v,u);d=m()+1;let f=dm(p,d),C=x.createHref(p);try{l.pushState(f,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;n.location.assign(C)}i&&c&&c({action:o,location:x.location,delta:1})}function w(v,u){o=Ks.Replace;let p=dc(x.location,v,u);d=m();let f=dm(p,d),C=x.createHref(p);l.replaceState(f,"",C),i&&c&&c({action:o,location:x.location,delta:0})}function j(v){let u=n.location.origin!=="null"?n.location.origin:n.location.href,p=typeof v=="string"?v:ul(v);return p=p.replace(/ $/,"%20"),Ie(u,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,u)}let x={get action(){return o},get location(){return t(n,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(cm,h),c=v,()=>{n.removeEventListener(cm,h),c=null}},createHref(v){return s(n,v)},createURL:j,encodeLocation(v){let u=j(v);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:g,replace:w,go(v){return l.go(v)}};return x}var um;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(um||(um={}));function ey(t,s,r){return r===void 0&&(r="/"),ty(t,s,r)}function ty(t,s,r,a){let n=typeof s=="string"?Ia(s):s,i=Rd(n.pathname||"/",r);if(i==null)return null;let l=Sx(t);sy(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=xy(i);o=uy(l[c],d)}return o}function Sx(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ie(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=ar([a,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(Ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Sx(i.children,s,m,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:cy(d,i.index),routesMeta:m})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of Px(i.path))n(i,l,c)}),s}function Px(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=Px(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function sy(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:dy(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const ry=/^:[\w-]+$/,ay=3,ny=2,iy=1,ly=10,oy=-2,mm=t=>t==="*";function cy(t,s){let r=t.split("/"),a=r.length;return r.some(mm)&&(a+=oy),s&&(a+=ny),r.filter(n=>!mm(n)).reduce((n,i)=>n+(ry.test(i)?ay:i===""?iy:ly),a)}function dy(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function uy(t,s,r){let{routesMeta:a}=t,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,m=i==="/"?s:s.slice(i.length)||"/",h=my({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),g=c.route;if(!h)return null;Object.assign(n,h.params),l.push({params:n,pathname:ar([i,h.pathname]),pathnameBase:by(ar([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=ar([i,h.pathnameBase]))}return l}function my(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=hy(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,m,h)=>{let{paramName:g,isOptional:w}=m;if(g==="*"){let x=o[h]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const j=o[h];return w&&!j?d[g]=void 0:d[g]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function hy(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Md(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function xy(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Md(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Rd(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=t=>py.test(t);function fy(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Ia(t):t,i;if(r)if(gy(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Md(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=hm(r.substring(1),"/"):i=hm(r,s)}else i=s;return{pathname:i,search:vy(a),hash:jy(n)}}function hm(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function mo(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yy(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Td(t,s){let r=yy(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function qd(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Ia(t):(n=$n({},t),Ie(!n.pathname||!n.pathname.includes("?"),mo("?","pathname","search",n)),Ie(!n.pathname||!n.pathname.includes("#"),mo("#","pathname","hash",n)),Ie(!n.search||!n.search.includes("#"),mo("#","search","hash",n)));let i=t===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=r;else{let h=s.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),h-=1;n.pathname=g.join("/")}o=h>=0?s[h]:"/"}let c=fy(n,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const ar=t=>t.join("/").replace(/\/\/+/g,"/"),by=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ex=["post","put","patch","delete"];new Set(Ex);const Ny=["get",...Ex];new Set(Ny);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},zn.apply(this,arguments)}const $d=k.createContext(null),_y=k.createContext(null),mr=k.createContext(null),Ll=k.createContext(null),Fs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Fx=k.createContext(null);function ky(t,s){let{relative:r}=s===void 0?{}:s;Ba()||Ie(!1);let{basename:a,navigator:n}=k.useContext(mr),{hash:i,pathname:l,search:o}=Lx(t,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:ar([a,l])),n.createHref({pathname:c,search:o,hash:i})}function Ba(){return k.useContext(Ll)!=null}function hr(){return Ba()||Ie(!1),k.useContext(Ll).location}function Ax(t){k.useContext(mr).static||k.useLayoutEffect(t)}function Be(){let{isDataRoute:t}=k.useContext(Fs);return t?zy():Cy()}function Cy(){Ba()||Ie(!1);let t=k.useContext($d),{basename:s,future:r,navigator:a}=k.useContext(mr),{matches:n}=k.useContext(Fs),{pathname:i}=hr(),l=JSON.stringify(Td(n,r.v7_relativeSplatPath)),o=k.useRef(!1);return Ax(()=>{o.current=!0}),k.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let h=qd(d,JSON.parse(l),i,m.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:ar([s,h.pathname])),(m.replace?a.replace:a.push)(h,m.state,m)},[s,a,l,i,t])}function zd(){let{matches:t}=k.useContext(Fs),s=t[t.length-1];return s?s.params:{}}function Lx(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=k.useContext(mr),{matches:n}=k.useContext(Fs),{pathname:i}=hr(),l=JSON.stringify(Td(n,a.v7_relativeSplatPath));return k.useMemo(()=>qd(t,JSON.parse(l),i,r==="path"),[t,l,i,r])}function Sy(t,s){return Py(t,s)}function Py(t,s,r,a){Ba()||Ie(!1);let{navigator:n}=k.useContext(mr),{matches:i}=k.useContext(Fs),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=hr(),m;if(s){var h;let v=typeof s=="string"?Ia(s):s;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Ie(!1),m=v}else m=d;let g=m.pathname||"/",w=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let j=ey(t,{pathname:w}),x=My(j&&j.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ar([c,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ar([c,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,a);return s&&x?k.createElement(Ll.Provider,{value:{location:zn({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ks.Pop}},x):x}function Ey(){let t=$y(),s=wy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},s),r?k.createElement("pre",{style:n},r):null,null)}const Fy=k.createElement(Ey,null);class Ay extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?k.createElement(Fs.Provider,{value:this.props.routeContext},k.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ly(t){let{routeContext:s,match:r,children:a}=t,n=k.useContext($d);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Fs.Provider,{value:s},a)}function My(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let m=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);m>=0||Ie(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let m=0;m<l.length;m++){let h=l[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:g,errors:w}=r,j=h.route.loader&&g[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,h,g)=>{let w,j=!1,x=null,v=null;r&&(w=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||Fy,c&&(d<0&&g===0?(Dy("route-fallback"),j=!0,v=null):d===g&&(j=!0,v=h.route.hydrateFallbackElement||null)));let u=s.concat(l.slice(0,g+1)),p=()=>{let f;return w?f=x:j?f=v:h.route.Component?f=k.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=m,k.createElement(Ly,{match:h,routeContext:{outlet:m,matches:u,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?k.createElement(Ay,{location:r.location,revalidation:r.revalidation,component:x,error:w,children:p(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):p()},null)}var Mx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mx||{}),Rx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rx||{});function Ry(t){let s=k.useContext($d);return s||Ie(!1),s}function Ty(t){let s=k.useContext(_y);return s||Ie(!1),s}function qy(t){let s=k.useContext(Fs);return s||Ie(!1),s}function Tx(t){let s=qy(),r=s.matches[s.matches.length-1];return r.route.id||Ie(!1),r.route.id}function $y(){var t;let s=k.useContext(Fx),r=Ty(),a=Tx();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function zy(){let{router:t}=Ry(Mx.UseNavigateStable),s=Tx(Rx.UseNavigateStable),r=k.useRef(!1);return Ax(()=>{r.current=!0}),k.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,zn({fromRouteId:s},i)))},[t,s])}const xm={};function Dy(t,s,r){xm[t]||(xm[t]=!0)}function Oy(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Dd(t){let{to:s,replace:r,state:a,relative:n}=t;Ba()||Ie(!1);let{future:i,static:l}=k.useContext(mr),{matches:o}=k.useContext(Fs),{pathname:c}=hr(),d=Be(),m=qd(s,Td(o,i.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(m);return k.useEffect(()=>d(JSON.parse(h),{replace:r,state:a,relative:n}),[d,h,n,r,a]),null}function je(t){Ie(!1)}function Iy(t){let{basename:s="/",children:r=null,location:a,navigationType:n=Ks.Pop,navigator:i,static:l=!1,future:o}=t;Ba()&&Ie(!1);let c=s.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:l,future:zn({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Ia(a));let{pathname:m="/",search:h="",hash:g="",state:w=null,key:j="default"}=a,x=k.useMemo(()=>{let v=Rd(m,c);return v==null?null:{location:{pathname:v,search:h,hash:g,state:w,key:j},navigationType:n}},[c,m,h,g,w,j,n]);return x==null?null:k.createElement(mr.Provider,{value:d},k.createElement(Ll.Provider,{children:r,value:x}))}function By(t){let{children:s,location:r}=t;return Sy(uc(s),r)}new Promise(()=>{});function uc(t,s){s===void 0&&(s=[]);let r=[];return k.Children.forEach(t,(a,n)=>{if(!k.isValidElement(a))return;let i=[...s,n];if(a.type===k.Fragment){r.push.apply(r,uc(a.props.children,i));return}a.type!==je&&Ie(!1),!a.props.index||!a.props.children||Ie(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=uc(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},mc.apply(this,arguments)}function Uy(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function Wy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vy(t,s){return t.button===0&&(!s||s==="_self")&&!Wy(t)}function hc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Hy(t,s){let r=hc(t);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const Qy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ky="6";try{window.__reactRouterVersion=Ky}catch{}const Yy="startTransition",pm=zp[Yy];function Gy(t){let{basename:s,children:r,future:a,window:n}=t,i=k.useRef();i.current==null&&(i.current=Jf({window:n,v5Compat:!0}));let l=i.current,[o,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},m=k.useCallback(h=>{d&&pm?pm(()=>c(h)):c(h)},[c,d]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.useEffect(()=>Oy(a),[a]),k.createElement(Iy,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const Jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I=k.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:h}=s,g=Uy(s,Qy),{basename:w}=k.useContext(mr),j,x=!1;if(typeof d=="string"&&Zy.test(d)&&(j=d,Jy))try{let f=new URL(window.location.href),C=d.startsWith("//")?new URL(f.protocol+d):new URL(d),L=Rd(C.pathname,w);C.origin===f.origin&&L!=null?d=L+C.search+C.hash:x=!0}catch{}let v=ky(d,{relative:n}),u=Xy(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:n,viewTransition:h});function p(f){a&&a(f),f.defaultPrevented||u(f)}return k.createElement("a",mc({},g,{href:j||v,onClick:x||i?a:p,ref:r,target:c}))});var gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var fm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fm||(fm={}));function Xy(t,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=Be(),d=hr(),m=Lx(t,{relative:l});return k.useCallback(h=>{if(Vy(h,r)){h.preventDefault();let g=a!==void 0?a:ul(d)===ul(m);c(t,{replace:g,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,a,n,r,t,i,l,o])}function es(t){let s=k.useRef(hc(t)),r=k.useRef(!1),a=hr(),n=k.useMemo(()=>Hy(a.search,r.current?null:s.current),[a.search]),i=Be(),l=k.useCallback((o,c)=>{const d=hc(typeof o=="function"?o(n):o);r.current=!0,i("?"+d,c)},[i,n]);return[n,l]}var Ua=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eb={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},$s,zc,rh,tb=(rh=class{constructor(){ce(this,$s,eb);ce(this,zc,!1)}setTimeoutProvider(t){re(this,$s,t)}setTimeout(t,s){return R(this,$s).setTimeout(t,s)}clearTimeout(t){R(this,$s).clearTimeout(t)}setInterval(t,s){return R(this,$s).setInterval(t,s)}clearInterval(t){R(this,$s).clearInterval(t)}},$s=new WeakMap,zc=new WeakMap,rh),wr=new tb;function sb(t){setTimeout(t,0)}var Ir=typeof window>"u"||"Deno"in globalThis;function ut(){}function rb(t,s){return typeof t=="function"?t(s):t}function xc(t){return typeof t=="number"&&t>=0&&t!==1/0}function qx(t,s){return Math.max(t+(s||0)-Date.now(),0)}function nr(t,s){return typeof t=="function"?t(s):t}function qt(t,s){return typeof t=="function"?t(s):t}function ym(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:l,stale:o}=t;if(l){if(a){if(s.queryHash!==Od(l,s.options))return!1}else if(!Dn(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||n&&n!==s.state.fetchStatus||i&&!i(s))}function bm(t,s){const{exact:r,status:a,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(Br(s.options.mutationKey)!==Br(i))return!1}else if(!Dn(s.options.mutationKey,i))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function Od(t,s){return((s==null?void 0:s.queryKeyHashFn)||Br)(t)}function Br(t){return JSON.stringify(t,(s,r)=>pc(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Dn(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Dn(t[r],s[r])):!1}var ab=Object.prototype.hasOwnProperty;function $x(t,s){if(t===s)return t;const r=vm(t)&&vm(s);if(!r&&!(pc(t)&&pc(s)))return s;const n=(r?t:Object.keys(t)).length,i=r?s:Object.keys(s),l=i.length,o=r?new Array(l):{};let c=0;for(let d=0;d<l;d++){const m=r?d:i[d],h=t[m],g=s[m];if(h===g){o[m]=h,(r?d<n:ab.call(t,m))&&c++;continue}if(h===null||g===null||typeof h!="object"||typeof g!="object"){o[m]=g;continue}const w=$x(h,g);o[m]=w,w===h&&c++}return n===l&&c===n?t:o}function ml(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function vm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pc(t){if(!jm(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!jm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jm(t){return Object.prototype.toString.call(t)==="[object Object]"}function nb(t){return new Promise(s=>{wr.setTimeout(s,t)})}function gc(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?$x(t,s):s}function ib(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function lb(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var Id=Symbol();function zx(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Id?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Dx(t,s){return typeof t=="function"?t(...s):!!t}var _r,zs,ga,ah,ob=(ah=class extends Ua{constructor(){super();ce(this,_r);ce(this,zs);ce(this,ga);re(this,ga,s=>{if(!Ir&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,zs)||this.setEventListener(R(this,ga))}onUnsubscribe(){var s;this.hasListeners()||((s=R(this,zs))==null||s.call(this),re(this,zs,void 0))}setEventListener(s){var r;re(this,ga,s),(r=R(this,zs))==null||r.call(this),re(this,zs,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){R(this,_r)!==s&&(re(this,_r,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof R(this,_r)=="boolean"?R(this,_r):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},_r=new WeakMap,zs=new WeakMap,ga=new WeakMap,ah),Bd=new ob;function fc(){let t,s;const r=new Promise((n,i)=>{t=n,s=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}var cb=sb;function db(){let t=[],s=0,r=o=>{o()},a=o=>{o()},n=cb;const i=o=>{s?t.push(o):n(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var He=db(),fa,Ds,ya,nh,ub=(nh=class extends Ua{constructor(){super();ce(this,fa,!0);ce(this,Ds);ce(this,ya);re(this,ya,s=>{if(!Ir&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){R(this,Ds)||this.setEventListener(R(this,ya))}onUnsubscribe(){var s;this.hasListeners()||((s=R(this,Ds))==null||s.call(this),re(this,Ds,void 0))}setEventListener(s){var r;re(this,ya,s),(r=R(this,Ds))==null||r.call(this),re(this,Ds,s(this.setOnline.bind(this)))}setOnline(s){R(this,fa)!==s&&(re(this,fa,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return R(this,fa)}},fa=new WeakMap,Ds=new WeakMap,ya=new WeakMap,nh),hl=new ub;function mb(t){return Math.min(1e3*2**t,3e4)}function Ox(t){return(t??"online")==="online"?hl.isOnline():!0}var yc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ix(t){let s=!1,r=0,a;const n=fc(),i=()=>n.status!=="pending",l=x=>{var v;if(!i()){const u=new yc(x);g(u),(v=t.onCancel)==null||v.call(t,u)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>Bd.isFocused()&&(t.networkMode==="always"||hl.isOnline())&&t.canRun(),m=()=>Ox(t.networkMode)&&t.canRun(),h=x=>{i()||(a==null||a(),n.resolve(x))},g=x=>{i()||(a==null||a(),n.reject(x))},w=()=>new Promise(x=>{var v;a=u=>{(i()||d())&&x(u)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;a=void 0,i()||(x=t.onContinue)==null||x.call(t)}),j=()=>{if(i())return;let x;const v=r===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(u){x=Promise.reject(u)}Promise.resolve(x).then(h).catch(u=>{var A;if(i())return;const p=t.retry??(Ir?0:3),f=t.retryDelay??mb,C=typeof f=="function"?f(r,u):f,L=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,u);if(s||!L){g(u);return}r++,(A=t.onFail)==null||A.call(t,r,u),nb(C).then(()=>d()?void 0:w()).then(()=>{s?g(u):j()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?j():w().then(j),n)}}var kr,ih,Bx=(ih=class{constructor(){ce(this,kr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xc(this.gcTime)&&re(this,kr,wr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ir?1/0:5*60*1e3))}clearGcTimeout(){R(this,kr)&&(wr.clearTimeout(R(this,kr)),re(this,kr,void 0))}},kr=new WeakMap,ih),Cr,ba,Rt,Sr,Ke,Bn,Pr,Qt,ms,lh,hb=(lh=class extends Bx{constructor(s){super();ce(this,Qt);ce(this,Cr);ce(this,ba);ce(this,Rt);ce(this,Sr);ce(this,Ke);ce(this,Bn);ce(this,Pr);re(this,Pr,!1),re(this,Bn,s.defaultOptions),this.setOptions(s.options),this.observers=[],re(this,Sr,s.client),re(this,Rt,R(this,Sr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,re(this,Cr,Nm(this.options)),this.state=s.state??R(this,Cr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=R(this,Ke))==null?void 0:s.promise}setOptions(s){if(this.options={...R(this,Bn),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Nm(this.options);r.data!==void 0&&(this.setState(wm(r.data,r.dataUpdatedAt)),re(this,Cr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Rt).remove(this)}setData(s,r){const a=gc(this.state.data,s,this.options);return pe(this,Qt,ms).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){pe(this,Qt,ms).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=R(this,Ke))==null?void 0:a.promise;return(n=R(this,Ke))==null||n.cancel(s),r?r.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Cr))}isActive(){return this.observers.some(s=>qt(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Id||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>nr(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!qx(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=R(this,Ke))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=R(this,Ke))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),R(this,Rt).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(R(this,Ke)&&(R(this,Pr)?R(this,Ke).cancel({revert:!0}):R(this,Ke).cancelRetry()),this.scheduleGc()),R(this,Rt).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Qt,ms).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,m,h,g,w,j,x,v,u,p,f;if(this.state.fetchStatus!=="idle"&&((c=R(this,Ke))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Ke))return R(this,Ke).continueRetry(),R(this,Ke).promise}if(s&&this.setOptions(s),!this.options.queryFn){const C=this.observers.find(L=>L.options.queryFn);C&&this.setOptions(C.options)}const a=new AbortController,n=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(re(this,Pr,!0),a.signal)})},i=()=>{const C=zx(this.options,r),A=(()=>{const q={client:R(this,Sr),queryKey:this.queryKey,meta:this.meta};return n(q),q})();return re(this,Pr,!1),this.options.persister?this.options.persister(C,A,this):C(A)},o=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Sr),state:this.state,fetchFn:i};return n(C),C})();(d=this.options.behavior)==null||d.onFetch(o,this),re(this,ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&pe(this,Qt,ms).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),re(this,Ke,Ix({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:C=>{C instanceof yc&&C.revert&&this.setState({...R(this,ba),fetchStatus:"idle"}),a.abort()},onFail:(C,L)=>{pe(this,Qt,ms).call(this,{type:"failed",failureCount:C,error:L})},onPause:()=>{pe(this,Qt,ms).call(this,{type:"pause"})},onContinue:()=>{pe(this,Qt,ms).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const C=await R(this,Ke).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(w=(g=R(this,Rt).config).onSuccess)==null||w.call(g,C,this),(x=(j=R(this,Rt).config).onSettled)==null||x.call(j,C,this.state.error,this),C}catch(C){if(C instanceof yc){if(C.silent)return R(this,Ke).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw pe(this,Qt,ms).call(this,{type:"error",error:C}),(u=(v=R(this,Rt).config).onError)==null||u.call(v,C,this),(f=(p=R(this,Rt).config).onSettled)==null||f.call(p,this.state.data,C,this),C}finally{this.scheduleGc()}}},Cr=new WeakMap,ba=new WeakMap,Rt=new WeakMap,Sr=new WeakMap,Ke=new WeakMap,Bn=new WeakMap,Pr=new WeakMap,Qt=new WeakSet,ms=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Ux(a.data,this.options),fetchMeta:s.meta??null};case"success":const n={...a,...wm(s.data,s.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,ba,s.manual?n:void 0),n;case"error":const i=s.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),He.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),R(this,Rt).notify({query:this,type:"updated",action:s})})},lh);function Ux(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ox(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wm(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Nm(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gt,fe,Un,ot,Er,va,ps,Os,Wn,ja,wa,Fr,Ar,Is,Na,_e,cn,bc,vc,jc,wc,Nc,_c,kc,Wx,oh,xb=(oh=class extends Ua{constructor(s,r){super();ce(this,_e);ce(this,gt);ce(this,fe);ce(this,Un);ce(this,ot);ce(this,Er);ce(this,va);ce(this,ps);ce(this,Os);ce(this,Wn);ce(this,ja);ce(this,wa);ce(this,Fr);ce(this,Ar);ce(this,Is);ce(this,Na,new Set);this.options=r,re(this,gt,s),re(this,Os,null),re(this,ps,fc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,fe).addObserver(this),_m(R(this,fe),this.options)?pe(this,_e,cn).call(this):this.updateResult(),pe(this,_e,wc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cc(R(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cc(R(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,_e,Nc).call(this),pe(this,_e,_c).call(this),R(this,fe).removeObserver(this)}setOptions(s){const r=this.options,a=R(this,fe);if(this.options=R(this,gt).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qt(this.options.enabled,R(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,_e,kc).call(this),R(this,fe).setOptions(this.options),r._defaulted&&!ml(this.options,r)&&R(this,gt).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,fe),observer:this});const n=this.hasListeners();n&&km(R(this,fe),a,this.options,r)&&pe(this,_e,cn).call(this),this.updateResult(),n&&(R(this,fe)!==a||qt(this.options.enabled,R(this,fe))!==qt(r.enabled,R(this,fe))||nr(this.options.staleTime,R(this,fe))!==nr(r.staleTime,R(this,fe)))&&pe(this,_e,bc).call(this);const i=pe(this,_e,vc).call(this);n&&(R(this,fe)!==a||qt(this.options.enabled,R(this,fe))!==qt(r.enabled,R(this,fe))||i!==R(this,Is))&&pe(this,_e,jc).call(this,i)}getOptimisticResult(s){const r=R(this,gt).getQueryCache().build(R(this,gt),s),a=this.createResult(r,s);return gb(this,a)&&(re(this,ot,a),re(this,va,this.options),re(this,Er,R(this,fe).state)),a}getCurrentResult(){return R(this,ot)}trackResult(s,r){return new Proxy(s,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,ps).status==="pending"&&R(this,ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(s){R(this,Na).add(s)}getCurrentQuery(){return R(this,fe)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=R(this,gt).defaultQueryOptions(s),a=R(this,gt).getQueryCache().build(R(this,gt),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(s){return pe(this,_e,cn).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,ot)))}createResult(s,r){var b;const a=R(this,fe),n=this.options,i=R(this,ot),l=R(this,Er),o=R(this,va),d=s!==a?s.state:R(this,Un),{state:m}=s;let h={...m},g=!1,w;if(r._optimisticResults){const T=this.hasListeners(),Q=!T&&_m(s,r),W=T&&km(s,a,r,n);(Q||W)&&(h={...h,...Ux(m.data,s.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:j,errorUpdatedAt:x,status:v}=h;w=h.data;let u=!1;if(r.placeholderData!==void 0&&w===void 0&&v==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(T=i.data,u=!0):T=typeof r.placeholderData=="function"?r.placeholderData((b=R(this,wa))==null?void 0:b.state.data,R(this,wa)):r.placeholderData,T!==void 0&&(v="success",w=gc(i==null?void 0:i.data,T,r),g=!0)}if(r.select&&w!==void 0&&!u)if(i&&w===(l==null?void 0:l.data)&&r.select===R(this,Wn))w=R(this,ja);else try{re(this,Wn,r.select),w=r.select(w),w=gc(i==null?void 0:i.data,w,r),re(this,ja,w),re(this,Os,null)}catch(T){re(this,Os,T)}R(this,Os)&&(j=R(this,Os),w=R(this,ja),x=Date.now(),v="error");const p=h.fetchStatus==="fetching",f=v==="pending",C=v==="error",L=f&&p,A=w!==void 0,S={status:v,fetchStatus:h.fetchStatus,isPending:f,isSuccess:v==="success",isError:C,isInitialLoading:L,isLoading:L,data:w,dataUpdatedAt:h.dataUpdatedAt,error:j,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!f,isLoadingError:C&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&A,isStale:Ud(s,r),refetch:this.refetch,promise:R(this,ps),isEnabled:qt(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const T=O=>{S.status==="error"?O.reject(S.error):S.data!==void 0&&O.resolve(S.data)},Q=()=>{const O=re(this,ps,S.promise=fc());T(O)},W=R(this,ps);switch(W.status){case"pending":s.queryHash===a.queryHash&&T(W);break;case"fulfilled":(S.status==="error"||S.data!==W.value)&&Q();break;case"rejected":(S.status!=="error"||S.error!==W.reason)&&Q();break}}return S}updateResult(){const s=R(this,ot),r=this.createResult(R(this,fe),this.options);if(re(this,Er,R(this,fe).state),re(this,va,this.options),R(this,Er).data!==void 0&&re(this,wa,R(this,fe)),ml(r,s))return;re(this,ot,r);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!R(this,Na).size)return!0;const l=new Set(i??R(this,Na));return this.options.throwOnError&&l.add("error"),Object.keys(R(this,ot)).some(o=>{const c=o;return R(this,ot)[c]!==s[c]&&l.has(c)})};pe(this,_e,Wx).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,_e,wc).call(this)}},gt=new WeakMap,fe=new WeakMap,Un=new WeakMap,ot=new WeakMap,Er=new WeakMap,va=new WeakMap,ps=new WeakMap,Os=new WeakMap,Wn=new WeakMap,ja=new WeakMap,wa=new WeakMap,Fr=new WeakMap,Ar=new WeakMap,Is=new WeakMap,Na=new WeakMap,_e=new WeakSet,cn=function(s){pe(this,_e,kc).call(this);let r=R(this,fe).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(ut)),r},bc=function(){pe(this,_e,Nc).call(this);const s=nr(this.options.staleTime,R(this,fe));if(Ir||R(this,ot).isStale||!xc(s))return;const a=qx(R(this,ot).dataUpdatedAt,s)+1;re(this,Fr,wr.setTimeout(()=>{R(this,ot).isStale||this.updateResult()},a))},vc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,fe)):this.options.refetchInterval)??!1},jc=function(s){pe(this,_e,_c).call(this),re(this,Is,s),!(Ir||qt(this.options.enabled,R(this,fe))===!1||!xc(R(this,Is))||R(this,Is)===0)&&re(this,Ar,wr.setInterval(()=>{(this.options.refetchIntervalInBackground||Bd.isFocused())&&pe(this,_e,cn).call(this)},R(this,Is)))},wc=function(){pe(this,_e,bc).call(this),pe(this,_e,jc).call(this,pe(this,_e,vc).call(this))},Nc=function(){R(this,Fr)&&(wr.clearTimeout(R(this,Fr)),re(this,Fr,void 0))},_c=function(){R(this,Ar)&&(wr.clearInterval(R(this,Ar)),re(this,Ar,void 0))},kc=function(){const s=R(this,gt).getQueryCache().build(R(this,gt),this.options);if(s===R(this,fe))return;const r=R(this,fe);re(this,fe,s),re(this,Un,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Wx=function(s){He.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(R(this,ot))}),R(this,gt).getQueryCache().notify({query:R(this,fe),type:"observerResultsUpdated"})})},oh);function pb(t,s){return qt(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function _m(t,s){return pb(t,s)||t.state.data!==void 0&&Cc(t,s,s.refetchOnMount)}function Cc(t,s,r){if(qt(s.enabled,t)!==!1&&nr(s.staleTime,t)!=="static"){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&Ud(t,s)}return!1}function km(t,s,r,a){return(t!==s||qt(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Ud(t,r)}function Ud(t,s){return qt(s.enabled,t)!==!1&&t.isStaleByTime(nr(s.staleTime,t))}function gb(t,s){return!ml(t.getCurrentResult(),s)}function Cm(t){return{onFetch:(s,r)=>{var m,h,g,w,j;const a=s.options,n=(g=(h=(m=s.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,i=((w=s.state.data)==null?void 0:w.pages)||[],l=((j=s.state.data)==null?void 0:j.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const v=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},u=zx(s.options,s.fetchOptions),p=async(f,C,L)=>{if(x)return Promise.reject();if(C==null&&f.pages.length)return Promise.resolve(f);const q=(()=>{const Q={client:s.client,queryKey:s.queryKey,pageParam:C,direction:L?"backward":"forward",meta:s.options.meta};return v(Q),Q})(),S=await u(q),{maxPages:b}=s.options,T=L?lb:ib;return{pages:T(f.pages,S,b),pageParams:T(f.pageParams,C,b)}};if(n&&i.length){const f=n==="backward",C=f?fb:Sm,L={pages:i,pageParams:l},A=C(a,L);o=await p(L,A,f)}else{const f=t??i.length;do{const C=c===0?l[0]??a.initialPageParam:Sm(a,o);if(c>0&&C==null)break;o=await p(o,C),c++}while(c<f)}return o};s.options.persister?s.fetchFn=()=>{var x,v;return(v=(x=s.options).persister)==null?void 0:v.call(x,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function Sm(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function fb(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var Vn,ns,ct,Lr,is,Ls,ch,yb=(ch=class extends Bx{constructor(s){super();ce(this,is);ce(this,Vn);ce(this,ns);ce(this,ct);ce(this,Lr);re(this,Vn,s.client),this.mutationId=s.mutationId,re(this,ct,s.mutationCache),re(this,ns,[]),this.state=s.state||Vx(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){R(this,ns).includes(s)||(R(this,ns).push(s),this.clearGcTimeout(),R(this,ct).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){re(this,ns,R(this,ns).filter(r=>r!==s)),this.scheduleGc(),R(this,ct).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){R(this,ns).length||(this.state.status==="pending"?this.scheduleGc():R(this,ct).remove(this))}continue(){var s;return((s=R(this,Lr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,o,c,d,m,h,g,w,j,x,v,u,p,f,C,L,A,q,S,b;const r=()=>{pe(this,is,Ls).call(this,{type:"continue"})},a={client:R(this,Vn),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,Lr,Ix({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(T,Q)=>{pe(this,is,Ls).call(this,{type:"failed",failureCount:T,error:Q})},onPause:()=>{pe(this,is,Ls).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ct).canRun(this)}));const n=this.state.status==="pending",i=!R(this,Lr).canStart();try{if(n)r();else{pe(this,is,Ls).call(this,{type:"pending",variables:s,isPaused:i}),await((o=(l=R(this,ct).config).onMutate)==null?void 0:o.call(l,s,this,a));const Q=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,a));Q!==this.state.context&&pe(this,is,Ls).call(this,{type:"pending",context:Q,variables:s,isPaused:i})}const T=await R(this,Lr).start();return await((h=(m=R(this,ct).config).onSuccess)==null?void 0:h.call(m,T,s,this.state.context,this,a)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,T,s,this.state.context,a)),await((x=(j=R(this,ct).config).onSettled)==null?void 0:x.call(j,T,null,this.state.variables,this.state.context,this,a)),await((u=(v=this.options).onSettled)==null?void 0:u.call(v,T,null,s,this.state.context,a)),pe(this,is,Ls).call(this,{type:"success",data:T}),T}catch(T){try{throw await((f=(p=R(this,ct).config).onError)==null?void 0:f.call(p,T,s,this.state.context,this,a)),await((L=(C=this.options).onError)==null?void 0:L.call(C,T,s,this.state.context,a)),await((q=(A=R(this,ct).config).onSettled)==null?void 0:q.call(A,void 0,T,this.state.variables,this.state.context,this,a)),await((b=(S=this.options).onSettled)==null?void 0:b.call(S,void 0,T,s,this.state.context,a)),T}finally{pe(this,is,Ls).call(this,{type:"error",error:T})}}finally{R(this,ct).runNext(this)}}},Vn=new WeakMap,ns=new WeakMap,ct=new WeakMap,Lr=new WeakMap,is=new WeakSet,Ls=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),He.batch(()=>{R(this,ns).forEach(a=>{a.onMutationUpdate(s)}),R(this,ct).notify({mutation:this,type:"updated",action:s})})},ch);function Vx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gs,Kt,Hn,dh,bb=(dh=class extends Ua{constructor(s={}){super();ce(this,gs);ce(this,Kt);ce(this,Hn);this.config=s,re(this,gs,new Set),re(this,Kt,new Map),re(this,Hn,0)}build(s,r,a){const n=new yb({client:s,mutationCache:this,mutationId:++ri(this,Hn)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){R(this,gs).add(s);const r=ji(s);if(typeof r=="string"){const a=R(this,Kt).get(r);a?a.push(s):R(this,Kt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(R(this,gs).delete(s)){const r=ji(s);if(typeof r=="string"){const a=R(this,Kt).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&R(this,Kt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=ji(s);if(typeof r=="string"){const a=R(this,Kt).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=ji(s);if(typeof r=="string"){const n=(a=R(this,Kt).get(r))==null?void 0:a.find(i=>i!==s&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){He.batch(()=>{R(this,gs).forEach(s=>{this.notify({type:"removed",mutation:s})}),R(this,gs).clear(),R(this,Kt).clear()})}getAll(){return Array.from(R(this,gs))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>bm(r,a))}findAll(s={}){return this.getAll().filter(r=>bm(s,r))}notify(s){He.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return He.batch(()=>Promise.all(s.map(r=>r.continue().catch(ut))))}},gs=new WeakMap,Kt=new WeakMap,Hn=new WeakMap,dh);function ji(t){var s;return(s=t.options.scope)==null?void 0:s.id}var fs,Bs,ft,ys,_s,$i,Sc,uh,vb=(uh=class extends Ua{constructor(r,a){super();ce(this,_s);ce(this,fs);ce(this,Bs);ce(this,ft);ce(this,ys);re(this,fs,r),this.setOptions(a),this.bindMethods(),pe(this,_s,$i).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=R(this,fs).defaultMutationOptions(r),ml(this.options,a)||R(this,fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,ft),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Br(a.mutationKey)!==Br(this.options.mutationKey)?this.reset():((n=R(this,ft))==null?void 0:n.state.status)==="pending"&&R(this,ft).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=R(this,ft))==null||r.removeObserver(this)}onMutationUpdate(r){pe(this,_s,$i).call(this),pe(this,_s,Sc).call(this,r)}getCurrentResult(){return R(this,Bs)}reset(){var r;(r=R(this,ft))==null||r.removeObserver(this),re(this,ft,void 0),pe(this,_s,$i).call(this),pe(this,_s,Sc).call(this)}mutate(r,a){var n;return re(this,ys,a),(n=R(this,ft))==null||n.removeObserver(this),re(this,ft,R(this,fs).getMutationCache().build(R(this,fs),this.options)),R(this,ft).addObserver(this),R(this,ft).execute(r)}},fs=new WeakMap,Bs=new WeakMap,ft=new WeakMap,ys=new WeakMap,_s=new WeakSet,$i=function(){var a;const r=((a=R(this,ft))==null?void 0:a.state)??Vx();re(this,Bs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Sc=function(r){He.batch(()=>{var a,n,i,l,o,c,d,m;if(R(this,ys)&&this.hasListeners()){const h=R(this,Bs).variables,g=R(this,Bs).context,w={client:R(this,fs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(a=R(this,ys)).onSuccess)==null||n.call(a,r.data,h,g,w),(l=(i=R(this,ys)).onSettled)==null||l.call(i,r.data,null,h,g,w)):(r==null?void 0:r.type)==="error"&&((c=(o=R(this,ys)).onError)==null||c.call(o,r.error,h,g,w),(m=(d=R(this,ys)).onSettled)==null||m.call(d,void 0,r.error,h,g,w))}this.listeners.forEach(h=>{h(R(this,Bs))})})},uh),ls,mh,jb=(mh=class extends Ua{constructor(s={}){super();ce(this,ls);this.config=s,re(this,ls,new Map)}build(s,r,a){const n=r.queryKey,i=r.queryHash??Od(n,r);let l=this.get(i);return l||(l=new hb({client:s,queryKey:n,queryHash:i,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(l)),l}add(s){R(this,ls).has(s.queryHash)||(R(this,ls).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=R(this,ls).get(s.queryHash);r&&(s.destroy(),r===s&&R(this,ls).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){He.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return R(this,ls).get(s)}getAll(){return[...R(this,ls).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>ym(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>ym(s,a)):r}notify(s){He.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){He.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ls=new WeakMap,mh),qe,Us,Ws,_a,ka,Vs,Ca,Sa,hh,wb=(hh=class{constructor(t={}){ce(this,qe);ce(this,Us);ce(this,Ws);ce(this,_a);ce(this,ka);ce(this,Vs);ce(this,Ca);ce(this,Sa);re(this,qe,t.queryCache||new jb),re(this,Us,t.mutationCache||new bb),re(this,Ws,t.defaultOptions||{}),re(this,_a,new Map),re(this,ka,new Map),re(this,Vs,0)}mount(){ri(this,Vs)._++,R(this,Vs)===1&&(re(this,Ca,Bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,qe).onFocus())})),re(this,Sa,hl.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,qe).onOnline())})))}unmount(){var t,s;ri(this,Vs)._--,R(this,Vs)===0&&((t=R(this,Ca))==null||t.call(this),re(this,Ca,void 0),(s=R(this,Sa))==null||s.call(this),re(this,Sa,void 0))}isFetching(t){return R(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Us).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=R(this,qe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=R(this,qe).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(nr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return R(this,qe).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=R(this,qe).get(a.queryHash),i=n==null?void 0:n.state.data,l=rb(s,i);if(l!==void 0)return R(this,qe).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return He.batch(()=>R(this,qe).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=R(this,qe).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=R(this,qe);He.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=R(this,qe);return He.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=He.batch(()=>R(this,qe).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(ut).catch(ut)}invalidateQueries(t,s={}){return He.batch(()=>(R(this,qe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=He.batch(()=>R(this,qe).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(ut)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(ut)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=R(this,qe).build(this,s);return r.isStaleByTime(nr(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ut).catch(ut)}fetchInfiniteQuery(t){return t.behavior=Cm(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ut).catch(ut)}ensureInfiniteQueryData(t){return t.behavior=Cm(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hl.isOnline()?R(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,qe)}getMutationCache(){return R(this,Us)}getDefaultOptions(){return R(this,Ws)}setDefaultOptions(t){re(this,Ws,t)}setQueryDefaults(t,s){R(this,_a).set(Br(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...R(this,_a).values()],r={};return s.forEach(a=>{Dn(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){R(this,ka).set(Br(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...R(this,ka).values()],r={};return s.forEach(a=>{Dn(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...R(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Od(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Id&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,qe).clear(),R(this,Us).clear()}},qe=new WeakMap,Us=new WeakMap,Ws=new WeakMap,_a=new WeakMap,ka=new WeakMap,Vs=new WeakMap,Ca=new WeakMap,Sa=new WeakMap,hh),Hx=k.createContext(void 0),Wt=t=>{const s=k.useContext(Hx);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Nb=({client:t,children:s})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Hx.Provider,{value:t,children:s})),Qx=k.createContext(!1),_b=()=>k.useContext(Qx);Qx.Provider;function kb(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Cb=k.createContext(kb()),Sb=()=>k.useContext(Cb),Pb=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Eb=t=>{k.useEffect(()=>{t.clearReset()},[t])},Fb=({result:t,errorResetBoundary:s,throwOnError:r,query:a,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&a&&(n&&t.data===void 0||Dx(r,[t.error,a])),Ab=t=>{if(t.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Lb=(t,s)=>t.isLoading&&t.isFetching&&!s,Mb=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,Pm=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function Rb(t,s,r){var h,g,w,j,x;const a=_b(),n=Sb(),i=Wt(),l=i.defaultQueryOptions(t);(g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||g.call(h,l),l._optimisticResults=a?"isRestoring":"optimistic",Ab(l),Pb(l,n),Eb(n);const o=!i.getQueryCache().get(l.queryHash),[c]=k.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),m=!a&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(v=>{const u=m?c.subscribe(He.batchCalls(v)):ut;return c.updateResult(),u},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(l)},[l,c]),Mb(l,d))throw Pm(l,c,n);if(Fb({result:d,errorResetBoundary:n,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((j=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||j.call(w,l,d),l.experimental_prefetchInRender&&!Ir&&Lb(d,a)){const v=o?Pm(l,c,n):(x=i.getQueryCache().get(l.queryHash))==null?void 0:x.promise;v==null||v.catch(ut).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function Ne(t,s){return Rb(t,xb)}function be(t,s){const r=Wt(),[a]=k.useState(()=>new vb(r,t));k.useEffect(()=>{a.setOptions(t)},[a,t]);const n=k.useSyncExternalStore(k.useCallback(l=>a.subscribe(He.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=k.useCallback((l,o)=>{a.mutate(l,o).catch(ut)},[a]);if(n.error&&Dx(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const Em=t=>{let s;const r=new Set,a=(d,m)=>{const h=typeof d=="function"?d(s):d;if(!Object.is(h,s)){const g=s;s=m??(typeof h!="object"||h===null)?h:Object.assign({},s,h),r.forEach(w=>w(s,g))}},n=()=>s,o={setState:a,getState:n,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=s=t(a,n,o);return o},Tb=t=>t?Em(t):Em,qb=t=>t;function $b(t,s=qb){const r=cs.useSyncExternalStore(t.subscribe,cs.useCallback(()=>s(t.getState()),[t,s]),cs.useCallback(()=>s(t.getInitialState()),[t,s]));return cs.useDebugValue(r),r}const zb=t=>{const s=Tb(t),r=a=>$b(s,a);return Object.assign(r,s),r},Db=t=>zb;function Ob(t,s){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(n))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const Pc=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(a){return Pc(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Pc(a)(r)}}}},Ib=(t,s)=>(r,a,n)=>{let i={storage:Ob(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...s},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},a,n);const m=()=>{const x=i.partialize({...a()});return d.setItem(i.name,{state:x,version:i.version})},h=n.setState;n.setState=(x,v)=>(h(x,v),m());const g=t((...x)=>(r(...x),m()),a,n);n.getInitialState=()=>g;let w;const j=()=>{var x,v;if(!d)return;l=!1,o.forEach(p=>{var f;return p((f=a())!=null?f:g)});const u=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(x=a())!=null?x:g))||void 0;return Pc(d.getItem.bind(d))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate){const f=i.migrate(p.state,p.version);return f instanceof Promise?f.then(C=>[!0,C]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var f;const[C,L]=p;if(w=i.merge(L,(f=a())!=null?f:g),r(w,!0),C)return m()}).then(()=>{u==null||u(w,void 0),w=a(),l=!0,c.forEach(p=>p(w))}).catch(p=>{u==null||u(void 0,p)})};return n.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>j(),hasHydrated:()=>l,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||j(),w||g},Bb=Ib;function Kx(t,s){return function(){return t.apply(s,arguments)}}const{toString:Ub}=Object.prototype,{getPrototypeOf:Wd}=Object,{iterator:Ml,toStringTag:Yx}=Symbol,Rl=(t=>s=>{const r=Ub.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ts=t=>(t=t.toLowerCase(),s=>Rl(s)===t),Tl=t=>s=>typeof s===t,{isArray:Wa}=Array,Ta=Tl("undefined");function Zn(t){return t!==null&&!Ta(t)&&t.constructor!==null&&!Ta(t.constructor)&&Nt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gx=ts("ArrayBuffer");function Wb(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Gx(t.buffer),s}const Vb=Tl("string"),Nt=Tl("function"),Jx=Tl("number"),Xn=t=>t!==null&&typeof t=="object",Hb=t=>t===!0||t===!1,zi=t=>{if(Rl(t)!=="object")return!1;const s=Wd(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Yx in t)&&!(Ml in t)},Qb=t=>{if(!Xn(t)||Zn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Kb=ts("Date"),Yb=ts("File"),Gb=ts("Blob"),Jb=ts("FileList"),Zb=t=>Xn(t)&&Nt(t.pipe),Xb=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Nt(t.append)&&((s=Rl(t))==="formdata"||s==="object"&&Nt(t.toString)&&t.toString()==="[object FormData]"))},ev=ts("URLSearchParams"),[tv,sv,rv,av]=["ReadableStream","Request","Response","Headers"].map(ts),nv=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ei(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Wa(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(Zn(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function Zx(t,s){if(Zn(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xx=t=>!Ta(t)&&t!==Nr;function Ec(){const{caseless:t,skipUndefined:s}=Xx(this)&&this||{},r={},a=(n,i)=>{const l=t&&Zx(r,i)||i;zi(r[l])&&zi(n)?r[l]=Ec(r[l],n):zi(n)?r[l]=Ec({},n):Wa(n)?r[l]=n.slice():(!s||!Ta(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ei(arguments[n],a);return r}const iv=(t,s,r,{allOwnKeys:a}={})=>(ei(s,(n,i)=>{r&&Nt(n)?t[i]=Kx(n,r):t[i]=n},{allOwnKeys:a}),t),lv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ov=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},cv=(t,s,r,a)=>{let n,i,l;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&Wd(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},dv=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},uv=t=>{if(!t)return null;if(Wa(t))return t;let s=t.length;if(!Jx(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},mv=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Wd(Uint8Array)),hv=(t,s)=>{const a=(t&&t[Ml]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},xv=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},pv=ts("HTMLFormElement"),gv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Fm=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),fv=ts("RegExp"),ep=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};ei(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},yv=t=>{ep(t,(s,r)=>{if(Nt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Nt(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bv=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Wa(t)?a(t):a(String(t).split(s)),r},vv=()=>{},jv=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function wv(t){return!!(t&&Nt(t.append)&&t[Yx]==="FormData"&&t[Ml])}const Nv=t=>{const s=new Array(10),r=(a,n)=>{if(Xn(a)){if(s.indexOf(a)>=0)return;if(Zn(a))return a;if(!("toJSON"in a)){s[n]=a;const i=Wa(a)?[]:{};return ei(a,(l,o)=>{const c=r(l,n+1);!Ta(c)&&(i[o]=c)}),s[n]=void 0,i}}return a};return r(t,0)},_v=ts("AsyncFunction"),kv=t=>t&&(Xn(t)||Nt(t))&&Nt(t.then)&&Nt(t.catch),tp=((t,s)=>t?setImmediate:s?((r,a)=>(Nr.addEventListener("message",({source:n,data:i})=>{n===Nr&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Nr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Nt(Nr.postMessage)),Cv=typeof queueMicrotask<"u"?queueMicrotask.bind(Nr):typeof process<"u"&&process.nextTick||tp,Sv=t=>t!=null&&Nt(t[Ml]),V={isArray:Wa,isArrayBuffer:Gx,isBuffer:Zn,isFormData:Xb,isArrayBufferView:Wb,isString:Vb,isNumber:Jx,isBoolean:Hb,isObject:Xn,isPlainObject:zi,isEmptyObject:Qb,isReadableStream:tv,isRequest:sv,isResponse:rv,isHeaders:av,isUndefined:Ta,isDate:Kb,isFile:Yb,isBlob:Gb,isRegExp:fv,isFunction:Nt,isStream:Zb,isURLSearchParams:ev,isTypedArray:mv,isFileList:Jb,forEach:ei,merge:Ec,extend:iv,trim:nv,stripBOM:lv,inherits:ov,toFlatObject:cv,kindOf:Rl,kindOfTest:ts,endsWith:dv,toArray:uv,forEachEntry:hv,matchAll:xv,isHTMLForm:pv,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:ep,freezeMethods:yv,toObjectSet:bv,toCamelCase:gv,noop:vv,toFiniteNumber:jv,findKey:Zx,global:Nr,isContextDefined:Xx,isSpecCompliantForm:wv,toJSONObject:Nv,isAsyncFn:_v,isThenable:kv,setImmediate:tp,asap:Cv,isIterable:Sv};function xe(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}V.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const sp=xe.prototype,rp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rp[t]={value:t}});Object.defineProperties(xe,rp);Object.defineProperty(sp,"isAxiosError",{value:!0});xe.from=(t,s,r,a,n,i)=>{const l=Object.create(sp);V.toFlatObject(t,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return xe.call(l,o,c,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const Pv=null;function Fc(t){return V.isPlainObject(t)||V.isArray(t)}function ap(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Am(t,s,r){return t?t.concat(s).map(function(n,i){return n=ap(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function Ev(t){return V.isArray(t)&&!t.some(Fc)}const Fv=V.toFlatObject(V,{},null,function(s){return/^is[A-Z]/.test(s)});function ql(t,s,r){if(!V.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!V.isUndefined(v[x])});const a=r.metaTokens,n=r.visitor||m,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(s);if(!V.isFunction(n))throw new TypeError("visitor must be a function");function d(j){if(j===null)return"";if(V.isDate(j))return j.toISOString();if(V.isBoolean(j))return j.toString();if(!c&&V.isBlob(j))throw new xe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(j)||V.isTypedArray(j)?c&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function m(j,x,v){let u=j;if(j&&!v&&typeof j=="object"){if(V.endsWith(x,"{}"))x=a?x:x.slice(0,-2),j=JSON.stringify(j);else if(V.isArray(j)&&Ev(j)||(V.isFileList(j)||V.endsWith(x,"[]"))&&(u=V.toArray(j)))return x=ap(x),u.forEach(function(f,C){!(V.isUndefined(f)||f===null)&&s.append(l===!0?Am([x],C,i):l===null?x:x+"[]",d(f))}),!1}return Fc(j)?!0:(s.append(Am(v,x,i),d(j)),!1)}const h=[],g=Object.assign(Fv,{defaultVisitor:m,convertValue:d,isVisitable:Fc});function w(j,x){if(!V.isUndefined(j)){if(h.indexOf(j)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(j),V.forEach(j,function(u,p){(!(V.isUndefined(u)||u===null)&&n.call(s,u,V.isString(p)?p.trim():p,x,g))===!0&&w(u,x?x.concat(p):[p])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return w(t),s}function Lm(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Vd(t,s){this._pairs=[],t&&ql(t,this,s)}const np=Vd.prototype;np.append=function(s,r){this._pairs.push([s,r])};np.toString=function(s){const r=s?function(a){return s.call(this,a,Lm)}:Lm;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Av(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ip(t,s,r){if(!s)return t;const a=r&&r.encode||Av;V.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=V.isURLSearchParams(s)?s.toString():new Vd(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Mm{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){V.forEach(this.handlers,function(a){a!==null&&s(a)})}}const lp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lv=typeof URLSearchParams<"u"?URLSearchParams:Vd,Mv=typeof FormData<"u"?FormData:null,Rv=typeof Blob<"u"?Blob:null,Tv={isBrowser:!0,classes:{URLSearchParams:Lv,FormData:Mv,Blob:Rv},protocols:["http","https","file","blob","url","data"]},Hd=typeof window<"u"&&typeof document<"u",Ac=typeof navigator=="object"&&navigator||void 0,qv=Hd&&(!Ac||["ReactNative","NativeScript","NS"].indexOf(Ac.product)<0),$v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zv=Hd&&window.location.href||"http://localhost",Dv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hd,hasStandardBrowserEnv:qv,hasStandardBrowserWebWorkerEnv:$v,navigator:Ac,origin:zv},Symbol.toStringTag,{value:"Module"})),at={...Dv,...Tv};function Ov(t,s){return ql(t,new at.classes.URLSearchParams,{visitor:function(r,a,n,i){return at.isNode&&V.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Iv(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Bv(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function op(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&V.isArray(n)?n.length:l,c?(V.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!V.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&V.isArray(n[l])&&(n[l]=Bv(n[l])),!o)}if(V.isFormData(t)&&V.isFunction(t.entries)){const r={};return V.forEachEntry(t,(a,n)=>{s(Iv(a),n,r,0)}),r}return null}function Uv(t,s,r){if(V.isString(t))try{return(s||JSON.parse)(t),V.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const ti={transitional:lp,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=V.isObject(s);if(i&&V.isHTMLForm(s)&&(s=new FormData(s)),V.isFormData(s))return n?JSON.stringify(op(s)):s;if(V.isArrayBuffer(s)||V.isBuffer(s)||V.isStream(s)||V.isFile(s)||V.isBlob(s)||V.isReadableStream(s))return s;if(V.isArrayBufferView(s))return s.buffer;if(V.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ov(s,this.formSerializer).toString();if((o=V.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ql(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Uv(s)):s}],transformResponse:[function(s){const r=this.transitional||ti.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(V.isResponse(s)||V.isReadableStream(s))return s;if(s&&V.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?xe.from(o,xe.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{ti.headers[t]={}});const Wv=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vv=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&Wv[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Rm=Symbol("internals");function sn(t){return t&&String(t).trim().toLowerCase()}function Di(t){return t===!1||t==null?t:V.isArray(t)?t.map(Di):String(t)}function Hv(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const Qv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ho(t,s,r,a,n){if(V.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!V.isString(s)){if(V.isString(a))return s.indexOf(a)!==-1;if(V.isRegExp(a))return a.test(s)}}function Kv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Yv(t,s){const r=V.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}let _t=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,c,d){const m=sn(c);if(!m)throw new Error("header name must be a non-empty string");const h=V.findKey(n,m);(!h||n[h]===void 0||d===!0||d===void 0&&n[h]!==!1)&&(n[h||c]=Di(o))}const l=(o,c)=>V.forEach(o,(d,m)=>i(d,m,c));if(V.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(V.isString(s)&&(s=s.trim())&&!Qv(s))l(Vv(s),r);else if(V.isObject(s)&&V.isIterable(s)){let o={},c,d;for(const m of s){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?V.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=sn(s),s){const a=V.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Hv(n);if(V.isFunction(r))return r.call(this,n,a);if(V.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=sn(s),s){const a=V.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||ho(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=sn(l),l){const o=V.findKey(a,l);o&&(!r||ho(a,a[o],o,r))&&(delete a[o],n=!0)}}return V.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||ho(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return V.forEach(this,(n,i)=>{const l=V.findKey(a,i);if(l){r[l]=Di(n),delete r[i];return}const o=s?Kv(i):String(i).trim();o!==i&&delete r[i],r[o]=Di(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return V.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&V.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Rm]=this[Rm]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=sn(l);a[o]||(Yv(n,l),a[o]=!0)}return V.isArray(s)?s.forEach(i):i(s),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(_t.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});V.freezeMethods(_t);function xo(t,s){const r=this||ti,a=s||r,n=_t.from(a.headers);let i=a.data;return V.forEach(t,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function cp(t){return!!(t&&t.__CANCEL__)}function Va(t,s,r){xe.call(this,t??"canceled",xe.ERR_CANCELED,s,r),this.name="CanceledError"}V.inherits(Va,xe,{__CANCEL__:!0});function dp(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new xe("Request failed with status code "+r.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Gv(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Jv(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),m=a[i];l||(l=d),r[n]=c,a[n]=d;let h=i,g=0;for(;h!==n;)g+=r[h++],h=h%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-l<s)return;const w=m&&d-m;return w?Math.round(g*1e3/w):void 0}}function Zv(t,s){let r=0,a=1e3/s,n,i;const l=(d,m=Date.now())=>{r=m,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const m=Date.now(),h=m-r;h>=a?l(d,m):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-h)))},()=>n&&l(n)]}const xl=(t,s,r=3)=>{let a=0;const n=Jv(50,250);return Zv(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,d=n(c),m=l<=o;a=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(h)},r)},Tm=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},qm=t=>(...s)=>V.asap(()=>t(...s)),Xv=at.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,at.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,ej=at.hasStandardBrowserEnv?{write(t,s,r,a,n,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];V.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),V.isString(a)&&o.push(`path=${a}`),V.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),V.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sj(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function up(t,s,r){let a=!tj(s);return t&&(a||r==!1)?sj(t,s):s}const $m=t=>t instanceof _t?{...t}:t;function Ur(t,s){s=s||{};const r={};function a(d,m,h,g){return V.isPlainObject(d)&&V.isPlainObject(m)?V.merge.call({caseless:g},d,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function n(d,m,h,g){if(V.isUndefined(m)){if(!V.isUndefined(d))return a(void 0,d,h,g)}else return a(d,m,h,g)}function i(d,m){if(!V.isUndefined(m))return a(void 0,m)}function l(d,m){if(V.isUndefined(m)){if(!V.isUndefined(d))return a(void 0,d)}else return a(void 0,m)}function o(d,m,h){if(h in s)return a(d,m);if(h in t)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,h)=>n($m(d),$m(m),h,!0)};return V.forEach(Object.keys({...t,...s}),function(m){const h=c[m]||n,g=h(t[m],s[m],m);V.isUndefined(g)&&h!==o||(r[m]=g)}),r}const mp=t=>{const s=Ur({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=_t.from(l),s.url=ip(up(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),V.isFormData(r)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,h])=>{d.includes(m.toLowerCase())&&l.set(m,h)})}}if(at.hasStandardBrowserEnv&&(a&&V.isFunction(a)&&(a=a(s)),a||a!==!1&&Xv(s.url))){const c=n&&i&&ej.read(i);c&&l.set(n,c)}return s},rj=typeof XMLHttpRequest<"u",aj=rj&&function(t){return new Promise(function(r,a){const n=mp(t);let i=n.data;const l=_t.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,m,h,g,w,j;function x(){w&&w(),j&&j(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function u(){if(!v)return;const f=_t.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),L={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:f,config:t,request:v};dp(function(q){r(q),x()},function(q){a(q),x()},L),v=null}"onloadend"in v?v.onloadend=u:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(u)},v.onabort=function(){v&&(a(new xe("Request aborted",xe.ECONNABORTED,t,v)),v=null)},v.onerror=function(C){const L=C&&C.message?C.message:"Network Error",A=new xe(L,xe.ERR_NETWORK,t,v);A.event=C||null,a(A),v=null},v.ontimeout=function(){let C=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const L=n.transitional||lp;n.timeoutErrorMessage&&(C=n.timeoutErrorMessage),a(new xe(C,L.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&V.forEach(l.toJSON(),function(C,L){v.setRequestHeader(L,C)}),V.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),o&&o!=="json"&&(v.responseType=n.responseType),d&&([g,j]=xl(d,!0),v.addEventListener("progress",g)),c&&v.upload&&([h,w]=xl(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",w)),(n.cancelToken||n.signal)&&(m=f=>{v&&(a(!f||f.type?new Va(null,t,v):f),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const p=Gv(n.url);if(p&&at.protocols.indexOf(p)===-1){a(new xe("Unsupported protocol "+p+":",xe.ERR_BAD_REQUEST,t));return}v.send(i||null)})},nj=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const m=d instanceof Error?d:this.reason;a.abort(m instanceof xe?m:new Va(m instanceof Error?m.message:m))}};let l=s&&setTimeout(()=>{l=null,i(new xe(`timeout ${s} of ms exceeded`,xe.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>V.asap(o),c}},ij=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},lj=async function*(t,s){for await(const r of oj(t))yield*ij(r,s)},oj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},zm=(t,s,r,a)=>{const n=lj(t,s);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await n.next();if(d){o(),c.close();return}let h=m.byteLength;if(r){let g=i+=h;r(g)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},Dm=64*1024,{isFunction:wi}=V,cj=(({Request:t,Response:s})=>({Request:t,Response:s}))(V.global),{ReadableStream:Om,TextEncoder:Im}=V.global,Bm=(t,...s)=>{try{return!!t(...s)}catch{return!1}},dj=t=>{t=V.merge.call({skipUndefined:!0},cj,t);const{fetch:s,Request:r,Response:a}=t,n=s?wi(s):typeof fetch=="function",i=wi(r),l=wi(a);if(!n)return!1;const o=n&&wi(Om),c=n&&(typeof Im=="function"?(j=>x=>j.encode(x))(new Im):async j=>new Uint8Array(await new r(j).arrayBuffer())),d=i&&o&&Bm(()=>{let j=!1;const x=new r(at.origin,{body:new Om,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!x}),m=l&&o&&Bm(()=>V.isReadableStream(new a("").body)),h={stream:m&&(j=>j.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!h[j]&&(h[j]=(x,v)=>{let u=x&&x[j];if(u)return u.call(x);throw new xe(`Response type '${j}' is not supported`,xe.ERR_NOT_SUPPORT,v)})});const g=async j=>{if(j==null)return 0;if(V.isBlob(j))return j.size;if(V.isSpecCompliantForm(j))return(await new r(at.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(V.isArrayBufferView(j)||V.isArrayBuffer(j))return j.byteLength;if(V.isURLSearchParams(j)&&(j=j+""),V.isString(j))return(await c(j)).byteLength},w=async(j,x)=>{const v=V.toFiniteNumber(j.getContentLength());return v??g(x)};return async j=>{let{url:x,method:v,data:u,signal:p,cancelToken:f,timeout:C,onDownloadProgress:L,onUploadProgress:A,responseType:q,headers:S,withCredentials:b="same-origin",fetchOptions:T}=mp(j),Q=s||fetch;q=q?(q+"").toLowerCase():"text";let W=nj([p,f&&f.toAbortSignal()],C),O=null;const te=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let D;try{if(A&&d&&v!=="get"&&v!=="head"&&(D=await w(S,u))!==0){let $=new r(x,{method:"POST",body:u,duplex:"half"}),F;if(V.isFormData(u)&&(F=$.headers.get("content-type"))&&S.setContentType(F),$.body){const[M,_]=Tm(D,xl(qm(A)));u=zm($.body,Dm,M,_)}}V.isString(b)||(b=b?"include":"omit");const Y=i&&"credentials"in r.prototype,y={...T,signal:W,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:u,duplex:"half",credentials:Y?b:void 0};O=i&&new r(x,y);let N=await(i?Q(O,T):Q(x,y));const P=m&&(q==="stream"||q==="response");if(m&&(L||P&&te)){const $={};["status","statusText","headers"].forEach(B=>{$[B]=N[B]});const F=V.toFiniteNumber(N.headers.get("content-length")),[M,_]=L&&Tm(F,xl(qm(L),!0))||[];N=new a(zm(N.body,Dm,M,()=>{_&&_(),te&&te()}),$)}q=q||"text";let K=await h[V.findKey(h,q)||"text"](N,j);return!P&&te&&te(),await new Promise(($,F)=>{dp($,F,{data:K,headers:_t.from(N.headers),status:N.status,statusText:N.statusText,config:j,request:O})})}catch(Y){throw te&&te(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,j,O),{cause:Y.cause||Y}):xe.from(Y,Y&&Y.code,j,O)}}},uj=new Map,hp=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let l=i.length,o=l,c,d,m=uj;for(;o--;)c=i[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:dj(s)),m=d;return d};hp();const Qd={http:Pv,xhr:aj,fetch:{get:hp}};V.forEach(Qd,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Um=t=>`- ${t}`,mj=t=>V.isFunction(t)||t===null||t===!1;function hj(t,s){t=V.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let l=0;l<r;l++){a=t[l];let o;if(n=a,!mj(a)&&(n=Qd[(o=String(a)).toLowerCase()],n===void 0))throw new xe(`Unknown adapter '${o}'`);if(n&&(V.isFunction(n)||(n=n.get(s))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(Um).join(`
`):" "+Um(l[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const xp={getAdapter:hj,adapters:Qd};function po(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Va(null,t)}function Wm(t){return po(t),t.headers=_t.from(t.headers),t.data=xo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xp.getAdapter(t.adapter||ti.adapter,t)(t).then(function(a){return po(t),a.data=xo.call(t,t.transformResponse,a),a.headers=_t.from(a.headers),a},function(a){return cp(a)||(po(t),a&&a.response&&(a.response.data=xo.call(t,t.transformResponse,a.response),a.response.headers=_t.from(a.response.headers))),Promise.reject(a)})}const pp="1.13.2",$l={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{$l[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Vm={};$l.transitional=function(s,r,a){function n(i,l){return"[Axios v"+pp+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new xe(n(l," has been removed"+(r?" in "+r:"")),xe.ERR_DEPRECATED);return r&&!Vm[l]&&(Vm[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};$l.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function xj(t,s,r){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new xe("option "+i+" must be "+c,xe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xe("Unknown option "+i,xe.ERR_BAD_OPTION)}}const Oi={assertOptions:xj,validators:$l},rs=Oi.validators;let Tr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Mm,response:new Mm}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ur(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Oi.assertOptions(a,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),n!=null&&(V.isFunction(n)?r.paramsSerializer={serialize:n}:Oi.assertOptions(n,{encode:rs.function,serialize:rs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Oi.assertOptions(r,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),r.headers=_t.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let m,h=0,g;if(!c){const j=[Wm.bind(this),void 0];for(j.unshift(...o),j.push(...d),g=j.length,m=Promise.resolve(r);h<g;)m=m.then(j[h++],j[h++]);return m}g=o.length;let w=r;for(;h<g;){const j=o[h++],x=o[h++];try{w=j(w)}catch(v){x.call(this,v);break}}try{m=Wm.call(this,w)}catch(j){return Promise.reject(j)}for(h=0,g=d.length;h<g;)m=m.then(d[h++],d[h++]);return m}getUri(s){s=Ur(this.defaults,s);const r=up(s.baseURL,s.url,s.allowAbsoluteUrls);return ip(r,s.params,s.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(s){Tr.prototype[s]=function(r,a){return this.request(Ur(a||{},{method:s,url:r,data:(a||{}).data}))}});V.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(Ur(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Tr.prototype[s]=r(),Tr.prototype[s+"Form"]=r(!0)});let pj=class gp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new Va(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new gp(function(n){s=n}),cancel:s}}};function gj(t){return function(r){return t.apply(null,r)}}function fj(t){return V.isObject(t)&&t.isAxiosError===!0}const Lc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lc).forEach(([t,s])=>{Lc[s]=t});function fp(t){const s=new Tr(t),r=Kx(Tr.prototype.request,s);return V.extend(r,Tr.prototype,s,{allOwnKeys:!0}),V.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return fp(Ur(t,n))},r}const G=fp(ti);G.Axios=Tr;G.CanceledError=Va;G.CancelToken=pj;G.isCancel=cp;G.VERSION=pp;G.toFormData=ql;G.AxiosError=xe;G.Cancel=G.CanceledError;G.all=function(s){return Promise.all(s)};G.spread=gj;G.isAxiosError=fj;G.mergeConfig=Ur;G.AxiosHeaders=_t;G.formToJSON=t=>op(V.isHTMLForm(t)?new FormData(t):t);G.getAdapter=xp.getAdapter;G.HttpStatusCode=Lc;G.default=G;const{Axios:iw,AxiosError:lw,CanceledError:ow,isCancel:cw,CancelToken:dw,VERSION:uw,all:mw,Cancel:hw,isAxiosError:xw,spread:pw,toFormData:gw,AxiosHeaders:fw,HttpStatusCode:yw,formToJSON:bw,getAdapter:vw,mergeConfig:jw}=G,yj=()=>"https://123real-estate-listing-site-with.launchpulse.ai",De=yj();G.interceptors.request.use(t=>{var s;return console.log(`[axios] ${(s=t.method)==null?void 0:s.toUpperCase()} ${t.url}`,{baseURL:t.baseURL,headers:t.headers,timeout:t.timeout}),t},t=>(console.error("[axios] Request error:",t),Promise.reject(t)));G.interceptors.response.use(t=>(console.log(`[axios] Response ${t.status} from ${t.config.url}`),t),t=>(t.response?console.error(`[axios] Response error ${t.response.status}:`,t.response.data):t.request?console.error("[axios] No response received:",t.request):console.error("[axios] Request setup error:",t.message),Promise.reject(t)));const H=Db()(Bb((t,s)=>({authentication_state:{current_user:null,user_auth_token:null,current_agent:null,agent_auth_token:null,current_admin:null,admin_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!0,user_type:"guest"},error_message:null},user_favorites:{saved_properties:[],is_loading:!1,last_updated:null},user_notification_preferences:null,agent_notification_preferences:null,agent_dashboard_state:{unread_inquiry_count:0,total_active_listings:0,is_loading:!1},ui_state:{active_modal:null,mobile_nav_open:!1,toast_messages:[]},login_user:async(r,a)=>{var n,i,l;console.log("[login_user] Starting login...",{email:r}),t(o=>({authentication_state:{...o.authentication_state,authentication_status:{...o.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const o=await G.post(`${De}/api/auth/login`,{email:r,password:a},{headers:{"Content-Type":"application/json"},timeout:15e3});console.log("[login_user] Login successful");const{user:c,token:d}=o.data;if(!c||!d)throw new Error("Invalid response from server: missing user or token");t(m=>({authentication_state:{...m.authentication_state,current_user:c,user_auth_token:d,authentication_status:{is_authenticated:!0,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"property_seeker"},error_message:null}})),setTimeout(()=>{s().load_favorites().catch(m=>{console.error("Failed to load favorites after login:",m)}),s().load_user_notification_preferences().catch(m=>{console.error("Failed to load notification preferences after login:",m)})},100)}catch(o){console.error("[login_user] Login failed:",o);let c="Login failed";throw o.code==="ECONNABORTED"?c="Request timed out. Please check your internet connection and try again.":o.code==="ERR_NETWORK"?c="Network error. Please check your internet connection.":o.response?c=((n=o.response.data)==null?void 0:n.message)||((l=(i=o.response.data)==null?void 0:i.error)==null?void 0:l.message)||`Server error: ${o.response.status}`:o.message&&(c=o.message),t(d=>({authentication_state:{...d.authentication_state,current_user:null,user_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:c}})),new Error(c)}},login_agent:async(r,a)=>{var n,i,l,o,c;t(d=>({authentication_state:{...d.authentication_state,authentication_status:{...d.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const d=await G.post(`${De}/api/auth/agent/login`,{email:r,password:a},{headers:{"Content-Type":"application/json"}}),{agent:m,token:h}=d.data;if(!m.approved||m.approval_status!=="approved")throw new Error("Agent account is not approved yet. Please wait for admin approval.");t(g=>({authentication_state:{...g.authentication_state,current_agent:m,agent_auth_token:h,authentication_status:{is_authenticated:!0,is_agent_authenticated:!0,is_admin_authenticated:!1,is_loading:!1,user_type:"agent"},error_message:null}})),await s().load_agent_notification_preferences(),await s().load_agent_dashboard_stats()}catch(d){const m=((i=(n=d.response)==null?void 0:n.data)==null?void 0:i.message)||((c=(o=(l=d.response)==null?void 0:l.data)==null?void 0:o.error)==null?void 0:c.message)||d.message||"Agent login failed";throw t(h=>({authentication_state:{...h.authentication_state,current_agent:null,agent_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:m}})),new Error(m)}},login_admin:async(r,a)=>{var n,i,l,o,c;t(d=>({authentication_state:{...d.authentication_state,authentication_status:{...d.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const d=await G.post(`${De}/api/auth/admin/login`,{email:r,password:a},{headers:{"Content-Type":"application/json"}}),{admin:m,token:h}=d.data;t(g=>({authentication_state:{...g.authentication_state,current_admin:m,admin_auth_token:h,authentication_status:{is_authenticated:!0,is_agent_authenticated:!1,is_admin_authenticated:!0,is_loading:!1,user_type:"admin"},error_message:null}}))}catch(d){const m=((i=(n=d.response)==null?void 0:n.data)==null?void 0:i.message)||((c=(o=(l=d.response)==null?void 0:l.data)==null?void 0:o.error)==null?void 0:c.message)||d.message||"Admin login failed";throw t(h=>({authentication_state:{...h.authentication_state,current_admin:null,admin_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:m}})),new Error(m)}},register_user:async r=>{var a,n,i,l,o;console.log("[register_user] Starting registration...",{email:r.email}),t(c=>({authentication_state:{...c.authentication_state,authentication_status:{...c.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{console.log("[register_user] Sending POST request to:",`${De}/api/auth/register`);const c=await G.post(`${De}/api/auth/register`,r,{headers:{"Content-Type":"application/json"},timeout:15e3,transformResponse:[h=>{try{return JSON.parse(h)}catch(g){return console.error("[register_user] Failed to parse response:",g),h}}]});console.log("[register_user] Registration successful:",c.data);const{user:d,token:m}=c.data;if(!d||!m)throw new Error("Invalid response from server: missing user or token");t(h=>({authentication_state:{...h.authentication_state,current_user:d,user_auth_token:m,authentication_status:{is_authenticated:!0,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"property_seeker"},error_message:null}})),console.log("[register_user] State updated successfully"),setTimeout(()=>{s().load_user_notification_preferences().catch(h=>{console.error("Failed to load notification preferences after registration:",h)})},100)}catch(c){console.error("[register_user] Registration failed:",c),console.error("[register_user] Error details:",{message:c.message,response:(a=c.response)==null?void 0:a.data,status:(n=c.response)==null?void 0:n.status,code:c.code});let d="Registration failed";throw c.code==="ECONNABORTED"?d="Request timed out. Please check your internet connection and try again.":c.code==="ERR_NETWORK"?d="Network error. Please check your internet connection.":c.response?d=((i=c.response.data)==null?void 0:i.message)||((o=(l=c.response.data)==null?void 0:l.error)==null?void 0:o.message)||`Server error: ${c.response.status}`:c.message&&(d=c.message),t(m=>({authentication_state:{...m.authentication_state,current_user:null,user_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:d}})),new Error(d)}},register_agent:async r=>{var a,n,i,l,o;t(c=>({authentication_state:{...c.authentication_state,authentication_status:{...c.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{await G.post(`${De}/api/auth/agent/register`,r,{headers:{"Content-Type":"application/json"}}),t(c=>({authentication_state:{...c.authentication_state,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:null}})),s().show_toast(`Application submitted! Check ${r.email} for approval notification.`,"success",5e3)}catch(c){const d=((n=(a=c.response)==null?void 0:a.data)==null?void 0:n.message)||((o=(l=(i=c.response)==null?void 0:i.data)==null?void 0:l.error)==null?void 0:o.message)||c.message||"Agent registration failed";throw t(m=>({authentication_state:{...m.authentication_state,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:d}})),new Error(d)}},logout:()=>{const r=s(),a=r.authentication_state.user_auth_token||r.authentication_state.agent_auth_token||r.authentication_state.admin_auth_token;a&&G.post(`${De}/api/auth/logout`,{},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).catch(()=>{}),t({authentication_state:{current_user:null,user_auth_token:null,current_agent:null,agent_auth_token:null,current_admin:null,admin_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:null},user_favorites:{saved_properties:[],is_loading:!1,last_updated:null},user_notification_preferences:null,agent_notification_preferences:null,agent_dashboard_state:{unread_inquiry_count:0,total_active_listings:0,is_loading:!1}}),s().show_toast("Logged out successfully","success")},initialize_auth:async()=>{const{authentication_state:r}=s(),a=r.user_auth_token,n=r.agent_auth_token,i=r.admin_auth_token;if(!a&&!n&&!i){t(l=>({authentication_state:{...l.authentication_state,authentication_status:{...l.authentication_state.authentication_status,is_loading:!1}}}));return}try{if(a){const o=(await G.get(`${De}/api/users/me`,{headers:{Authorization:`Bearer ${a}`}})).data;t(c=>({authentication_state:{...c.authentication_state,current_user:o,user_auth_token:a,authentication_status:{is_authenticated:!0,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"property_seeker"},error_message:null}})),await s().load_favorites(),await s().load_user_notification_preferences();return}if(n){const o=(await G.get(`${De}/api/agents/me`,{headers:{Authorization:`Bearer ${n}`}})).data;t(c=>({authentication_state:{...c.authentication_state,current_agent:o,agent_auth_token:n,authentication_status:{is_authenticated:!0,is_agent_authenticated:!0,is_admin_authenticated:!1,is_loading:!1,user_type:"agent"},error_message:null}})),await s().load_agent_notification_preferences(),await s().load_agent_dashboard_stats();return}i&&t(l=>({authentication_state:{...l.authentication_state,authentication_status:{is_authenticated:!0,is_agent_authenticated:!1,is_admin_authenticated:!0,is_loading:!1,user_type:"admin"}}}))}catch{t(()=>({authentication_state:{current_user:null,user_auth_token:null,current_agent:null,agent_auth_token:null,current_admin:null,admin_auth_token:null,authentication_status:{is_authenticated:!1,is_agent_authenticated:!1,is_admin_authenticated:!1,is_loading:!1,user_type:"guest"},error_message:null}}))}},update_user_profile:r=>{t(a=>({authentication_state:{...a.authentication_state,current_user:r}}))},update_agent_profile:r=>{t(a=>({authentication_state:{...a.authentication_state,current_agent:r}}))},verify_email:async r=>{var a,n,i,l,o;try{const c=await G.post(`${De}/api/auth/verify-email`,{token:r},{headers:{"Content-Type":"application/json"}});s().show_toast("Email verified successfully!","success"),c.data.token&&await s().initialize_auth()}catch(c){const d=((n=(a=c.response)==null?void 0:a.data)==null?void 0:n.message)||((o=(l=(i=c.response)==null?void 0:i.data)==null?void 0:l.error)==null?void 0:o.message)||"Email verification failed";throw s().show_toast(d,"error"),new Error(d)}},request_password_reset:async r=>{var a,n,i,l,o;try{await G.post(`${De}/api/auth/forgot-password`,{email:r},{headers:{"Content-Type":"application/json"}}),s().show_toast("If an account exists, a password reset email has been sent","success")}catch(c){const d=((n=(a=c.response)==null?void 0:a.data)==null?void 0:n.message)||((o=(l=(i=c.response)==null?void 0:i.data)==null?void 0:l.error)==null?void 0:o.message)||"Password reset request failed";throw s().show_toast(d,"error"),new Error(d)}},reset_password:async(r,a)=>{var n,i,l,o,c;try{await G.post(`${De}/api/auth/reset-password`,{token:r,new_password:a},{headers:{"Content-Type":"application/json"}}),s().show_toast("Password reset successfully. You can now login.","success")}catch(d){const m=((i=(n=d.response)==null?void 0:n.data)==null?void 0:i.message)||((c=(o=(l=d.response)==null?void 0:l.data)==null?void 0:o.error)==null?void 0:c.message)||"Password reset failed";throw s().show_toast(m,"error"),new Error(m)}},change_password:async(r,a)=>{var l,o,c,d,m;const n=s(),i=n.authentication_state.user_auth_token||n.authentication_state.agent_auth_token;if(!i)throw new Error("Not authenticated");try{await G.post(`${De}/api/auth/change-password`,{current_password:r,new_password:a},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}}),s().show_toast("Password changed successfully","success")}catch(h){const g=((o=(l=h.response)==null?void 0:l.data)==null?void 0:o.message)||((m=(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:m.message)||"Password change failed";throw s().show_toast(g,"error"),new Error(g)}},clear_auth_error:()=>{t(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},add_favorite:async r=>{var l,o,c,d,m,h;const a=s(),n=(l=a.authentication_state.current_user)==null?void 0:l.user_id,i=a.authentication_state.user_auth_token;if(!n||!i)throw new Error("Must be logged in to save favorites");t(g=>({user_favorites:{...g.user_favorites,saved_properties:[...g.user_favorites.saved_properties,r],last_updated:new Date().toISOString()}}));try{await G.post(`${De}/api/favorites`,{property_id:r},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}}),s().show_toast("Property saved to favorites","success")}catch(g){t(j=>({user_favorites:{...j.user_favorites,saved_properties:j.user_favorites.saved_properties.filter(x=>x!==r)}}));const w=((c=(o=g.response)==null?void 0:o.data)==null?void 0:c.message)||((h=(m=(d=g.response)==null?void 0:d.data)==null?void 0:m.error)==null?void 0:h.message)||"Failed to save property";throw s().show_toast(w,"error"),new Error(w)}},remove_favorite:async r=>{var l,o,c,d,m;const a=s(),n=a.authentication_state.user_auth_token;if(!n)throw new Error("Must be logged in to manage favorites");const i=a.user_favorites.saved_properties;t(h=>({user_favorites:{...h.user_favorites,saved_properties:h.user_favorites.saved_properties.filter(g=>g!==r),last_updated:new Date().toISOString()}}));try{await G.delete(`${De}/api/favorites/${r}`,{headers:{Authorization:`Bearer ${n}`}}),s().show_toast("Property removed from favorites","success")}catch(h){t(w=>({user_favorites:{...w.user_favorites,saved_properties:i}}));const g=((o=(l=h.response)==null?void 0:l.data)==null?void 0:o.message)||((m=(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:m.message)||"Failed to remove property";throw s().show_toast(g,"error"),new Error(g)}},load_favorites:async()=>{var i,l;const r=s(),a=(i=r.authentication_state.current_user)==null?void 0:i.user_id,n=r.authentication_state.user_auth_token;if(!(!a||!n)){t(o=>({user_favorites:{...o.user_favorites,is_loading:!0}}));try{const o=await G.get(`${De}/api/favorites`,{headers:{Authorization:`Bearer ${n}`},params:{limit:1e3,offset:0},timeout:5e3}),d=(Array.isArray(o.data)?o.data:o.data.data||[]).map(m=>m.property_id);t(()=>({user_favorites:{saved_properties:d,is_loading:!1,last_updated:new Date().toISOString()}}))}catch(o){t(c=>({user_favorites:{...c.user_favorites,is_loading:!1}})),((l=o.response)==null?void 0:l.status)!==404&&console.error("Failed to load favorites:",o)}}},is_property_saved:r=>s().user_favorites.saved_properties.includes(r),load_user_notification_preferences:async()=>{var n;const a=s().authentication_state.user_auth_token;if(a)try{const i=await G.get(`${De}/api/users/notification-preferences`,{headers:{Authorization:`Bearer ${a}`},timeout:5e3});t({user_notification_preferences:i.data})}catch(i){((n=i.response)==null?void 0:n.status)!==404&&console.error("Failed to load user notification preferences:",i)}},update_user_notification_preferences:async r=>{var l,o,c,d,m;const a=s(),n=a.authentication_state.user_auth_token;if(!n||!a.user_notification_preferences)throw new Error("User not authenticated or preferences not loaded");const i=a.user_notification_preferences;t(h=>({user_notification_preferences:h.user_notification_preferences?{...h.user_notification_preferences,...r}:null}));try{const h=await G.put(`${De}/api/users/notification-preferences`,r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});t({user_notification_preferences:h.data}),s().show_toast("Notification preferences updated","success")}catch(h){t({user_notification_preferences:i});const g=((o=(l=h.response)==null?void 0:l.data)==null?void 0:o.message)||((m=(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:m.message)||"Failed to update preferences";throw s().show_toast(g,"error"),new Error(g)}},load_agent_notification_preferences:async()=>{const a=s().authentication_state.agent_auth_token;if(a)try{const n=await G.get(`${De}/api/agents/notification-preferences`,{headers:{Authorization:`Bearer ${a}`}});t({agent_notification_preferences:n.data})}catch(n){console.error("Failed to load agent notification preferences:",n)}},update_agent_notification_preferences:async r=>{var l,o,c,d,m;const a=s(),n=a.authentication_state.agent_auth_token;if(!n||!a.agent_notification_preferences)throw new Error("Agent not authenticated or preferences not loaded");const i=a.agent_notification_preferences;t(h=>({agent_notification_preferences:h.agent_notification_preferences?{...h.agent_notification_preferences,...r}:null}));try{const h=await G.put(`${De}/api/agents/notification-preferences`,r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});t({agent_notification_preferences:h.data}),s().show_toast("Notification preferences updated","success")}catch(h){t({agent_notification_preferences:i});const g=((o=(l=h.response)==null?void 0:l.data)==null?void 0:o.message)||((m=(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:m.message)||"Failed to update preferences";throw s().show_toast(g,"error"),new Error(g)}},load_agent_dashboard_stats:async()=>{const a=s().authentication_state.agent_auth_token;if(a){t(n=>({agent_dashboard_state:{...n.agent_dashboard_state,is_loading:!0}}));try{const n=await G.get(`${De}/api/agents/dashboard/stats`,{headers:{Authorization:`Bearer ${a}`}});t(()=>({agent_dashboard_state:{unread_inquiry_count:n.data.unread_inquiry_count||0,total_active_listings:n.data.total_active_listings||0,is_loading:!1}}))}catch(n){t(i=>({agent_dashboard_state:{...i.agent_dashboard_state,is_loading:!1}})),console.error("Failed to load agent dashboard stats:",n)}}},set_unread_inquiry_count:r=>{t(a=>({agent_dashboard_state:{...a.agent_dashboard_state,unread_inquiry_count:r}}))},increment_unread_inquiries:()=>{t(r=>({agent_dashboard_state:{...r.agent_dashboard_state,unread_inquiry_count:r.agent_dashboard_state.unread_inquiry_count+1}}))},decrement_unread_inquiries:()=>{t(r=>({agent_dashboard_state:{...r.agent_dashboard_state,unread_inquiry_count:Math.max(0,r.agent_dashboard_state.unread_inquiry_count-1)}}))},show_toast:(r,a="info",n=3e3)=>{const i=`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l={id:i,message:r,type:a,duration:n,created_at:new Date().toISOString()};t(o=>({ui_state:{...o.ui_state,toast_messages:[...o.ui_state.toast_messages,l]}})),setTimeout(()=>{s().dismiss_toast(i)},n)},dismiss_toast:r=>{t(a=>({ui_state:{...a.ui_state,toast_messages:a.ui_state.toast_messages.filter(n=>n.id!==r)}}))},open_modal:r=>{t(a=>({ui_state:{...a.ui_state,active_modal:r}}))},close_modal:()=>{t(r=>({ui_state:{...r.ui_state,active_modal:null}}))},toggle_mobile_nav:()=>{t(r=>({ui_state:{...r.ui_state,mobile_nav_open:!r.ui_state.mobile_nav_open}}))}}),{name:"propconnect-app-storage",partialize:t=>({authentication_state:{current_user:t.authentication_state.current_user,user_auth_token:t.authentication_state.user_auth_token,current_agent:t.authentication_state.current_agent,agent_auth_token:t.authentication_state.agent_auth_token,current_admin:t.authentication_state.current_admin,admin_auth_token:t.authentication_state.admin_auth_token,authentication_status:{is_authenticated:t.authentication_state.authentication_status.is_authenticated,is_agent_authenticated:t.authentication_state.authentication_status.is_agent_authenticated,is_admin_authenticated:t.authentication_state.authentication_status.is_admin_authenticated,is_loading:!1,user_type:t.authentication_state.authentication_status.user_type},error_message:null},user_favorites:{saved_properties:t.user_favorites.saved_properties,is_loading:!1,last_updated:t.user_favorites.last_updated},user_notification_preferences:t.user_notification_preferences,agent_notification_preferences:t.agent_notification_preferences})}));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yp=(...t)=>t.filter((s,r,a)=>!!s&&a.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=k.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},c)=>k.createElement("svg",{ref:c,...vj,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:yp("lucide",n),...o},[...l.map(([d,m])=>k.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,s)=>{const r=k.forwardRef(({className:a,...n},i)=>k.createElement(jj,{ref:i,iconNode:s,className:yp(`lucide-${bj(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=se("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=se("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=se("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=se("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=se("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=se("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=se("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=se("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=se("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=se("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=se("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kj=()=>{const[t,s]=k.useState(!1),r=k.useRef(null),a=H(A=>A.authentication_state.current_user),n=H(A=>A.authentication_state.current_agent),i=H(A=>A.authentication_state.authentication_status.is_authenticated),l=H(A=>A.authentication_state.authentication_status.is_agent_authenticated),o=H(A=>A.authentication_state.authentication_status.user_type),c=H(A=>A.agent_dashboard_state.unread_inquiry_count),d=H(A=>A.ui_state.mobile_nav_open),m=H(A=>A.logout),h=H(A=>A.toggle_mobile_nav),w=hr().pathname;k.useEffect(()=>{const A=q=>{r.current&&!r.current.contains(q.target)&&s(!1)};if(t)return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[t]),k.useEffect(()=>{s(!1)},[w]),k.useEffect(()=>{d&&h()},[w,d,h]);const j=()=>{s(!1),m()},x=()=>{s(!t)},v=()=>{h()},u=A=>A==="/"?w==="/":w.startsWith(A),p=A=>`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u(A)?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,f=()=>((a==null?void 0:a.full_name)||(n==null?void 0:n.full_name)||"").split(" ").map(q=>q[0]).join("").toUpperCase().substring(0,2),C=()=>(a==null?void 0:a.full_name)||(n==null?void 0:n.full_name)||"User",L=()=>(a==null?void 0:a.profile_photo_url)||(n==null?void 0:n.profile_photo_url)||null;return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-200 shadow-sm backdrop-blur-sm",children:[e.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs(I,{to:"/",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(oa,{className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-bold hidden sm:block",children:"PropConnect"})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[e.jsx(I,{to:"/",className:p("/"),children:"Home"}),e.jsx(I,{to:"/search?listing_type=sale",className:p("/search"),children:"Buy"}),e.jsx(I,{to:"/search?listing_type=rent",className:p("/rent"),children:"Rent"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!i&&!l&&e.jsxs(e.Fragment,{children:[e.jsx(I,{to:"/login",className:"hidden sm:block px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Sign In"}),e.jsx(I,{to:"/register",className:"hidden sm:block px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md",children:"Register"})]}),i&&o==="property_seeker"&&a&&e.jsxs("div",{className:"relative",ref:r,children:[e.jsxs("button",{onClick:x,className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-expanded":t,"aria-haspopup":"true",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-md overflow-hidden",children:L()?e.jsx("img",{src:L(),alt:C(),className:"w-full h-full object-cover"}):e.jsx("span",{children:f()})}),e.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700",children:C()}),e.jsx(qa,{className:`hidden lg:block h-4 w-4 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 divide-y divide-gray-100",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.full_name}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:a.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(I,{to:"/account",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(Ys,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Account"]}),e.jsxs(I,{to:"/saved-properties",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(At,{className:"h-4 w-4 mr-3 text-gray-400"}),"Saved Properties"]}),e.jsxs(I,{to:"/my-inquiries",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(js,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Inquiries"]})]}),e.jsx("div",{className:"py-2",children:e.jsxs("button",{onClick:j,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(ca,{className:"h-4 w-4 mr-3"}),"Logout"]})})]})]}),l&&o==="agent"&&n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(I,{to:"/agent/dashboard",className:"hidden sm:flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md",children:"Dashboard"}),e.jsxs("div",{className:"relative",ref:r,children:[e.jsxs("button",{onClick:x,className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-expanded":t,"aria-haspopup":"true",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-semibold shadow-md overflow-hidden",children:L()?e.jsx("img",{src:L(),alt:C(),className:"w-full h-full object-cover"}):e.jsx("span",{children:f()})}),c>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("span",{className:"text-xs font-bold text-white",children:c>9?"9+":c})})]}),e.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700",children:C()}),e.jsx(qa,{className:`hidden lg:block h-4 w-4 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 divide-y divide-gray-100",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.full_name}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:n.email}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.agency_name})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(I,{to:"/agent/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(ve,{className:"h-4 w-4 mr-3 text-gray-400"}),"Dashboard"]}),e.jsxs(I,{to:"/agent/listings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(oa,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Listings"]}),e.jsxs(I,{to:"/agent/inquiries",className:"flex items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"h-4 w-4 mr-3 text-gray-400"}),"Inquiries"]}),c>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:c>99?"99+":c})]}),e.jsxs(I,{to:"/agent/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(Ys,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Profile"]}),e.jsxs(I,{to:"/agent/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx($c,{className:"h-4 w-4 mr-3 text-gray-400"}),"Settings"]})]}),e.jsx("div",{className:"py-2",children:e.jsxs("button",{onClick:j,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(ca,{className:"h-4 w-4 mr-3"}),"Logout"]})})]})]})]}),e.jsx("button",{onClick:v,className:"md:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle mobile menu","aria-expanded":d,children:d?e.jsx(Je,{className:"h-6 w-6"}):e.jsx(Oj,{className:"h-6 w-6"})})]})]})}),d&&e.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[e.jsx(I,{to:"/",className:"block px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",onClick:v,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"h-5 w-5 mr-3 text-gray-400"}),"Home"]})}),e.jsx(I,{to:"/search?listing_type=sale",className:"block px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",onClick:v,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-5 w-5 mr-3 text-gray-400"}),"Buy"]})}),e.jsx(I,{to:"/search?listing_type=rent",className:"block px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",onClick:v,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oa,{className:"h-5 w-5 mr-3 text-gray-400"}),"Rent"]})}),!i&&!l&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 space-y-2",children:[e.jsx(I,{to:"/login",className:"block px-4 py-3 text-center rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors border border-gray-300",onClick:v,children:"Sign In"}),e.jsx(I,{to:"/register",className:"block px-4 py-3 text-center rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition-colors",onClick:v,children:"Register"})]}),i&&o==="property_seeker"&&a&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 space-y-2",children:[e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.full_name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.email})]}),e.jsxs(I,{to:"/account",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(Ys,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Account"]}),e.jsxs(I,{to:"/saved-properties",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(At,{className:"h-5 w-5 mr-3 text-gray-400"}),"Saved Properties"]}),e.jsxs(I,{to:"/my-inquiries",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(js,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Inquiries"]}),e.jsxs("button",{onClick:j,className:"flex items-center w-full px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(ca,{className:"h-5 w-5 mr-3"}),"Logout"]})]}),l&&o==="agent"&&n&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 space-y-2",children:[e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.full_name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.email}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.agency_name})]}),e.jsxs(I,{to:"/agent/dashboard",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(ve,{className:"h-5 w-5 mr-3 text-gray-400"}),"Dashboard"]}),e.jsxs(I,{to:"/agent/listings",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(oa,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Listings"]}),e.jsxs(I,{to:"/agent/inquiries",className:"flex items-center justify-between px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"h-5 w-5 mr-3 text-gray-400"}),"Inquiries"]}),c>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:c>99?"99+":c})]}),e.jsxs(I,{to:"/agent/profile",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx(Ys,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Profile"]}),e.jsxs(I,{to:"/agent/settings",className:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:v,children:[e.jsx($c,{className:"h-5 w-5 mr-3 text-gray-400"}),"Settings"]}),e.jsxs("button",{onClick:j,className:"flex items-center w-full px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(ca,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})})]})})},Yj=()=>{const t=new Date().getFullYear();return e.jsx(e.Fragment,{children:e.jsx("footer",{className:"bg-gray-900 border-t border-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(I,{to:"/",className:"text-2xl font-bold text-white hover:text-blue-400 transition-colors duration-200",children:"PropConnect"})}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Find your dream property with trusted real estate agents. Browse thousands of listings across the country."}),e.jsxs("div",{className:"flex items-center space-x-4 pt-2",children:[e.jsx("a",{href:"https://facebook.com/propconnect",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit PropConnect on Facebook",className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx(Ej,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://twitter.com/propconnect",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit PropConnect on Twitter",className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx(Vj,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://instagram.com/propconnect",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit PropConnect on Instagram",className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx(Tj,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://linkedin.com/company/propconnect",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit PropConnect on LinkedIn",className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx(Dj,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"Quick Links"}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx(I,{to:"/",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Home"}),e.jsx(I,{to:"/search?listing_type=sale",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"For Sale"}),e.jsx(I,{to:"/search?listing_type=rent",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"For Rent"}),e.jsx(I,{to:"/about",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"About Us"}),e.jsx(I,{to:"/contact",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Contact"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"For Agents"}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx(I,{to:"/agent/login",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Agent Login"}),e.jsx(I,{to:"/agent/register",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Register as Agent"}),e.jsx(I,{to:"/agent/resources",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Agent Resources"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"Legal"}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx(I,{to:"/terms",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Terms of Service"}),e.jsx(I,{to:"/privacy",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Privacy Policy"}),e.jsx(I,{to:"/cookies",className:"block text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Cookie Policy"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"mailto:info@propconnect.com",className:"flex items-center space-x-2 text-base text-gray-300 hover:text-white transition-colors duration-200",children:[e.jsx(Ce,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),e.jsx("span",{children:"info@propconnect.com"})]}),e.jsxs("a",{href:"tel:+15551234567",className:"flex items-center space-x-2 text-base text-gray-300 hover:text-white transition-colors duration-200",children:[e.jsx(Et,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),e.jsx("span",{children:"(555) 123-4567"})]}),e.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-400",children:[e.jsx(nt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("span",{className:"leading-relaxed",children:["123 Real Estate Ave",e.jsx("br",{}),"Suite 100",e.jsx("br",{}),"Miami, FL 33131"]})]})]})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",t," PropConnect. All rights reserved."]})})]})})})},Gj=()=>{const t=Be(),s=H(g=>g.ui_state.mobile_nav_open),r=H(g=>g.toggle_mobile_nav),a=H(g=>g.logout),n=H(g=>g.authentication_state.authentication_status.is_authenticated),i=H(g=>g.authentication_state.authentication_status.is_agent_authenticated),l=H(g=>g.authentication_state.current_user),o=H(g=>g.authentication_state.current_agent),c=H(g=>g.user_favorites.saved_properties.length),d=H(g=>g.agent_dashboard_state.unread_inquiry_count);k.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),k.useEffect(()=>{const g=w=>{w.key==="Escape"&&s&&r()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s,r]);const m=g=>{t(g),r()},h=()=>{a(),r()};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:r,"aria-hidden":"true"}),e.jsxs("div",{className:"fixed inset-y-0 left-0 w-full max-w-sm bg-white z-50 shadow-2xl transform transition-transform duration-300 ease-in-out overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"mobile-nav-title",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsx("h2",{id:"mobile-nav-title",className:"text-xl font-bold text-gray-900",children:"Menu"}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Close navigation",children:e.jsx(Je,{className:"w-6 h-6"})})]}),n&&l&&!i&&e.jsx("div",{className:"border-b border-gray-200 px-6 py-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[l.profile_photo_url?e.jsx("img",{src:l.profile_photo_url,alt:l.full_name,className:"w-14 h-14 rounded-full object-cover border-2 border-white shadow-md"}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-xl font-bold shadow-md border-2 border-white",children:l.full_name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:l.full_name}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:l.email})]})]})}),i&&o&&e.jsx("div",{className:"border-b border-gray-200 px-6 py-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[o.profile_photo_url?e.jsx("img",{src:o.profile_photo_url,alt:o.full_name,className:"w-14 h-14 rounded-full object-cover border-2 border-white shadow-md"}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-xl font-bold shadow-md border-2 border-white",children:o.full_name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:o.full_name}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:o.professional_title||o.agency_name})]})]})}),e.jsxs("nav",{className:"px-4 py-6","aria-label":"Mobile navigation",children:[!n&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>m("/"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Home"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/search?listing_type=sale"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"For Sale"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/search?listing_type=rent"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"For Rent"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("button",{onClick:()=>m("/login"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ys,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In"})]}),e.jsx(Se,{className:"w-5 h-5 text-blue-400"})]}),e.jsx("button",{onClick:()=>m("/register"),className:"w-full flex items-center justify-center px-4 py-3 text-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Register Free"}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("button",{onClick:()=>m("/agent/login"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-base font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300",children:[e.jsx("span",{children:"Are you an agent? Sign In"}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]})]}),n&&!i&&l&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>m("/"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Home"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/search?listing_type=sale"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"For Sale"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/search?listing_type=rent"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"For Rent"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("button",{onClick:()=>m("/saved-properties"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(At,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Saved Properties"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c>0&&e.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-semibold px-2 py-1 rounded-full min-w-[24px] text-center",children:c}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("button",{onClick:()=>m("/my-inquiries"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(js,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"My Inquiries"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/account"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ys,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"My Account"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(ca,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]}),e.jsx(Se,{className:"w-5 h-5 text-red-400"})]})]}),i&&o&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>m("/agent/dashboard"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(zj,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Dashboard"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/agent/listings"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(dn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"My Listings"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/agent/listings/create"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(In,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Create Listing"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/agent/inquiries"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(js,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Inquiries"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full min-w-[24px] text-center",children:d}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("button",{onClick:()=>m("/agent/profile"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(Ys,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Profile"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/agent/settings"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx($c,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Settings"})]}),e.jsx(Se,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),o.agent_id&&e.jsxs("button",{onClick:()=>m(`/agent/${o.agent_id}`),className:"w-full flex items-center justify-between px-4 py-3 text-left text-base font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300",children:[e.jsx("span",{children:"View Public Profile"}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("button",{onClick:()=>m("/"),className:"w-full flex items-center justify-between px-4 py-3 text-left text-base font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300",children:[e.jsx("span",{children:"Back to Website"}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between px-4 py-3 text-left text-lg font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(ca,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]}),e.jsx(Se,{className:"w-5 h-5 text-red-400"})]})]})]}),e.jsx("div",{className:"mt-auto px-6 py-6 border-t border-gray-200 bg-gray-50",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2024 PropConnect. All rights reserved."})})]})]}):null},Jj=({isOpen:t,onClose:s,initialMode:r="login",onSuccess:a})=>{const n=H(ee=>ee.authentication_state.authentication_status.is_loading),i=H(ee=>ee.authentication_state.error_message),l=H(ee=>ee.login_user),o=H(ee=>ee.register_user),c=H(ee=>ee.request_password_reset),d=H(ee=>ee.clear_auth_error),[m,h]=k.useState(r),[g,w]=k.useState(""),[j,x]=k.useState(""),[v,u]=k.useState(!1),[p,f]=k.useState({}),[C,L]=k.useState(""),[A,q]=k.useState(""),[S,b]=k.useState(""),[T,Q]=k.useState(""),[W,O]=k.useState(""),[te,D]=k.useState(!1),[Y,y]=k.useState({}),[N,P]=k.useState(!1),[K,$]=k.useState(!1),[F,M]=k.useState("weak"),[_,B]=k.useState(""),[Z,ne]=k.useState(!1),[ue,z]=k.useState({}),ie=()=>{w(""),x(""),u(!1),f({}),L(""),q(""),b(""),Q(""),O(""),D(!1),y({}),B(""),ne(!1),z({}),P(!1),$(!1)},oe=k.useCallback(()=>{ie(),d(),s()},[d,s]);k.useEffect(()=>{ie(),d()},[m,d]),k.useEffect(()=>{h(r)},[r]),k.useEffect(()=>{const ee=he=>{he.key==="Escape"&&t&&oe()};return t&&(document.addEventListener("keydown",ee),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",ee),document.body.style.overflow="unset"}},[t,oe]),k.useEffect(()=>{if(A.length===0){M("weak");return}let ee=0;A.length>=8&&ee++,A.length>=12&&ee++,/[a-z]/.test(A)&&/[A-Z]/.test(A)&&ee++,/\d/.test(A)&&ee++,/[^a-zA-Z\d]/.test(A)&&ee++,ee<=2?M("weak"):ee<=4?M("medium"):M("strong")},[A]);const U=ee=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee),E=async ee=>{ee.preventDefault(),f({}),d();const he={};if(g?U(g)||(he.email="Please enter a valid email address"):he.email="Email is required",j||(he.password="Password is required"),Object.keys(he).length>0){f(he);return}try{await l(g,j),oe(),a&&a()}catch(xr){console.error("Login failed:",xr)}},le=async ee=>{ee.preventDefault(),y({}),d();const he={};if(C?U(C)||(he.email="Please enter a valid email address"):he.email="Email is required",A?A.length<8&&(he.password="Password must be at least 8 characters"):he.password="Password is required",A!==S&&(he.confirm_password="Passwords do not match"),T||(he.full_name="Full name is required"),te||(he.terms="You must agree to the Terms and Privacy Policy"),Object.keys(he).length>0){y(he);return}try{await o({email:C,password:A,full_name:T,phone_number:W||null}),oe(),a&&a()}catch(xr){console.error("Registration failed:",xr)}},de=async ee=>{ee.preventDefault(),z({});const he={};if(_?U(_)||(he.email="Please enter a valid email address"):he.email="Email is required",Object.keys(he).length>0){z(he);return}try{await c(_),ne(!0)}catch(xr){console.error("Password reset request failed:",xr)}};return t?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm transition-opacity duration-200",onClick:oe,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto relative animate-in fade-in zoom-in duration-200",onClick:ee=>ee.stopPropagation(),children:[e.jsx("button",{onClick:oe,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100","aria-label":"Close modal",children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsxs("div",{className:"px-8 pt-8 pb-6",children:[e.jsxs("h2",{id:"modal-title",className:"text-3xl font-bold text-gray-900 text-center",children:[m==="login"&&"Welcome Back",m==="register"&&"Create Account",m==="forgot_password"&&"Reset Password"]}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[m==="login"&&"Sign in to save properties and contact agents",m==="register"&&"Join PropConnect to access exclusive features",m==="forgot_password"&&"Enter your email to receive a reset link"]})]}),e.jsxs("div",{className:"px-8 pb-8",children:[i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",role:"alert",children:e.jsx("span",{className:"text-sm",children:i})}),m==="login"&&e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{id:"login-email",type:"email",autoComplete:"email",required:!0,value:g,onChange:ee=>{w(ee.target.value),p.email&&f(he=>({...he,email:""}))},placeholder:"your.email@example.com",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${p.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),p.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"login-password",type:N?"text":"password",autoComplete:"current-password",required:!0,value:j,onChange:ee=>{x(ee.target.value),p.password&&f(he=>({...he,password:""}))},placeholder:"Enter your password",className:`w-full px-4 py-3 pr-12 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${p.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>P(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":N?"Hide password":"Show password",children:N?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),p.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:ee=>u(ee.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"button",onClick:()=>h("forgot_password"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:n?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("button",{type:"button",onClick:()=>h("register"),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Sign up"})]})})]}),m==="register"&&e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"register-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{id:"register-name",type:"text",autoComplete:"name",required:!0,value:T,onChange:ee=>{Q(ee.target.value),Y.full_name&&y(he=>({...he,full_name:""}))},placeholder:"Enter your full name",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${Y.full_name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),Y.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"register-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{id:"register-email",type:"email",autoComplete:"email",required:!0,value:C,onChange:ee=>{L(ee.target.value),Y.email&&y(he=>({...he,email:""}))},placeholder:"your.email@example.com",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${Y.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),Y.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"register-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{id:"register-phone",type:"tel",autoComplete:"tel",value:W,onChange:ee=>O(ee.target.value),placeholder:"(123) 456-7890",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"register-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"register-password",type:K?"text":"password",autoComplete:"new-password",required:!0,value:A,onChange:ee=>{q(ee.target.value),Y.password&&y(he=>({...he,password:""}))},placeholder:"Create a password",className:`w-full px-4 py-3 pr-12 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${Y.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>$(!K),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":K?"Hide password":"Show password",children:K?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),A&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${F==="weak"?"w-1/3 bg-red-500":F==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),e.jsx("span",{className:`text-xs font-medium ${F==="weak"?"text-red-600":F==="medium"?"text-yellow-600":"text-green-600"}`,children:F==="weak"?"Weak":F==="medium"?"Medium":"Strong"})]}),F==="weak"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use 8+ characters with mix of letters, numbers & symbols"})]}),Y.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),e.jsx("input",{id:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:S,onChange:ee=>{b(ee.target.value),Y.confirm_password&&y(he=>({...he,confirm_password:""}))},placeholder:"Confirm your password",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${Y.confirm_password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),Y.confirm_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.confirm_password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:te,onChange:ee=>{D(ee.target.checked),Y.terms&&y(he=>({...he,terms:""}))},className:`w-4 h-4 mt-0.5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 ${Y.terms?"border-red-300":""}`}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I agree to the"," ",e.jsx(I,{to:"/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Terms of Service"})," ","and"," ",e.jsx(I,{to:"/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Privacy Policy"})]})]}),Y.terms&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.terms})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl mt-6",children:n?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>h("login"),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Sign in"})]})})]}),m==="forgot_password"&&e.jsx(e.Fragment,{children:Z?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Check Your Email"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["If an account exists with ",e.jsx("strong",{children:_}),", we've sent password reset instructions to your inbox."]}),e.jsx("p",{className:"text-xs text-gray-500",children:"The link will expire in 24 hours. If you don't see the email, check your spam folder."}),e.jsx("button",{type:"button",onClick:()=>h("login"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl mt-4",children:"Back to Sign In"})]}):e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"forgot-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{id:"forgot-email",type:"email",autoComplete:"email",required:!0,value:_,onChange:ee=>{B(ee.target.value),ue.email&&z(he=>({...he,email:""}))},placeholder:"your.email@example.com",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${ue.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),ue.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.email})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:n?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>h("login"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:" Back to Sign In"})})]})})]})]})})}):null},Zj=()=>{const t=Be(),s=H(u=>u.authentication_state.authentication_status.is_authenticated),r=H(u=>u.user_favorites.saved_properties),a=H(u=>u.add_favorite),n=H(u=>u.remove_favorite),i=H(u=>u.open_modal),[l,o]=k.useState({location:"",min_price:null,max_price:null,property_type:"all",listing_type:"sale",validation_errors:{}}),{data:c,isLoading:d,error:m,refetch:h}=Ne({queryKey:["featured-properties"],queryFn:async()=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",{params:{is_featured:!0,status:"active",limit:12,sort_by:"featured_order",sort_order:"asc"}})).data.data,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),g=(u,p,f)=>{const C=new Intl.NumberFormat("en-US",{style:"currency",currency:p||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u);return f==="rent"?`${C}/month`:C},w=u=>r.includes(u),j=u=>{if(u.preventDefault(),o(f=>({...f,validation_errors:{}})),l.min_price&&l.max_price&&l.max_price<l.min_price){o(f=>({...f,validation_errors:{price_range:"Maximum price must be greater than minimum price"}}));return}const p=new URLSearchParams;l.location&&p.set("location",l.location),l.min_price&&p.set("min_price",String(l.min_price)),l.max_price&&p.set("max_price",String(l.max_price)),l.property_type!=="all"&&p.set("property_type",l.property_type),p.set("listing_type",l.listing_type),t(`/search?${p.toString()}`)},x=(u,p)=>{const f=new URLSearchParams;switch(f.set("listing_type","sale"),u){case"bedrooms":f.set("bedrooms",p);break;case"amenities":f.set("amenities",p);break;case"price":f.set("max_price",p);break;case"new":f.set("new_construction","true");break}t(`/search?${f.toString()}`)},v=async u=>{if(!s){i("auth_modal");return}const p=w(u);try{p?await n(u):await a(u)}catch(f){console.error("Favorite toggle error:",f)}};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 pt-20 pb-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.4"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'}})}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:"Find Your Dream Property"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Browse thousands of listings from trusted agents"})]}),e.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"inline-flex rounded-lg bg-gray-100 p-1",children:[e.jsx("button",{type:"button",onClick:()=>o(u=>({...u,listing_type:"sale"})),className:`px-6 py-2 rounded-md font-medium transition-all duration-200 ${l.listing_type==="sale"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Buy"}),e.jsx("button",{type:"button",onClick:()=>o(u=>({...u,listing_type:"rent"})),className:`px-6 py-2 rounded-md font-medium transition-all duration-200 ${l.listing_type==="rent"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Rent"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 size-5"}),e.jsx("input",{type:"text",value:l.location,onChange:u=>o(p=>({...p,location:u.target.value})),placeholder:"Enter city, neighborhood, or ZIP code",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all text-gray-900 placeholder-gray-400"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 size-5"}),e.jsxs("select",{value:l.min_price||"",onChange:u=>o(p=>({...p,min_price:u.target.value?Number(u.target.value):null})),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all text-gray-900 appearance-none bg-white",children:[e.jsx("option",{value:"",children:"Min Price"}),e.jsx("option",{value:"50000",children:"$50K"}),e.jsx("option",{value:"100000",children:"$100K"}),e.jsx("option",{value:"150000",children:"$150K"}),e.jsx("option",{value:"200000",children:"$200K"}),e.jsx("option",{value:"250000",children:"$250K"}),e.jsx("option",{value:"300000",children:"$300K"}),e.jsx("option",{value:"400000",children:"$400K"}),e.jsx("option",{value:"500000",children:"$500K"}),e.jsx("option",{value:"750000",children:"$750K"}),e.jsx("option",{value:"1000000",children:"$1M+"})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 size-5"}),e.jsxs("select",{value:l.max_price||"",onChange:u=>o(p=>({...p,max_price:u.target.value?Number(u.target.value):null})),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all text-gray-900 appearance-none bg-white",children:[e.jsx("option",{value:"",children:"Max Price"}),e.jsx("option",{value:"100000",children:"$100K"}),e.jsx("option",{value:"150000",children:"$150K"}),e.jsx("option",{value:"200000",children:"$200K"}),e.jsx("option",{value:"300000",children:"$300K"}),e.jsx("option",{value:"400000",children:"$400K"}),e.jsx("option",{value:"500000",children:"$500K"}),e.jsx("option",{value:"750000",children:"$750K"}),e.jsx("option",{value:"1000000",children:"$1M"}),e.jsx("option",{value:"2000000",children:"$2M"}),e.jsx("option",{value:"5000000",children:"$5M+"})]})]})})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 size-5"}),e.jsxs("select",{value:l.property_type,onChange:u=>o(p=>({...p,property_type:u.target.value})),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all text-gray-900 appearance-none bg-white",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"house",children:"House"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"condo",children:"Condo"}),e.jsx("option",{value:"townhouse",children:"Townhouse"}),e.jsx("option",{value:"land",children:"Land"}),e.jsx("option",{value:"commercial",children:"Commercial"})]})]})}),l.validation_errors.price_range&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:l.validation_errors.price_range}),e.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-4 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[e.jsx(Ot,{className:"size-5"}),e.jsx("span",{children:"Search Properties"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[e.jsx("button",{type:"button",onClick:()=>x("bedrooms","3"),className:"px-4 py-2 bg-white border-2 border-gray-200 rounded-full text-gray-700 hover:border-blue-500 hover:text-blue-600 transition-all text-sm font-medium",children:"3+ Bedrooms"}),e.jsx("button",{type:"button",onClick:()=>x("amenities","pool"),className:"px-4 py-2 bg-white border-2 border-gray-200 rounded-full text-gray-700 hover:border-blue-500 hover:text-blue-600 transition-all text-sm font-medium",children:"Has Pool"}),e.jsx("button",{type:"button",onClick:()=>x("new","true"),className:"px-4 py-2 bg-white border-2 border-gray-200 rounded-full text-gray-700 hover:border-blue-500 hover:text-blue-600 transition-all text-sm font-medium",children:"New Listings"}),e.jsx("button",{type:"button",onClick:()=>x("price","300000"),className:"px-4 py-2 bg-white border-2 border-gray-200 rounded-full text-gray-700 hover:border-blue-500 hover:text-blue-600 transition-all text-sm font-medium",children:"Under $300K"})]})]})})]})]}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Featured Properties"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Discover handpicked properties from our trusted agents"})]}),d&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(12)].map((u,p)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-xl h-64 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},p))}),m&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 inline-block",children:[e.jsx("p",{className:"text-red-700 mb-4",children:"Failed to load featured properties"}),e.jsx("button",{onClick:()=>h(),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Retry"})]})}),!d&&!m&&c&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(u=>{var p,f,C,L,A,q;return e.jsxs("div",{className:"group bg-white rounded-xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx(I,{to:`/property/${u.property_id}`,children:e.jsx("img",{src:((p=u.primary_photo)==null?void 0:p.thumbnail_url)||((f=u.primary_photo)==null?void 0:f.image_url)||"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800",alt:u.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>v(u.property_id),className:"absolute top-4 right-4 w-10 h-10 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110","aria-label":w(u.property_id)?"Remove from favorites":"Add to favorites",children:e.jsx(At,{className:`size-5 transition-colors ${w(u.property_id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${u.listing_type==="sale"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:["For ",u.listing_type==="sale"?"Sale":"Rent"]})}),u.status==="pending"&&e.jsx("div",{className:"absolute top-12 left-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500 text-white",children:"Pending"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g(u.price,u.currency,u.listing_type)}),u.price_per_sqft&&e.jsxs("p",{className:"text-sm text-gray-500",children:["$",Number(u.price_per_sqft||0).toFixed(0),"/sqft"]})]}),e.jsxs(I,{to:`/property/${u.property_id}`,className:"block mb-3 group-hover:text-blue-600 transition-colors",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1 line-clamp-1",children:u.address_street}),e.jsxs("p",{className:"text-sm text-gray-600",children:[u.address_city,", ",u.address_state]})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 capitalize",children:u.property_type.replace("_"," ")}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vr,{className:"size-4"}),e.jsxs("span",{children:[u.bedrooms," bd"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"size-4"}),e.jsxs("span",{children:[u.bathrooms," ba"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(On,{className:"size-4"}),e.jsxs("span",{children:[Number(u.square_footage||0).toLocaleString()," sqft"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:u.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs(I,{to:`/agent/${u.agent_id}`,className:"flex items-center gap-2 hover:text-blue-600 transition-colors",children:[(C=u.agent_info)!=null&&C.profile_photo_url?e.jsx("img",{src:u.agent_info.profile_photo_url,alt:u.agent_info.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:((A=(L=u.agent_info)==null?void 0:L.full_name)==null?void 0:A.charAt(0))||"A"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:((q=u.agent_info)==null?void 0:q.full_name)||"Agent"})]}),e.jsx(I,{to:`/property/${u.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"View Details "})]})]})]},u.property_id)})}),!d&&!m&&(!c||c.length===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No featured properties available"}),e.jsx(I,{to:"/search",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Browse All Properties"})]})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-xl mb-6",children:e.jsx(Ot,{className:"size-8 text-blue-600"})}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Find Your Perfect Home"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Search thousands of listings in your area and connect with trusted real estate agents"}),e.jsx(I,{to:"/search",className:"inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-medium px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Start Searching"})]}),e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 p-8 lg:p-12 flex items-center justify-center",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx(Gd,{className:"size-8 text-blue-600 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1000+"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Listings"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx(fo,{className:"size-8 text-green-600 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"500+"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trusted Agents"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx(ve,{className:"size-8 text-purple-600 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"50+"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cities"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx(qj,{className:"size-8 text-orange-600 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"200+"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sold This Month"})]})]})})]})})})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-8 lg:p-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 rounded-full mb-6 backdrop-blur-sm",children:e.jsx(fo,{className:"size-12 text-white"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:"Join 500+ Active Agents"})]})})]})}),e.jsxs("div",{className:"bg-white p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Are You a Real Estate Agent?"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"List your properties, reach more buyers, and grow your business with PropConnect"}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{children:"Unlimited property listings"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{children:"Direct inquiry management"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{children:"Performance analytics dashboard"})]})]}),e.jsx(I,{to:"/agent/register",className:"inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-medium px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Join as an Agent"})]})]})})})}),e.jsx("section",{className:"py-16 lg:py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose PropConnect?"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-xl mb-6",children:e.jsx(Ot,{className:"size-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Advanced Search"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Find exactly what you're looking for with our powerful search filters and interactive map view"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-xl mb-6",children:e.jsx(fo,{className:"size-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Trusted Agents"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Connect with verified real estate professionals who know your area and your needs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-xl mb-6",children:e.jsx(At,{className:"size-8 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Save & Track"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Save your favorite properties and get notified about price changes and updates"})]})]})]})})]})},Xj=()=>{const[t]=es(),s=Be(),r=t.get("redirect_url")||"/account",[a,n]=k.useState({email:"",password:"",remember_me:!1,validation_errors:{},submitting:!1,login_error:null}),[i,l]=k.useState(!1),o=H(f=>f.authentication_state.authentication_status.is_authenticated),c=H(f=>f.authentication_state.authentication_status.is_loading),d=H(f=>f.authentication_state.current_user),m=H(f=>f.authentication_state.error_message),h=H(f=>f.login_user),g=H(f=>f.clear_auth_error);k.useEffect(()=>{o&&d&&s(r,{replace:!0})},[o,d,r,s]);const w=()=>{const f={};return a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(f.email="Please enter a valid email address"):f.email="Email is required",a.password||(f.password="Password is required"),n(C=>({...C,validation_errors:f})),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),g(),n(C=>({...C,login_error:null,validation_errors:{}})),!!w()){n(C=>({...C,submitting:!0}));try{await h(a.email,a.password)}catch{n(C=>({...C,submitting:!1,password:""}))}}},x=f=>{n(C=>({...C,email:f.target.value,validation_errors:{...C.validation_errors,email:""}})),g()},v=f=>{n(C=>({...C,password:f.target.value,validation_errors:{...C.validation_errors,password:""}})),g()},u=f=>{n(C=>({...C,remember_me:f.target.checked}))},p=()=>{l(f=>!f)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Jm,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your PropConnect account"})]}),m&&e.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-lg p-4",role:"alert","aria-live":"polite",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:m})})]})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ce,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:x,placeholder:"your.email@example.com",className:`block w-full pl-11 pr-4 py-3 border-2 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${a.validation_errors.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,disabled:a.submitting})]}),a.validation_errors.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:a.validation_errors.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(si,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:v,placeholder:"Enter your password",className:`block w-full pl-11 pr-12 py-3 border-2 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${a.validation_errors.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,disabled:a.submitting}),e.jsx("button",{type:"button",onClick:p,className:"absolute inset-y-0 right-0 pr-4 flex items-center","aria-label":i?"Hide password":"Show password",disabled:a.submitting,children:i?e.jsx(kt,{className:"w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors"}):e.jsx(Le,{className:"w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),a.validation_errors.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:a.validation_errors.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",checked:a.remember_me,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",disabled:a.submitting}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(I,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Forgot your password?"})})]}),e.jsx("button",{type:"submit",disabled:a.submitting||c,className:`w-full flex justify-center items-center px-6 py-3 rounded-lg font-semibold text-white transition-all duration-200 ${a.submitting||c?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg"}`,children:a.submitting||c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Jm,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(I,{to:`/register${r!=="/account"?`?redirect_url=${encodeURIComponent(r)}`:""}`,className:"w-full flex justify-center items-center px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold text-gray-900 bg-white hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[e.jsx(Hj,{className:"w-5 h-5 mr-2"}),"Create New Account"]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Are you a real estate agent?"," ",e.jsx(I,{to:"/agent/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:"Agent Sign In"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["By signing in, you agree to our"," ",e.jsx(I,{to:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",e.jsx(I,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})})]})})})},e2=()=>{const[t,s]=k.useState(""),[r,a]=k.useState(""),[n,i]=k.useState(""),[l,o]=k.useState(""),[c,d]=k.useState(""),[m,h]=k.useState(!1),[g,w]=k.useState(!1),[j,x]=k.useState(!1),[v,u]=k.useState({}),[p,f]=k.useState({level:"weak",feedback:""}),[C,L]=k.useState(!1),A=Be(),q=H(N=>N.authentication_state.authentication_status.is_loading),S=H(N=>N.authentication_state.error_message),b=H(N=>N.authentication_state.authentication_status.is_authenticated),T=H(N=>N.register_user),Q=H(N=>N.clear_auth_error);k.useEffect(()=>{b&&A("/account")},[b,A]);const W=N=>{if(!N)return{level:"weak",feedback:""};let P=0;const K=[];return N.length>=8&&P++,N.length>=12&&P++,/[a-z]/.test(N)&&/[A-Z]/.test(N)?P++:K.push("Mix uppercase and lowercase"),/\d/.test(N)?P++:K.push("Add numbers"),/[^a-zA-Z\d]/.test(N)?P++:K.push("Add symbols"),P<=2?{level:"weak",feedback:K.join(", ")||"Password is weak"}:P<=4?{level:"medium",feedback:"Good! Consider adding more variety"}:{level:"strong",feedback:"Strong password!"}},O=N=>{a(N),f(W(N)),v.password&&u(P=>({...P,password:void 0}))},te=()=>{const N={};return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(N.email="Please enter a valid email address"):N.email="Email is required",r?r.length<8?N.password="Password must be at least 8 characters":r.length>100&&(N.password="Password must be less than 100 characters"):N.password="Password is required",n?r!==n&&(N.confirm_password="Passwords do not match"):N.confirm_password="Please confirm your password",!l||l.trim().length===0?N.full_name="Full name is required":l.length>255&&(N.full_name="Name must be less than 255 characters"),c&&c.length>20&&(N.phone_number="Phone number must be less than 20 characters"),m||(N.terms_accepted="You must accept the Terms and Privacy Policy to continue"),u(N),Object.keys(N).length===0},D=async N=>{var P,K;if(N.preventDefault(),Q(),!!te())try{await T({email:t,password:r,full_name:l,phone_number:c||null}),L(!0)}catch($){console.error("Registration error:",$),((P=$.message)!=null&&P.includes("already exists")||(K=$.message)!=null&&K.includes("EMAIL_EXISTS"))&&u(F=>({...F,email:"An account with this email already exists"}))}},Y=()=>{switch(p.level){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500";default:return"bg-gray-300"}},y=()=>{switch(p.level){case"weak":return"w-1/3";case"medium":return"w-2/3";case"strong":return"w-full";default:return"w-0"}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx(I,{to:"/",className:"inline-block",children:e.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"PropConnect"})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg shadow-gray-200/50 border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"px-8 py-10",children:C?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(qc,{className:"w-10 h-10 text-green-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created Successfully!"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"Almost there! We've sent a verification email to:"}),e.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-3",children:t}),e.jsx("p",{className:"text-sm text-blue-800",children:"Please check your inbox and click the verification link to activate your account."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>A("/login"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Continue to Sign In"}),e.jsx(I,{to:"/",className:"block w-full text-center text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors",children:"Browse Properties"})]}),e.jsx("p",{className:"mt-6 text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Create Your Account"}),e.jsx("p",{className:"mt-3 text-base text-gray-600 leading-relaxed",children:"Save your favorite properties and track inquiries"})]}),S&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(we,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:S})]}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,value:l,onChange:N=>{o(N.target.value),v.full_name&&u(P=>({...P,full_name:void 0}))},placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${v.full_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),v.full_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.full_name]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:N=>{s(N.target.value),v.email&&u(P=>({...P,email:void 0})),Q()},placeholder:"your.email@example.com",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${v.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),v.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.email]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:N=>O(N.target.value),placeholder:"Create a password (min. 8 characters)",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${v.password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),e.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:g?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),r&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password Strength"}),e.jsx("span",{className:`text-xs font-semibold ${p.level==="weak"?"text-red-600":p.level==="medium"?"text-yellow-600":"text-green-600"}`,children:p.level.toUpperCase()})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${Y()} ${y()}`})}),p.feedback&&e.jsx("p",{className:"mt-2 text-xs text-gray-600",children:p.feedback})]}),v.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirm_password",name:"confirm_password",type:j?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:N=>{i(N.target.value),v.confirm_password&&u(P=>({...P,confirm_password:void 0}))},placeholder:"Re-enter your password",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${v.confirm_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),e.jsx("button",{type:"button",onClick:()=>x(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:j?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),v.confirm_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.confirm_password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:c,onChange:N=>{d(N.target.value),v.phone_number&&u(P=>({...P,phone_number:void 0}))},placeholder:"(123) 456-7890",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${v.phone_number?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),v.phone_number&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.phone_number]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"terms_accepted",name:"terms_accepted",type:"checkbox",checked:m,onChange:N=>{h(N.target.checked),v.terms_accepted&&u(P=>({...P,terms_accepted:void 0}))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("label",{htmlFor:"terms_accepted",className:"text-sm text-gray-700",children:["I agree to the"," ",e.jsx(I,{to:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Terms of Service"})," ","and"," ",e.jsx(I,{to:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Privacy Policy"})]})})]}),v.terms_accepted&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),v.terms_accepted]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:q,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:q?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(I,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Sign In"})]})}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Are you a Real Estate Agent?"," ",e.jsx(I,{to:"/agent/register",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Join as an Agent"})]})})]})})}),!C&&e.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"By creating an account, you agree to receive communications about properties and platform updates."})]})})})},t2=async t=>{const s=new URLSearchParams;return t.query&&s.set("query",t.query),t.min_price&&s.set("min_price",String(t.min_price)),t.max_price&&s.set("max_price",String(t.max_price)),t.listing_type&&s.set("listing_type",t.listing_type),t.property_type.length>0&&s.set("property_type",t.property_type.join(",")),t.min_bedrooms&&s.set("min_bedrooms",String(t.min_bedrooms)),t.min_bathrooms&&s.set("min_bathrooms",String(t.min_bathrooms)),t.min_sqft&&s.set("min_sqft",String(t.min_sqft)),t.max_sqft&&s.set("max_sqft",String(t.max_sqft)),t.amenities.length>0&&s.set("amenities",t.amenities.join(",")),t.features.length>0&&s.set("features",t.features.join(",")),t.furnished!==null&&s.set("furnished",String(t.furnished)),t.pet_friendly!==null&&s.set("pet_friendly",String(t.pet_friendly)),t.new_construction!==null&&s.set("new_construction",String(t.new_construction)),t.virtual_tour_available!==null&&s.set("virtual_tour_available",String(t.virtual_tour_available)),s.set("status","active"),s.set("sort_by",t.sort_by),s.set("sort_order",t.sort_order),s.set("limit",String(t.limit)),s.set("offset",String(t.offset)),(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties?${s.toString()}`)).data},s2=()=>{const[t,s]=es(),r=H(y=>y.authentication_state.authentication_status.is_authenticated),a=H(y=>y.user_favorites.saved_properties),n=H(y=>y.add_favorite),i=H(y=>y.remove_favorite),l=H(y=>y.show_toast),o=H(y=>y.open_modal),[c,d]=k.useState("grid"),[m,h]=k.useState(!1),[g,w]=k.useState(!1),j=k.useMemo(()=>{var y,N,P,K,$;return{query:t.get("location")||null,min_price:t.get("min_price")?Number(t.get("min_price")):null,max_price:t.get("max_price")?Number(t.get("max_price")):null,listing_type:t.get("listing_type"),property_type:((y=t.get("property_type"))==null?void 0:y.split(",").filter(Boolean))||[],min_bedrooms:t.get("bedrooms")?Number(t.get("bedrooms")):null,min_bathrooms:t.get("bathrooms")?Number(t.get("bathrooms")):null,min_sqft:t.get("min_sqft")?Number(t.get("min_sqft")):null,max_sqft:t.get("max_sqft")?Number(t.get("max_sqft")):null,amenities:((N=t.get("amenities"))==null?void 0:N.split(",").filter(Boolean))||[],features:((P=t.get("features"))==null?void 0:P.split(",").filter(Boolean))||[],furnished:t.get("furnished")==="true"?!0:t.get("furnished")==="false"?!1:null,pet_friendly:t.get("pet_friendly")==="true"?!0:null,new_construction:t.get("new_construction")==="true"?!0:null,virtual_tour_available:t.get("virtual_tour_available")==="true"?!0:null,sort_by:((K=t.get("sort"))==null?void 0:K.split("_")[0])||"created_at",sort_order:($=t.get("sort"))!=null&&$.includes("desc")?"desc":"asc",limit:20,offset:t.get("page")?(Number(t.get("page"))-1)*20:0}},[t]),[x,v]=k.useState(j);k.useEffect(()=>{v(j)},[j]);const{data:u,isLoading:p,error:f}=Ne({queryKey:["properties",x],queryFn:()=>t2(x),staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:y=>({...y,data:y.data.map(N=>({...N,price:Number(N.price||0),bedrooms:Number(N.bedrooms||0),bathrooms:Number(N.bathrooms||0),square_footage:Number(N.square_footage||0)}))})}),C=(u==null?void 0:u.data)||[],L=(u==null?void 0:u.pagination.total)||0,A=Math.floor(x.offset/x.limit+1),q=Math.ceil(L/x.limit),S=y=>a.includes(y),b=k.useCallback((y,N)=>{const P={...x,[y]:N,offset:0};v(P);const K=new URLSearchParams;P.query&&K.set("location",P.query),P.min_price&&K.set("min_price",String(P.min_price)),P.max_price&&K.set("max_price",String(P.max_price)),P.listing_type&&K.set("listing_type",P.listing_type),P.property_type.length>0&&K.set("property_type",P.property_type.join(",")),P.min_bedrooms&&K.set("bedrooms",String(P.min_bedrooms)),P.min_bathrooms&&K.set("bathrooms",String(P.min_bathrooms)),P.min_sqft&&K.set("min_sqft",String(P.min_sqft)),P.max_sqft&&K.set("max_sqft",String(P.max_sqft)),P.amenities.length>0&&K.set("amenities",P.amenities.join(",")),P.features.length>0&&K.set("features",P.features.join(",")),P.furnished!==null&&K.set("furnished",String(P.furnished)),P.pet_friendly&&K.set("pet_friendly","true"),P.new_construction&&K.set("new_construction","true"),P.virtual_tour_available&&K.set("virtual_tour_available","true");const $=`${P.sort_by}_${P.sort_order}`;$!=="created_at_desc"&&K.set("sort",$),s(K)},[x,s]),T=()=>{v({query:null,min_price:null,max_price:null,listing_type:null,property_type:[],min_bedrooms:null,min_bathrooms:null,min_sqft:null,max_sqft:null,amenities:[],features:[],furnished:null,pet_friendly:null,new_construction:null,virtual_tour_available:null,sort_by:"created_at",sort_order:"desc",limit:20,offset:0}),s(new URLSearchParams)},Q=k.useCallback(y=>{Array.isArray(x[y])?b(y,[]):b(y,null)},[x,b]),W=async(y,N)=>{if(N.preventDefault(),N.stopPropagation(),!r){o("auth_modal"),l("Please sign in to save properties","info");return}try{S(y)?await i(y):await n(y)}catch{}},O=(y,N,P)=>{const K=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(y);return N==="rent"?`${K}/${P||"month"}`:K},te=k.useMemo(()=>{let y=0;return x.query&&y++,(x.min_price||x.max_price)&&y++,x.listing_type&&y++,x.property_type.length>0&&y++,x.min_bedrooms&&y++,x.min_bathrooms&&y++,(x.min_sqft||x.max_sqft)&&y++,x.amenities.length>0&&(y+=x.amenities.length),x.features.length>0&&(y+=x.features.length),x.furnished&&y++,x.pet_friendly&&y++,x.new_construction&&y++,y},[x]),D=k.useMemo(()=>{const y=[];if(x.query&&y.push({label:x.query,onRemove:()=>Q("query")}),x.min_price||x.max_price){const N=x.min_price?`$${(x.min_price/1e3).toFixed(0)}K`:"Any",P=x.max_price?`$${(x.max_price/1e3).toFixed(0)}K`:"Any";y.push({label:`${N} - ${P}`,onRemove:()=>{b("min_price",null),b("max_price",null)}})}return x.listing_type&&y.push({label:`For ${x.listing_type==="sale"?"Sale":"Rent"}`,onRemove:()=>Q("listing_type")}),x.min_bedrooms&&y.push({label:`${x.min_bedrooms}+ Bedrooms`,onRemove:()=>Q("min_bedrooms")}),x.min_bathrooms&&y.push({label:`${x.min_bathrooms}+ Bathrooms`,onRemove:()=>Q("min_bathrooms")}),x.amenities.forEach(N=>{y.push({label:N,onRemove:()=>b("amenities",x.amenities.filter(P=>P!==N))})}),y},[x,Q,b]),Y=y=>{const N=(y-1)*x.limit;b("offset",N),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[p?"Searching...":`${L.toLocaleString()} Properties`,x.query&&e.jsxs("span",{className:"text-gray-600 font-normal text-lg ml-2",children:["in ",x.query]})]}),e.jsxs("button",{onClick:()=>h(!0),className:"lg:hidden flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Uj,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),te>0&&e.jsx("span",{className:"bg-white text-blue-600 px-2 py-0.5 rounded-full text-xs font-semibold",children:te})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden sm:flex bg-gray-100 rounded-lg p-1 space-x-1",children:[e.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded ${c==="grid"?"bg-white shadow-sm":"hover:bg-gray-200"} transition-all`,title:"Grid view",children:e.jsx(Kd,{className:`w-5 h-5 ${c==="grid"?"text-blue-600":"text-gray-600"}`})}),e.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded ${c==="list"?"bg-white shadow-sm":"hover:bg-gray-200"} transition-all`,title:"List view",children:e.jsx(Yd,{className:`w-5 h-5 ${c==="list"?"text-blue-600":"text-gray-600"}`})}),e.jsx("button",{onClick:()=>d("map"),className:`p-2 rounded ${c==="map"?"bg-white shadow-sm":"hover:bg-gray-200"} transition-all`,title:"Map view",children:e.jsx(Zm,{className:`w-5 h-5 ${c==="map"?"text-blue-600":"text-gray-600"}`})})]}),e.jsxs("select",{value:`${x.sort_by}_${x.sort_order}`,onChange:y=>{const[N,P]=y.target.value.split("_");b("sort_by",N),b("sort_order",P)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",children:[e.jsx("option",{value:"created_at_desc",children:"Newest"}),e.jsx("option",{value:"created_at_asc",children:"Oldest"}),e.jsx("option",{value:"price_asc",children:"Price: Low to High"}),e.jsx("option",{value:"price_desc",children:"Price: High to Low"}),e.jsx("option",{value:"square_footage_desc",children:"Largest First"}),e.jsx("option",{value:"square_footage_asc",children:"Smallest First"})]})]})]}),D.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Filters:"}),D.map((y,N)=>e.jsxs("button",{onClick:y.onRemove,className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:[e.jsx("span",{children:y.label}),e.jsx(Je,{className:"w-3 h-3"})]},N)),e.jsx("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[e.jsx("aside",{className:"hidden lg:block lg:col-span-3 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:x.query||"",onChange:y=>b("query",y.target.value||null),placeholder:"City, neighborhood, or ZIP",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>b("listing_type",x.listing_type==="sale"?null:"sale"),className:`flex-1 py-2 text-sm font-medium transition-colors ${x.listing_type==="sale"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Sale"}),e.jsx("button",{onClick:()=>b("listing_type",x.listing_type==="rent"?null:"rent"),className:`flex-1 py-2 text-sm font-medium transition-colors border-l border-gray-300 ${x.listing_type==="rent"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Rent"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"number",value:x.min_price||"",onChange:y=>b("min_price",y.target.value?Number(y.target.value):null),placeholder:"Min",className:"w-full pl-8 pr-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"number",value:x.max_price||"",onChange:y=>b("max_price",y.target.value?Number(y.target.value):null),placeholder:"Max",className:"w-full pl-8 pr-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),x.max_price&&x.min_price&&x.max_price<x.min_price&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Max must be greater than min"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),e.jsx("div",{className:"space-y-2",children:["house","condo","townhouse","apartment","land","commercial"].map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.property_type.includes(y),onChange:N=>{const P=N.target.checked?[...x.property_type,y]:x.property_type.filter(K=>K!==y);b("property_type",P)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:y})]},y))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Any","1+","2+","3+","4+","5+"].map((y,N)=>{const P=N===0?null:N;return e.jsx("button",{onClick:()=>b("min_bedrooms",P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.min_bedrooms===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y},y)})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Any","1+","2+","3+","4+"].map((y,N)=>{const P=N===0?null:N;return e.jsx("button",{onClick:()=>b("min_bathrooms",P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.min_bathrooms===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y},y)})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("button",{onClick:()=>w(!g),className:"flex items-center justify-between w-full text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors",children:[e.jsx("span",{children:"More Filters"}),e.jsx(qa,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),g&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Square Footage"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:x.min_sqft||"",onChange:y=>b("min_sqft",y.target.value?Number(y.target.value):null),placeholder:"Min sqft",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",value:x.max_sqft||"",onChange:y=>b("max_sqft",y.target.value?Number(y.target.value):null),placeholder:"Max sqft",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:["Pool","Parking","Gym","Garden","Balcony","Security System"].map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.amenities.includes(y),onChange:N=>{const P=N.target.checked?[...x.amenities,y]:x.amenities.filter(K=>K!==y);b("amenities",P)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y})]},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Features"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.furnished||!1,onChange:y=>b("furnished",y.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Furnished"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.pet_friendly||!1,onChange:y=>b("pet_friendly",y.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Pet-Friendly"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.new_construction||!1,onChange:y=>b("new_construction",y.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"New Construction"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.virtual_tour_available||!1,onChange:y=>b("virtual_tour_available",y.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Virtual Tour Available"})]})]})]})]})]}),te>0&&e.jsx("button",{onClick:T,className:"w-full mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Clear All Filters"})]})}),e.jsxs("main",{className:"lg:col-span-9",children:[p&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,N)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-64"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})]},N))}),f&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-700 mb-4",children:"Failed to load properties. Please try again."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}),!p&&!f&&C.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(ve,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find any properties matching your criteria."}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-6",children:[e.jsx("p",{children:"Try:"}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"Expanding your search area"}),e.jsx("li",{children:"Removing some filters"}),e.jsx("li",{children:"Adjusting your price range"})]})]}),e.jsx("button",{onClick:T,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear All Filters"})]}),!p&&!f&&C.length>0&&c==="grid"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(y=>{var N;return e.jsxs(I,{to:`/property/${y.property_id}`,className:"group bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-200",children:[e.jsxs("div",{className:"relative h-64 bg-gray-200",children:[(N=y.primary_photo)!=null&&N.image_url?e.jsx("img",{src:y.primary_photo.thumbnail_url||y.primary_photo.image_url,alt:y.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ve,{className:"w-16 h-16 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full",children:["For ",y.listing_type==="sale"?"Sale":"Rent"]})}),e.jsx("button",{onClick:P=>W(y.property_id,P),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-lg hover:scale-110 transition-transform",children:e.jsx(At,{className:`w-5 h-5 ${S(y.property_id)?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O(y.price,y.listing_type,y.rent_frequency)}),y.price_per_sqft&&e.jsxs("p",{className:"text-sm text-gray-500",children:["$",Number(y.price_per_sqft||0).toFixed(0),"/sqft"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-1",children:y.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[y.address_street,", ",y.address_city,", ",y.address_state]}),e.jsx("p",{className:"text-xs text-gray-500 mb-3 capitalize",children:y.property_type.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsxs("span",{children:[y.bedrooms," bd"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsxs("span",{children:[Number(y.bathrooms||0).toFixed(1)," ba"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsxs("span",{children:[Number(y.square_footage||0).toLocaleString()," sqft"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:y.description}),e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[y.agent_info.profile_photo_url?e.jsx("img",{src:y.agent_info.profile_photo_url,alt:y.agent_info.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:y.agent_info.full_name.charAt(0)})}),e.jsx("span",{className:"text-sm text-gray-700",children:y.agent_info.full_name})]})]})]},y.property_id)})}),q>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>Y(A-1),disabled:A===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Math.min(q,5))].map((y,N)=>{const P=N+1;return e.jsx("button",{onClick:()=>Y(P),className:`px-4 py-2 rounded-lg transition-colors ${A===P?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:P},P)}),q>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{onClick:()=>Y(q),className:`px-4 py-2 rounded-lg transition-colors ${A===q?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:q})]})]}),e.jsx("button",{onClick:()=>Y(A+1),disabled:A===q,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),!p&&!f&&C.length>0&&c==="list"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:C.map(y=>{var N;return e.jsxs(I,{to:`/property/${y.property_id}`,className:"group flex bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-200",children:[e.jsxs("div",{className:"relative w-64 h-48 flex-shrink-0 bg-gray-200",children:[(N=y.primary_photo)!=null&&N.image_url?e.jsx("img",{src:y.primary_photo.thumbnail_url||y.primary_photo.image_url,alt:y.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ve,{className:"w-12 h-12 text-gray-400"})}),e.jsx("button",{onClick:P=>W(y.property_id,P),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-lg hover:scale-110 transition-transform",children:e.jsx(At,{className:`w-5 h-5 ${S(y.property_id)?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O(y.price,y.listing_type,y.rent_frequency)}),y.price_per_sqft&&e.jsxs("p",{className:"text-sm text-gray-500",children:["$",Number(y.price_per_sqft||0).toFixed(0),"/sqft"]})]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:["For ",y.listing_type==="sale"?"Sale":"Rent"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:y.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[y.address_street,", ",y.address_city,", ",y.address_state," ",y.address_zip]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsxs("span",{children:[y.bedrooms," bedrooms"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsxs("span",{children:[Number(y.bathrooms||0).toFixed(1)," bathrooms"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsxs("span",{children:[Number(y.square_footage||0).toLocaleString()," sqft"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 mb-4",children:y.description}),e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[y.agent_info.profile_photo_url?e.jsx("img",{src:y.agent_info.profile_photo_url,alt:y.agent_info.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:y.agent_info.full_name.charAt(0)})}),e.jsx("span",{className:"text-sm text-gray-700",children:y.agent_info.full_name})]})]})]},y.property_id)})}),q>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>Y(A-1),disabled:A===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Page ",A," of ",q]}),e.jsx("button",{onClick:()=>Y(A+1),disabled:A===q,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),!p&&!f&&C.length>0&&c==="map"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(Zm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Map View"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Map view coming soon. Use grid or list view to browse properties."}),e.jsx("button",{onClick:()=>d("grid"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Switch to Grid View"})]})]})]})})]}),m&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>h(!1)}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-full max-w-sm bg-white shadow-xl",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Je,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:x.query||"",onChange:y=>b("query",y.target.value||null),placeholder:"City, neighborhood, or ZIP",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:x.min_price||"",onChange:y=>b("min_price",y.target.value?Number(y.target.value):null),placeholder:"Min",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",value:x.max_price||"",onChange:y=>b("max_price",y.target.value?Number(y.target.value):null),placeholder:"Max",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>b("listing_type",x.listing_type==="sale"?null:"sale"),className:`flex-1 py-2 text-sm font-medium transition-colors ${x.listing_type==="sale"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"For Sale"}),e.jsx("button",{onClick:()=>b("listing_type",x.listing_type==="rent"?null:"rent"),className:`flex-1 py-2 text-sm font-medium transition-colors border-l border-gray-300 ${x.listing_type==="rent"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"For Rent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),e.jsx("div",{className:"space-y-2",children:["house","condo","townhouse","apartment","land","commercial"].map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.property_type.includes(y),onChange:N=>{const P=N.target.checked?[...x.property_type,y]:x.property_type.filter(K=>K!==y);b("property_type",P)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:y})]},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Any","1+","2+","3+","4+","5+"].map((y,N)=>{const P=N===0?null:N;return e.jsx("button",{onClick:()=>b("min_bedrooms",P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.min_bedrooms===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:y},y)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Any","1+","2+","3+","4+"].map((y,N)=>{const P=N===0?null:N;return e.jsx("button",{onClick:()=>b("min_bathrooms",P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.min_bathrooms===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:y},y)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:["Pool","Parking","Gym","Garden","Balcony","Security System"].map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.amenities.includes(y),onChange:N=>{const P=N.target.checked?[...x.amenities,y]:x.amenities.filter(K=>K!==y);b("amenities",P)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y})]},y))})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 space-y-2",children:[e.jsxs("button",{onClick:()=>h(!1),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:["Show ",L," Properties"]}),te>0&&e.jsx("button",{onClick:()=>{T(),h(!1)},className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Clear All Filters"})]})]})})]})]})},r2=async t=>{const{data:s}=await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}`);return s},a2=async t=>{const{data:s}=await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/photos`);return s.data||[]},n2=async t=>{const{data:s}=await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/agents/${t}`);return s},i2=async t=>{const{data:s}=await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",{params:{city:t.city,listing_type:t.listing_type,property_type:[t.property_type],min_price:t.min_price,max_price:t.max_price,status:["active"],limit:6,sort_by:"created_at",sort_order:"desc"}});return(s.data||[]).filter(a=>a.property_id!==t.exclude_id).slice(0,6)},l2=async(t,s)=>{await G.post(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/view`,{property_id:t,user_id:s,session_id:sessionStorage.getItem("session_id")||null})},o2=async t=>{const{data:s}=await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries",t);return s},c2=async t=>{const{data:s}=await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/property-reports",t);return s},d2=()=>{var ie,oe;const{property_id:t}=zd(),s=Be(),r=H(U=>U.authentication_state.current_user),a=H(U=>U.authentication_state.authentication_status.is_authenticated),n=H(U=>U.user_favorites.saved_properties),i=H(U=>U.add_favorite),l=H(U=>U.remove_favorite),o=H(U=>U.show_toast),c=H(U=>U.open_modal),[d,m]=k.useState(0),[h,g]=k.useState(!1),[w,j]=k.useState(!1),[x,v]=k.useState(!1),[u,p]=k.useState(""),[f,C]=k.useState(""),[L,A]=k.useState({inquirer_name:"",inquirer_email:"",inquirer_phone:"",message:"",viewing_requested:!1,preferred_viewing_date:"",preferred_viewing_time:""}),[q,S]=k.useState({}),{data:b,isLoading:T,error:Q}=Ne({queryKey:["property",t],queryFn:()=>r2(t),enabled:!!t,staleTime:3e5,retry:1,select:U=>({...U,price:Number(U.price||0),price_per_sqft:U.price_per_sqft?Number(U.price_per_sqft):null,bathrooms:Number(U.bathrooms||0),bedrooms:Number(U.bedrooms||0),square_footage:Number(U.square_footage||0),lot_size:U.lot_size?Number(U.lot_size):null,hoa_fee:U.hoa_fee?Number(U.hoa_fee):null,property_tax:U.property_tax?Number(U.property_tax):null,view_count:Number(U.view_count||0),inquiry_count:Number(U.inquiry_count||0),favorite_count:Number(U.favorite_count||0)})}),{data:W=[]}=Ne({queryKey:["property-photos",t],queryFn:()=>a2(t),enabled:!!t,staleTime:6e5,select:U=>U.sort((E,le)=>E.display_order-le.display_order)}),{data:O}=Ne({queryKey:["agent",b==null?void 0:b.agent_id],queryFn:()=>n2(b.agent_id),enabled:!!(b!=null&&b.agent_id),staleTime:6e5}),{data:te=[]}=Ne({queryKey:["similar-properties",t],queryFn:()=>i2({city:b.address_city,listing_type:b.listing_type,property_type:b.property_type,min_price:Math.floor(b.price*.8),max_price:Math.ceil(b.price*1.2),exclude_id:t}),enabled:!!b&&!!t,staleTime:3e5,select:U=>U.map(E=>({...E,price:Number(E.price||0),bedrooms:Number(E.bedrooms||0),bathrooms:Number(E.bathrooms||0),square_footage:Number(E.square_footage||0)}))}),D=be({mutationFn:()=>l2(t,(r==null?void 0:r.user_id)||null),retry:0}),Y=be({mutationFn:o2,onSuccess:()=>{A(U=>({...U,submitting:!1,submit_success:!0})),o("Inquiry sent successfully! The agent will contact you soon.","success"),setTimeout(()=>{A({inquirer_name:(r==null?void 0:r.full_name)||"",inquirer_email:(r==null?void 0:r.email)||"",inquirer_phone:(r==null?void 0:r.phone_number)||"",message:"",viewing_requested:!1,preferred_viewing_date:"",preferred_viewing_time:""})},3e3)},onError:U=>{var le,de,ee;const E=((ee=(de=(le=U.response)==null?void 0:le.data)==null?void 0:de.error)==null?void 0:ee.message)||"Failed to send inquiry. Please try again.";o(E,"error")}}),y=be({mutationFn:c2,onSuccess:()=>{v(!1),p(""),C(""),o("Thank you for your report. We will review this listing.","success")},onError:()=>{o("Failed to submit report. Please try again.","error")}}),N=t?n.includes(t):!1;k.useEffect(()=>{b&&r?A(U=>({...U,inquirer_name:r.full_name||"",inquirer_email:r.email||"",inquirer_phone:r.phone_number||"",message:`Hi, I'm interested in ${b.address_street}, ${b.address_city}, ${b.address_state}. Is it still available? I'd like to schedule a viewing.`})):b&&!r&&A(U=>({...U,message:`Hi, I'm interested in ${b.address_street}, ${b.address_city}, ${b.address_state}. Is it still available? I'd like to schedule a viewing.`}))},[b,r]),k.useEffect(()=>{if(t){const U=`viewed_${t}`;sessionStorage.getItem(U)||(D.mutate(),sessionStorage.setItem(U,"true"))}},[t,D]),k.useEffect(()=>{Q&&s("/404",{state:{message:"This property listing may have been removed or does not exist."}})},[Q,s]);const P=k.useCallback(()=>{m(U=>(U+1)%W.length)},[W.length]),K=k.useCallback(()=>{m(U=>(U-1+W.length)%W.length)},[W.length]);k.useEffect(()=>{const U=E=>{h&&(E.key==="ArrowLeft"&&K(),E.key==="ArrowRight"&&P(),E.key==="Escape"&&g(!1))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[h,d,W.length,P,K]);const $=async()=>{if(!a){c("auth_modal");return}if(t)try{N?(await l(t),o("Property removed from saved","success")):(await i(t),o("Property saved to favorites","success"))}catch{o("Failed to update favorites","error")}},F=async U=>{U.preventDefault();const E={};if(L.inquirer_name.trim()||(E.inquirer_name="Name is required"),L.inquirer_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.inquirer_email)||(E.inquirer_email="Please enter a valid email address"):E.inquirer_email="Email is required",L.message.trim()?L.message.length<10&&(E.message="Message must be at least 10 characters"):E.message="Message is required",L.viewing_requested&&(L.preferred_viewing_date||(E.preferred_viewing_date="Please select a preferred date"),L.preferred_viewing_time||(E.preferred_viewing_time="Please select a preferred time")),Object.keys(E).length>0){S(E);return}if(S({}),!b)return;const le={property_id:b.property_id,agent_id:b.agent_id,user_id:(r==null?void 0:r.user_id)||null,inquirer_name:L.inquirer_name,inquirer_email:L.inquirer_email,inquirer_phone:L.inquirer_phone||"",message:L.message,viewing_requested:L.viewing_requested,preferred_viewing_date:L.viewing_requested?L.preferred_viewing_date:null,preferred_viewing_time:L.viewing_requested?L.preferred_viewing_time:null};Y.mutate(le)},M=async U=>{U.preventDefault(),!(!u||!t)&&y.mutate({property_id:t,reporter_user_id:(r==null?void 0:r.user_id)||null,reporter_email:r?null:L.inquirer_email,reason:u,details:f||null})},_=U=>{navigator.clipboard.writeText(U),o("Link copied to clipboard!","success")},B=(U,E,le)=>{const de=new Intl.NumberFormat("en-US",{style:"currency",currency:E||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(U);return le==="rent"?`${de}/month`:de},Z=U=>new Intl.NumberFormat("en-US").format(U),ne=()=>b?[b.address_street,b.address_unit,b.address_city,b.address_state,b.address_zip].filter(Boolean).join(", "):"",ue=()=>{if(!(b!=null&&b.published_at))return null;const U=new Date(b.published_at),le=new Date().getTime()-U.getTime();return Math.floor(le/(1e3*60*60*24))};if(T)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})]})})})});if(!b)return null;const z=ue();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(I,{to:"/",className:"hover:text-blue-600 transition-colors",children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsx("span",{children:"/"}),e.jsx(I,{to:`/search?listing_type=${b.listing_type}`,className:"hover:text-blue-600 transition-colors",children:b.listing_type==="sale"?"For Sale":"For Rent"}),e.jsx("span",{children:"/"}),e.jsx(I,{to:`/search?location=${b.address_city}`,className:"hover:text-blue-600 transition-colors",children:b.address_city}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium truncate max-w-xs",children:b.address_street})]})})}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg bg-white",children:[e.jsx("div",{className:"relative aspect-[16/9] bg-gray-900",children:W.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(ie=W[d])==null?void 0:ie.image_url,alt:`Property photo ${d+1}`,className:"w-full h-full object-cover"}),W.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:K,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-3 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Previous image",children:e.jsx(Tc,{className:"w-6 h-6"})}),e.jsx("button",{onClick:P,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-3 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Next image",children:e.jsx(Se,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[d+1," / ",W.length]}),e.jsx("button",{onClick:()=>g(!0),className:"absolute bottom-4 right-4 bg-white/90 hover:bg-white text-gray-900 px-4 py-2 rounded-lg shadow-lg transition-all hover:scale-105 text-sm font-medium",children:"View All Photos"}),e.jsx("button",{onClick:$,className:"absolute top-4 right-4 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all hover:scale-110","aria-label":N?"Remove from favorites":"Add to favorites",children:e.jsx(At,{className:`w-6 h-6 ${N?"fill-red-500 text-red-500":"text-gray-700"}`})})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ve,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No photos available"})]})})}),W.length>1&&e.jsx("div",{className:"bg-white p-4 overflow-x-auto",children:e.jsx("div",{className:"flex space-x-2",children:W.map((U,E)=>e.jsx("button",{onClick:()=>m(E),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${E===d?"border-blue-600 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-400"}`,children:e.jsx("img",{src:U.thumbnail_url||U.image_url,alt:`Thumbnail ${E+1}`,className:"w-full h-full object-cover"})},U.photo_id))})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2 leading-tight",children:b.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg",children:ne()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>j(!0),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all","aria-label":"Share property",children:e.jsx(eh,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(!0),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all","aria-label":"Report listing",children:e.jsx(Aj,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:B(b.price,b.currency,b.listing_type)}),b.price_per_sqft&&e.jsxs("div",{className:"text-sm text-gray-600",children:["$",Number(b.price_per_sqft).toFixed(0),"/sqft"]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b.status==="active"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)}),z!==null&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Listed ",z," day",z!==1?"s":""," ago"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Vr,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.bedrooms}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Wr,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.bathrooms}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Xm,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Z(b.square_footage)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Sq Ft"})]})]}),b.lot_size&&e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(ve,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Z(b.lot_size)}),e.jsxs("div",{className:"text-sm text-gray-600",children:[b.lot_size_unit||"sqft"," lot"]})]})]}),b.year_built&&e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Rc,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.year_built}),e.jsx("div",{className:"text-sm text-gray-600",children:"Year Built"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About This Property"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:b.description}),b.mls_number&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["MLS# ",b.mls_number]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Property Type"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 mt-1 capitalize",children:b.property_type.replace("_"," ")})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Listing Type"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1 capitalize",children:["For ",b.listing_type]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Price"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 mt-1",children:B(b.price,b.currency,b.listing_type)})]}),b.price_per_sqft&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Price per Sq Ft"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:["$",Number(b.price_per_sqft).toFixed(0)]})]}),b.hoa_fee&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"HOA Fee"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:["$",Z(b.hoa_fee),"/",b.hoa_frequency||"month"]})]}),b.property_tax&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Property Tax"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:["$",Z(b.property_tax),"/year"]})]}),b.property_style&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Architecture Style"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 mt-1",children:b.property_style})]}),b.floors&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Floors"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 mt-1",children:b.floors})]}),b.parking_spaces!==null&&e.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Parking"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[b.parking_spaces," space",b.parking_spaces!==1?"s":""]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Features & Amenities"}),e.jsxs("div",{className:"space-y-6",children:[b.interior_features&&b.interior_features.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Interior Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.interior_features.map((U,E)=>e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(We,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:U})]},E))})]}),b.exterior_features&&b.exterior_features.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Exterior Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.exterior_features.map((U,E)=>e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(We,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:U})]},E))})]}),b.appliances_included&&b.appliances_included.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Appliances Included"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.appliances_included.map((U,E)=>e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(We,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:U})]},E))})]}),b.amenities&&b.amenities.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.amenities.map((U,E)=>e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(We,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:U})]},E))})]})]}),b.highlights&&b.highlights.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Property Highlights"}),e.jsx("ul",{className:"space-y-2",children:b.highlights.map((U,E)=>e.jsxs("li",{className:"flex items-start space-x-2 text-gray-700",children:[e.jsx(Wj,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:U})]},E))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Location"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-lg text-gray-700",children:ne()}),b.neighborhood&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.neighborhood})]}),b.latitude&&b.longitude&&e.jsx("div",{className:"aspect-[16/9] bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(nt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Map view would appear here"}),e.jsxs("p",{className:"text-xs mt-1",children:["Coordinates: ",b.latitude,", ",b.longitude]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",id:"contact-form",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Agent About This Property"}),Y.isSuccess?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(We,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Message Sent!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Your inquiry has been sent to ",O==null?void 0:O.full_name,". They'll get back to you shortly."]}),O&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left max-w-md mx-auto",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"You can also contact them directly:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("a",{href:`tel:${O.phone_number}`,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:O.phone_number})]}),e.jsxs("a",{href:`mailto:${O.email}`,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:O.email})]})]})]})]}):e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),e.jsx("input",{type:"text",id:"name",value:L.inquirer_name,onChange:U=>{A(E=>({...E,inquirer_name:U.target.value})),S(E=>({...E,inquirer_name:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${q.inquirer_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`,placeholder:"Enter your full name"}),q.inquirer_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),q.inquirer_name]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Email *"}),e.jsx("input",{type:"email",id:"email",value:L.inquirer_email,onChange:U=>{A(E=>({...E,inquirer_email:U.target.value})),S(E=>({...E,inquirer_email:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${q.inquirer_email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`,placeholder:"your.email@example.com"}),q.inquirer_email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),q.inquirer_email]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:L.inquirer_phone,onChange:U=>A(E=>({...E,inquirer_phone:U.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all",placeholder:"(123) 456-7890"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message *"}),e.jsx("textarea",{id:"message",rows:5,value:L.message,onChange:U=>{A(E=>({...E,message:U.target.value})),S(E=>({...E,message:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${q.message?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all resize-none`,placeholder:"Enter your message..."}),e.jsx("div",{className:"flex justify-between items-center mt-1",children:q.message?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),q.message]}):e.jsxs("span",{className:"text-sm text-gray-500",children:[L.message.length," / 2000"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:L.viewing_requested,onChange:U=>A(E=>({...E,viewing_requested:U.target.checked,preferred_viewing_date:U.target.checked?E.preferred_viewing_date:"",preferred_viewing_time:U.target.checked?E.preferred_viewing_time:""})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I'd like to schedule a viewing"})]}),L.viewing_requested&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"viewing-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date *"}),e.jsx("input",{type:"date",id:"viewing-date",value:L.preferred_viewing_date,onChange:U=>{A(E=>({...E,preferred_viewing_date:U.target.value})),S(E=>({...E,preferred_viewing_date:void 0}))},min:new Date(Date.now()+864e5).toISOString().split("T")[0],className:`w-full px-4 py-3 rounded-lg border-2 ${q.preferred_viewing_date?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all`}),q.preferred_viewing_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.preferred_viewing_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"viewing-time",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time *"}),e.jsxs("select",{id:"viewing-time",value:L.preferred_viewing_time,onChange:U=>{A(E=>({...E,preferred_viewing_time:U.target.value})),S(E=>({...E,preferred_viewing_time:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${q.preferred_viewing_time?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all`,children:[e.jsx("option",{value:"",children:"Select time"}),e.jsx("option",{value:"Morning (9AM-12PM)",children:"Morning (9AM-12PM)"}),e.jsx("option",{value:"Afternoon (12PM-5PM)",children:"Afternoon (12PM-5PM)"}),e.jsx("option",{value:"Evening (5PM-8PM)",children:"Evening (5PM-8PM)"})]}),q.preferred_viewing_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.preferred_viewing_time})]})]})]}),e.jsx("button",{type:"submit",disabled:Y.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-4 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Y.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Sending..."})]}):e.jsx("span",{children:"Send Message"})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By submitting, you agree to our Terms of Service and Privacy Policy"})]})]}),te.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:te.map(U=>e.jsxs(I,{to:`/property/${U.property_id}`,className:"group block bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"aspect-[4/3] bg-gray-200 overflow-hidden",children:W.length>0&&W[0].image_url?e.jsx("img",{src:W[0].thumbnail_url||W[0].image_url,alt:U.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ve,{className:"w-12 h-12 text-gray-400"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600 mb-2",children:B(U.price,U.currency,U.listing_type)}),e.jsx("p",{className:"text-gray-900 font-medium mb-2 line-clamp-1",children:U.address_street}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[U.address_city,", ",U.address_state]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsxs("span",{children:[U.bedrooms," bd"]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsxs("span",{children:[U.bathrooms," ba"]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Xm,{className:"w-4 h-4"}),e.jsxs("span",{children:[Z(U.square_footage)," sqft"]})]})]})]})]},U.property_id))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-8",children:O&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Listed By"}),e.jsx(I,{to:`/agent/${O.agent_id}`,className:"block group",children:e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[O.profile_photo_url?e.jsx("img",{src:O.profile_photo_url,alt:O.full_name,className:"w-16 h-16 rounded-full object-cover ring-2 ring-gray-200 group-hover:ring-blue-500 transition-all"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl ring-2 ring-gray-200 group-hover:ring-blue-500 transition-all",children:O.full_name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:O.full_name}),O.professional_title&&e.jsx("p",{className:"text-sm text-gray-600",children:O.professional_title}),e.jsx("p",{className:"text-sm text-gray-600",children:O.agency_name})]})]})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("a",{href:`tel:${O.phone_number}`,className:"flex items-center space-x-3 text-gray-700 hover:text-blue-600 transition-colors",children:[e.jsx(Et,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:O.phone_number})]}),e.jsxs("a",{href:`mailto:${O.email}`,className:"flex items-center space-x-3 text-gray-700 hover:text-blue-600 transition-colors",children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:O.email})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["License #: ",O.license_number]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:`tel:${O.phone_number}`,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white text-center font-medium py-3 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Call Agent"}),e.jsx("a",{href:"#contact-form",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-900 text-center font-medium py-3 px-4 rounded-lg border border-gray-300 transition-all duration-200",children:"Send Message"}),e.jsx(I,{to:`/agent/${O.agent_id}`,className:"block w-full text-blue-600 hover:text-blue-700 text-center font-medium py-3 px-4 rounded-lg hover:bg-blue-50 transition-all duration-200",children:"View Agent Profile"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center text-gray-400 mb-1",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.view_count}),e.jsx("div",{className:"text-xs text-gray-600",children:"Views"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center text-gray-400 mb-1",children:e.jsx(js,{className:"w-4 h-4"})}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.inquiry_count}),e.jsx("div",{className:"text-xs text-gray-600",children:"Inquiries"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center text-gray-400 mb-1",children:e.jsx(At,{className:"w-4 h-4"})}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.favorite_count}),e.jsx("div",{className:"text-xs text-gray-600",children:"Favorites"})]})]})]})})})]})]})}),h&&e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[e.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-white bg-black/50 hover:bg-black/70 p-3 rounded-full transition-all z-10","aria-label":"Close lightbox",children:e.jsx(Je,{className:"w-6 h-6"})}),W.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(oe=W[d])==null?void 0:oe.image_url,alt:`Property photo ${d+1}`,className:"max-w-[90vw] max-h-[90vh] object-contain"}),W.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:K,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-4 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Previous image",children:e.jsx(Tc,{className:"w-8 h-8"})}),e.jsx("button",{onClick:P,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-4 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Next image",children:e.jsx(Se,{className:"w-8 h-8"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[d+1," / ",W.length]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Share This Property"}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Je,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>_(window.location.href),className:"w-full flex items-center space-x-3 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:[e.jsx(eh,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Copy Link"})]}),e.jsxs("a",{href:`mailto:?subject=Check out this property&body=${window.location.href}`,className:"w-full flex items-center space-x-3 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Email"})]})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Report This Listing"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Je,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),e.jsxs("select",{value:u,onChange:U=>p(U.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Incorrect Information",children:"Incorrect Information"}),e.jsx("option",{value:"Suspicious Listing",children:"Suspicious Listing"}),e.jsx("option",{value:"Inappropriate Content",children:"Inappropriate Content"}),e.jsx("option",{value:"Spam",children:"Spam"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Details"}),e.jsx("textarea",{value:f,onChange:U=>C(U.target.value),rows:4,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all resize-none",placeholder:"Please provide any additional details..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium rounded-lg transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y.isPending||!u,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y.isPending?"Submitting...":"Submit Report"})]})]})]})})]})},u2=async(t,s)=>{const r={"Content-Type":"application/json"};return s&&(r.Authorization=`Bearer ${s}`),(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries",t,{headers:r})).data},m2=async(t,s)=>{const r={};return s&&(r.Authorization=`Bearer ${s}`),(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/upload/document",t,{headers:r,onUploadProgress:()=>{}})).data},h2=()=>{var S;const t=H(b=>b.authentication_state.current_user),s=H(b=>b.authentication_state.authentication_status.is_authenticated),r=H(b=>b.authentication_state.user_auth_token),a=H(b=>b.authentication_state.agent_auth_token),n=H(b=>b.show_toast),i=r||a,[l]=k.useState([{id:"general",label:"General Inquiry",description:"Questions about using PropConnect or finding properties",email:"support@propconnect.com",phone:null},{id:"agent_support",label:"Agent Support",description:"Help with listing management and agent features",email:"agent-support@propconnect.com",phone:"555-1000"},{id:"technical",label:"Technical Issues",description:"Bug reports and technical problems",email:"technical@propconnect.com",phone:null}]),[o,c]=k.useState({contact_name:"",contact_email:"",contact_phone:"",subject:"",category:"general",message:"",attachment_url:null,validation_errors:{},submitting:!1,submit_success:!1,submit_error:null}),[d,m]=k.useState({file:null,uploading:!1,upload_progress:0,upload_error:null}),[h,g]=k.useState([{question:"How do I search for properties?",answer:"Use the search bar on the homepage to enter a location, price range, and property type. You can also use advanced filters to narrow your search by bedrooms, amenities, and more.",expanded:!1},{question:"How do I save properties to my favorites?",answer:"Click the heart icon on any property card. You'll need to create a free account to save properties and track them over time.",expanded:!1},{question:"How can I contact an agent about a property?",answer:"On any property detail page, scroll to the contact form and fill in your information. The agent will receive your inquiry and respond via email or phone.",expanded:!1},{question:"How do I list my property as an agent?",answer:'Register as an agent by clicking "Join as an Agent" in the navigation. After approval, you can create listings from your agent dashboard.',expanded:!1},{question:"What is your response time for inquiries?",answer:"We typically respond to general inquiries within 24 hours during business hours (Monday-Friday, 9AM-6PM EST). Property-specific inquiries are forwarded to agents who respond based on their availability.",expanded:!1}]),w=l.find(b=>b.id===o.category)||l[0];k.useEffect(()=>{s&&t&&c(b=>({...b,contact_name:t.full_name||"",contact_email:t.email||"",contact_phone:t.phone_number||""}))},[s,t]);const j=be({mutationFn:b=>u2(b,i),onSuccess:()=>{c(b=>({...b,submitting:!1,submit_success:!0,submit_error:null})),n("Message sent successfully! We'll get back to you soon.","success")},onError:b=>{var Q,W,O;const T=((O=(W=(Q=b.response)==null?void 0:Q.data)==null?void 0:W.error)==null?void 0:O.message)||b.message||"Failed to send message";c(te=>({...te,submitting:!1,submit_error:T})),n(T,"error")}}),x=be({mutationFn:b=>m2(b,i),onSuccess:b=>{c(T=>({...T,attachment_url:b.document_url})),m({file:d.file,uploading:!1,upload_progress:100,upload_error:null}),n("File uploaded successfully","success")},onError:b=>{var Q,W,O;const T=((O=(W=(Q=b.response)==null?void 0:Q.data)==null?void 0:W.error)==null?void 0:O.message)||b.message||"Upload failed";m(te=>({...te,uploading:!1,upload_error:T})),n(T,"error")}}),v=(b,T)=>{c(Q=>{const W={...Q.validation_errors};return delete W[b],{...Q,[b]:T,validation_errors:W}})},u=b=>{c(T=>({...T,category:b,validation_errors:{}}))},p=async b=>{var te;const T=(te=b.target.files)==null?void 0:te[0];if(!T)return;const Q=10*1024*1024,W=["application/pdf","image/jpeg","image/jpg","image/png"];if(T.size>Q){m(D=>({...D,upload_error:"File size must be less than 10MB"}));return}if(!W.includes(T.type)){m(D=>({...D,upload_error:"File must be PDF, JPG, or PNG"}));return}m({file:T,uploading:!0,upload_progress:0,upload_error:null});const O=new FormData;O.append("file",T),O.append("document_type",o.category),x.mutate(O)},f=()=>{m({file:null,uploading:!1,upload_progress:0,upload_error:null}),c(b=>({...b,attachment_url:null}))},C=()=>{const b={};return o.contact_name.trim()||(b.contact_name="Name is required"),o.contact_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.contact_email)||(b.contact_email="Please enter a valid email address"):b.contact_email="Email is required",o.subject.trim()||(b.subject="Subject is required"),o.message.trim()?o.message.trim().length<10&&(b.message="Message must be at least 10 characters"):b.message="Message is required",Object.keys(b).length>0?(c(T=>({...T,validation_errors:b})),!1):!0},L=async b=>{var Q;if(b.preventDefault(),!C()){const W=Object.keys(o.validation_errors)[0];(Q=document.querySelector(`[name="${W}"]`))==null||Q.focus();return}c(W=>({...W,submitting:!0,submit_error:null,validation_errors:{}}));const T={property_id:null,agent_id:null,user_id:(t==null?void 0:t.user_id)||null,inquirer_name:o.contact_name,inquirer_email:o.contact_email,inquirer_phone:o.contact_phone||null,message:`Subject: ${o.subject}
Category: ${w.label}

Message:
${o.message}${o.attachment_url?`

Attachment: ${o.attachment_url}`:""}`,viewing_requested:!1,preferred_viewing_date:null,preferred_viewing_time:null};j.mutate(T)},A=()=>{c({contact_name:(t==null?void 0:t.full_name)||"",contact_email:(t==null?void 0:t.email)||"",contact_phone:(t==null?void 0:t.phone_number)||"",subject:"",category:"general",message:"",attachment_url:null,validation_errors:{},submitting:!1,submit_success:!1,submit_error:null}),m({file:null,uploading:!1,upload_progress:0,upload_error:null})},q=b=>{g(T=>T.map((Q,W)=>W===b?{...Q,expanded:!Q.expanded}:Q))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-16 lg:py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Have questions? We're here to help. Contact our support team or reach out directly using the information below."})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"How Can We Help?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(b=>e.jsxs("div",{onClick:()=>u(b.id),className:`bg-white rounded-xl border-2 p-6 cursor-pointer transition-all duration-200 hover:shadow-xl hover:scale-105 ${o.category===b.id?"border-blue-600 shadow-lg":"border-gray-200 shadow-md"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.label}),o.category===b.id&&e.jsx("div",{className:"bg-blue-600 rounded-full p-1",children:e.jsx(We,{className:"w-4 h-4 text-white"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:b.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("a",{href:`mailto:${b.email}`,className:"hover:text-blue-600 transition-colors",onClick:T=>T.stopPropagation(),children:b.email})]}),b.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("a",{href:`tel:${b.phone}`,className:"hover:text-blue-600 transition-colors",onClick:T=>T.stopPropagation(),children:b.phone})]})]})]},b.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[e.jsx("div",{className:"lg:col-span-2",children:o.submit_success?e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(We,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Thank you for contacting us. We've received your message and will respond within 24 hours during business hours."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Need immediate assistance?"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`mailto:${w.email}`,className:"hover:text-blue-900",children:w.email})]}),w.phone&&e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`tel:${w.phone}`,className:"hover:text-blue-900",children:w.phone})]})]})]}),e.jsx("button",{onClick:A,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium rounded-lg border border-gray-300 transition-all duration-200",children:"Send Another Message"})]})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send Us a Message"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours during business hours."})]}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact_name",className:"block text-sm font-medium text-gray-900 mb-2",children:["Your Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"contact_name",name:"contact_name",value:o.contact_name,onChange:b=>v("contact_name",b.target.value),placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.contact_name?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none`}),o.validation_errors.contact_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:o.validation_errors.contact_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact_email",className:"block text-sm font-medium text-gray-900 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"email",id:"contact_email",name:"contact_email",value:o.contact_email,onChange:b=>v("contact_email",b.target.value),placeholder:"your.email@example.com",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.contact_email?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none`}),o.validation_errors.contact_email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:o.validation_errors.contact_email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_phone",className:"block text-sm font-medium text-gray-900 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"contact_phone",name:"contact_phone",value:o.contact_phone,onChange:b=>v("contact_phone",b.target.value),placeholder:"(123) 456-7890",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-900 mb-2",children:["Subject ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:o.subject,onChange:b=>v("subject",b.target.value),placeholder:"Brief description of your inquiry",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.subject?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none`}),o.validation_errors.subject&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:o.validation_errors.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Category"}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 rounded-lg border-2 border-gray-200",children:[e.jsx("p",{className:"text-gray-900 font-medium",children:w.label}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Your message will be routed to: ",w.email]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-900 mb-2",children:["Message ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{id:"message",name:"message",rows:6,value:o.message,onChange:b=>v("message",b.target.value),placeholder:"Please provide details about your inquiry...",maxLength:2e3,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 resize-none ${o.validation_errors.message?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none`}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.validation_errors.message&&e.jsx("p",{className:"text-sm text-red-600",role:"alert",children:o.validation_errors.message}),e.jsxs("p",{className:`text-sm ml-auto ${o.message.length>1900?"text-red-600":"text-gray-500"}`,children:[o.message.length," / 2000"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Attachment (Optional)"}),!d.file&&!o.attachment_url?e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx(ir,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a file (PDF, JPG, PNG)"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Maximum file size: 10MB"}),e.jsx("input",{type:"file",id:"file-upload",accept:".pdf,.jpg,.jpeg,.png",onChange:p,className:"hidden"}),e.jsx("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 text-sm font-medium rounded-lg cursor-pointer transition-colors",children:"Choose File"})]}):e.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mr-3",children:e.jsx(ir,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((S=d.file)==null?void 0:S.name)||"Uploaded file"}),d.uploading?e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d.upload_progress}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",d.upload_progress,"%"]})]}):e.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Upload complete"})]})]}),!d.uploading&&e.jsx("button",{type:"button",onClick:f,className:"ml-3 text-gray-400 hover:text-red-600 transition-colors","aria-label":"Remove file",children:e.jsx(Je,{className:"w-5 h-5"})})]}),d.upload_error&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:d.upload_error})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("button",{type:"submit",disabled:o.submitting||d.uploading,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-blue-100",children:o.submitting?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Bj,{className:"w-5 h-5 mr-2"}),"Send Message"]})}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:["By submitting, you agree to our"," ",e.jsx(I,{to:"/terms",className:"text-blue-600 hover:text-blue-700",children:"Terms of Service"})," ","and"," ",e.jsx(I,{to:"/privacy",className:"text-blue-600 hover:text-blue-700",children:"Privacy Policy"})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mr-3 flex-shrink-0",children:e.jsx(Ce,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("a",{href:"mailto:support@propconnect.com",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"support@propconnect.com"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mr-3 flex-shrink-0",children:e.jsx(Et,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("a",{href:"tel:555-776-7266",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"555-PROPCONNECT"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mr-3 flex-shrink-0",children:e.jsx(nt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Office"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["123 Business Avenue",e.jsx("br",{}),"Miami, FL 33139"]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Business Hours"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Monday - Friday"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"9:00 AM - 6:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Saturday"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"10:00 AM - 4:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Sunday"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Closed"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-3 pt-3 border-t border-blue-200",children:"All times displayed in Eastern Standard Time (EST)"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{to:"/search",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:" Search Properties"}),e.jsx(I,{to:"/agent/register",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:" Register as Agent"}),e.jsx(I,{to:"/terms",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:" Terms of Service"}),e.jsx(I,{to:"/privacy",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:" Privacy Policy"})]})]})]})]}),e.jsxs("div",{className:"mt-16 lg:mt-24",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Find quick answers to common questions. Can't find what you're looking for? Use the contact form above."})]}),e.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:h.map((b,T)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden transition-all duration-200 hover:shadow-lg",children:[e.jsxs("button",{onClick:()=>q(T),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 pr-4",children:b.question}),b.expanded?e.jsx(kj,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):e.jsx(qa,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),b.expanded&&e.jsx("div",{className:"px-6 pb-4 pt-2",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.answer})})]},T))}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions?"}),e.jsx("a",{href:"#contact-form",onClick:b=>{b.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Contact Support"})]})]})]})]})},x2=()=>{const t=H(a=>a.authentication_state.current_user),s=H(a=>a.logout),r=()=>{s()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("nav",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Dashboard"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(I,{to:"/profile",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Profile"}),e.jsx("button",{onClick:r,className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition-colors",children:"Sign out"})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"px-4 py-6 sm:px-0",children:e.jsx("div",{className:"border-4 border-dashed border-gray-200 rounded-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Welcome back, ",t==null?void 0:t.full_name,"!"]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"This is your protected dashboard. You can only see this because you're authenticated."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[e.jsxs("p",{className:"text-blue-700 text-sm",children:[e.jsx("strong",{children:"Email:"})," ",t==null?void 0:t.email]}),e.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:[e.jsx("strong",{children:"User ID:"})," ",t==null?void 0:t.user_id]})]})]})})})})]})})},p2=async(t,s,r)=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/favorites",{headers:{Authorization:`Bearer ${t}`},params:{sort_by:s,sort_order:r,limit:100,offset:0}})).data.data.filter(n=>n.property).map(n=>({favorite_id:n.favorite_id,property_id:n.property_id,created_at:n.created_at,property_data:n.property})),g2=async(t,s)=>{await G.delete(`https://123real-estate-listing-site-with.launchpulse.ai/api/favorites/${t}`,{headers:{Authorization:`Bearer ${s}`}})},f2=()=>{const[t,s]=es(),r=t.get("sort")||"date_saved_desc",a=H(T=>T.authentication_state.current_user),n=H(T=>T.authentication_state.user_auth_token),i=H(T=>T.authentication_state.authentication_status.is_authenticated),l=H(T=>T.show_toast),[o,c]=k.useState(r),[d,m]=k.useState({is_open:!1,property_id:null,property_title:""}),h=Wt(),g=T=>{switch(T){case"date_saved_asc":return{sortBy:"created_at",sortOrder:"asc"};case"date_saved_desc":default:return{sortBy:"created_at",sortOrder:"desc"};case"price_asc":return{sortBy:"price",sortOrder:"asc"};case"price_desc":return{sortBy:"price",sortOrder:"desc"};case"newest":return{sortBy:"created_at",sortOrder:"desc"}}},{sortBy:w,sortOrder:j}=g(o),{data:x=[],isLoading:v,error:u,refetch:p}=Ne({queryKey:["user-favorites",a==null?void 0:a.user_id,w,j],queryFn:()=>p2(n,w,j),enabled:!!n&&!!a,staleTime:6e4,select:T=>T.map(Q=>({...Q,property_data:{...Q.property_data,price:Number(Q.property_data.price||0),bedrooms:Number(Q.property_data.bedrooms||0),bathrooms:Number(Q.property_data.bathrooms||0),square_footage:Number(Q.property_data.square_footage||0)}}))}),f=be({mutationFn:T=>g2(T,n),onSuccess:()=>{h.invalidateQueries({queryKey:["user-favorites"]}),l("Property removed from saved","success"),m({is_open:!1,property_id:null,property_title:""})},onError:T=>{var W,O,te;const Q=((te=(O=(W=T.response)==null?void 0:W.data)==null?void 0:O.error)==null?void 0:te.message)||"Failed to remove property";l(Q,"error")}}),C=T=>{c(T),s({sort:T})},L=(T,Q)=>{m({is_open:!0,property_id:T,property_title:Q})},A=()=>{m({is_open:!1,property_id:null,property_title:""})},q=()=>{d.property_id&&f.mutate(d.property_id)},S=(T,Q,W)=>{const O=new Intl.NumberFormat("en-US",{style:"currency",currency:Q||"USD",minimumFractionDigits:0}).format(T);return W==="rent"?`${O}/month`:O},b=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return i?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:"My Saved Properties"}),e.jsx("p",{className:"mt-2 text-base text-gray-600",children:x.length>0?`${x.length} ${x.length===1?"property":"properties"} saved`:"No saved properties yet"})]}),x.length>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsxs("select",{id:"sort",value:o,onChange:T=>C(T.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none text-sm font-medium text-gray-900 bg-white transition-all",children:[e.jsx("option",{value:"date_saved_desc",children:"Date Saved (Newest)"}),e.jsx("option",{value:"date_saved_asc",children:"Date Saved (Oldest)"}),e.jsx("option",{value:"price_asc",children:"Price (Low to High)"}),e.jsx("option",{value:"price_desc",children:"Price (High to Low)"}),e.jsx("option",{value:"newest",children:"Newest Listings"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[v&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(T=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-300"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"})]})]},T))}),u&&!v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 text-center",children:[e.jsx(we,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Saved Properties"}),e.jsx("p",{className:"text-gray-600 mb-6",children:u instanceof Error?u.message:"An error occurred while loading your saved properties."}),e.jsx("button",{onClick:()=>p(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl",children:"Try Again"})]}),!v&&!u&&x.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx(At,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Saved Properties Yet"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Save your favorite listings to keep track of properties you love. Click the heart icon on any property to add it here."}),e.jsxs(I,{to:"/search",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl",children:[e.jsx(Kd,{className:"w-5 h-5 mr-2"}),"Browse Properties"]})]})}),!v&&!u&&x.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(T=>{var W,O;const Q=T.property_data;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-200 group",children:[e.jsx(I,{to:`/property/${Q.property_id}`,className:"block relative",children:e.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[(W=Q.primary_photo)!=null&&W.thumbnail_url||(O=Q.primary_photo)!=null&&O.image_url?e.jsx("img",{src:Q.primary_photo.thumbnail_url||Q.primary_photo.image_url,alt:Q.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300",children:e.jsx(ve,{className:"w-12 h-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full shadow-lg",children:["For ",Q.listing_type==="sale"?"Sale":"Rent"]})}),e.jsx("button",{onClick:te=>{te.preventDefault(),L(T.favorite_id,Q.title)},className:"absolute top-3 right-3 p-2 bg-red-600 text-white rounded-full shadow-lg hover:bg-red-700 transition-all","aria-label":"Remove from saved properties",children:e.jsx(ws,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Saved on ",b(T.created_at)]})}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S(Q.price,Q.currency,Q.listing_type)})}),e.jsxs(I,{to:`/property/${Q.property_id}`,className:"block mb-3 hover:text-blue-600 transition-colors",children:[e.jsx("p",{className:"text-base font-semibold text-gray-900 line-clamp-1",children:Q.address_street}),e.jsxs("p",{className:"text-sm text-gray-600",children:[Q.address_city,", ",Q.address_state]})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 capitalize",children:Q.property_type.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold",children:Q.bedrooms}),e.jsx("span",{className:"ml-1",children:"bd"})]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold",children:Q.bathrooms}),e.jsx("span",{className:"ml-1",children:"ba"})]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold",children:Q.square_footage.toLocaleString()}),e.jsx("span",{className:"ml-1",children:"sqft"})]})]}),e.jsxs(I,{to:`/agent/${Q.agent_info.agent_id}`,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs font-semibold text-white",children:Q.agent_info.full_name.charAt(0)}),e.jsx("span",{children:Q.agent_info.full_name})]}),e.jsx(I,{to:`/property/${Q.property_id}`,className:"mt-4 block w-full text-center px-4 py-2 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all",children:"View Details"})]})]},T.favorite_id)})})]}),d.is_open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:A,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",onClick:T=>T.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ws,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Remove from Saved?"}),e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to remove ",e.jsx("strong",{children:d.property_title})," from your saved properties?"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:A,disabled:f.isPending,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:q,disabled:f.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:f.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Removing..."]}):"Remove"})]})]})})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to view your saved properties."}),e.jsx(I,{to:"/login?redirect=/saved-properties",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})})})},y2=async(t,s,r)=>{const a={limit:100,offset:0,sort_by:"created_at",sort_order:"desc"};return s&&s.length>0&&(a.status=s.join(",")),r&&(a.property_id=r),(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries/my-inquiries",{headers:{Authorization:`Bearer ${t}`},params:a})).data},b2=async(t,s)=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries/${s}`,{headers:{Authorization:`Bearer ${t}`}})).data,v2=()=>{var te;const t=H(D=>D.authentication_state.current_user),s=H(D=>D.authentication_state.user_auth_token),r=H(D=>D.authentication_state.authentication_status.is_authenticated),[a,n]=es(),[i,l]=k.useState(a.get("property_id")||null),[o,c]=k.useState(()=>{const D=a.get("status");return D?D.split(","):null}),[d,m]=k.useState({is_open:!1,inquiry_id:null,loading:!1}),{data:h,isLoading:g,error:w,refetch:j}=Ne({queryKey:["user-inquiries",o,i],queryFn:()=>y2(s,o,i),enabled:!!s&&r,staleTime:3e4,refetchOnWindowFocus:!1}),{data:x,isLoading:v}=Ne({queryKey:["inquiry-detail",d.inquiry_id],queryFn:()=>b2(s,d.inquiry_id),enabled:!!s&&!!d.inquiry_id&&d.is_open,staleTime:1e4}),u=k.useMemo(()=>(h==null?void 0:h.data)||[],[h==null?void 0:h.data]),p=(h==null?void 0:h.pagination.total)||0,f=k.useMemo(()=>({all:u,waiting:u.filter(D=>D.status==="new"),replied:u.filter(D=>D.status==="responded"||D.status==="scheduled"||D.status==="completed"),archived:u.filter(D=>D.status==="closed")}),[u]),C=k.useMemo(()=>{const D=new Map;return u.forEach(Y=>{Y.property_info&&!D.has(Y.property_id)&&D.set(Y.property_id,{property_id:Y.property_id,title:Y.property_info.title,address:`${Y.property_info.address_street}, ${Y.property_info.address_city}`})}),Array.from(D.values())},[u]),L=D=>{c(D);const Y=new URLSearchParams(a);D&&D.length>0?Y.set("status",D.join(",")):Y.delete("status"),n(Y)},A=D=>{l(D);const Y=new URLSearchParams(a);D?Y.set("property_id",D):Y.delete("property_id"),n(Y)},q=D=>{m({is_open:!0,inquiry_id:D,loading:!0})},S=()=>{m({is_open:!1,inquiry_id:null,loading:!1})},b=D=>{const Y=new Date(D);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(Y)},T=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(D),Q=D=>{switch(D){case"new":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"responded":case"scheduled":case"completed":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W=D=>{switch(D){case"new":return"Waiting for Reply";case"responded":return"Replied";case"scheduled":return"Viewing Scheduled";case"completed":return"Completed";case"closed":return"Archived";default:return D}},O=k.useMemo(()=>{let D=u;return o&&o.length>0&&(D=D.filter(Y=>o.includes(Y.status))),i&&(D=D.filter(Y=>Y.property_id===i)),D},[u,o,i]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"My Inquiries"}),e.jsxs("p",{className:"mt-2 text-base text-gray-600",children:[p," ",p===1?"inquiry":"inquiries"," sent"]})]}),C.length>1&&e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("select",{value:i||"",onChange:D=>A(D.target.value||null),className:"block w-full sm:w-64 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Properties"}),C.map(D=>e.jsx("option",{value:D.property_id,children:D.title},D.property_id))]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-6",children:e.jsxs("div",{className:"flex flex-wrap border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>L(null),className:`px-6 py-4 font-medium transition-all ${!o||o.length===0?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:["All (",f.all.length,")"]}),e.jsxs("button",{onClick:()=>L(["new"]),className:`px-6 py-4 font-medium transition-all ${o!=null&&o.includes("new")?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:["Waiting for Reply (",f.waiting.length,")"]}),e.jsxs("button",{onClick:()=>L(["responded","scheduled","completed"]),className:`px-6 py-4 font-medium transition-all ${o!=null&&o.some(D=>["responded","scheduled","completed"].includes(D))?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:["Replied (",f.replied.length,")"]}),e.jsxs("button",{onClick:()=>L(["closed"]),className:`px-6 py-4 font-medium transition-all ${o!=null&&o.includes("closed")?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:["Archived (",f.archived.length,")"]})]})}),g&&e.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-pulse",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})]})},D))}),w&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 text-center",children:[e.jsx(we,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Inquiries"}),e.jsx("p",{className:"text-gray-600 mb-4",children:w instanceof Error?w.message:"An error occurred"}),e.jsx("button",{onClick:()=>j(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all",children:"Try Again"})]}),!g&&!w&&O.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx(Rj,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o||i?"No Inquiries Match Your Filters":"No Inquiries Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o||i?"Try adjusting your filters to see more inquiries.":"When you contact agents about properties, your inquiries will appear here."}),!o&&!i&&e.jsxs(I,{to:"/search",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl",children:["Browse Properties",e.jsx(Se,{className:"w-5 h-5 ml-2"})]}),(o||i)&&e.jsx("button",{onClick:()=>{L(null),A(null)},className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-all",children:"Clear Filters"})]})}),!g&&!w&&O.length>0&&e.jsx("div",{className:"space-y-4",children:O.map(D=>{var Y,y,N,P,K,$;return e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>q(D.inquiry_id),children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start space-y-4 lg:space-y-0 lg:space-x-6",children:[((Y=D.property_info)==null?void 0:Y.primary_photo)&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:D.property_info.primary_photo.thumbnail_url||D.property_info.primary_photo.image_url,alt:D.property_info.title,className:"w-full lg:w-32 h-32 object-cover rounded-lg"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(I,{to:`/property/${D.property_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",onClick:F=>F.stopPropagation(),children:((y=D.property_info)==null?void 0:y.title)||"Property"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(N=D.property_info)==null?void 0:N.address_street,", ",(P=D.property_info)==null?void 0:P.address_city,", ",(K=D.property_info)==null?void 0:K.address_state]}),(($=D.property_info)==null?void 0:$.price)&&e.jsx("p",{className:"text-lg font-bold text-blue-600 mt-1",children:T(D.property_info.price)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${Q(D.status)}`,children:W(D.status)}),e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Sent ",b(D.created_at)]}),D.viewing_requested&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 border border-orange-200",children:[e.jsx(Qm,{className:"w-3 h-3 mr-1"}),"Viewing Requested"]})]}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-3 line-clamp-2",children:D.message}),D.agent_info&&e.jsxs("div",{className:"flex items-center space-x-3 pt-3 border-t border-gray-100",children:[D.agent_info.profile_photo_url?e.jsx("img",{src:D.agent_info.profile_photo_url,alt:D.agent_info.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:D.agent_info.full_name.split(" ").map(F=>F[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Agent: ",D.agent_info.full_name]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1",children:[e.jsxs("a",{href:`tel:${D.agent_info.phone_number}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",onClick:F=>F.stopPropagation(),children:[e.jsx(Et,{className:"w-3 h-3 mr-1"}),D.agent_info.phone_number]}),e.jsxs("a",{href:`mailto:${D.agent_info.email}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",onClick:F=>F.stopPropagation(),children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),D.agent_info.email]})]})]})]}),D.replies&&D.replies.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Agent replied ",b(D.replies[D.replies.length-1].created_at)]})]}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 line-clamp-2 pl-6",children:D.replies[D.replies.length-1].message})]})]}),e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx(Se,{className:"w-6 h-6 text-gray-400"})})]})})},D.inquiry_id)})})]})]}),d.is_open&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:S}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Inquiry Details"}),e.jsx("button",{onClick:S,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(Je,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"bg-white px-6 py-6 max-h-[70vh] overflow-y-auto",children:[v&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversation..."})]}),!v&&x&&e.jsxs(e.Fragment,{children:[x.inquiry.property_info&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[x.inquiry.property_info.primary_photo&&e.jsx("img",{src:x.inquiry.property_info.primary_photo.thumbnail_url||x.inquiry.property_info.primary_photo.image_url,alt:x.inquiry.property_info.title,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(I,{to:`/property/${x.inquiry.property_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors flex items-center",children:[x.inquiry.property_info.title,e.jsx(Se,{className:"w-5 h-5 ml-1"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.inquiry.property_info.address_street,", ",x.inquiry.property_info.address_city]}),x.inquiry.property_info.price&&e.jsx("p",{className:"text-lg font-bold text-blue-600 mt-1",children:T(x.inquiry.property_info.price)})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium border ${Q(x.inquiry.status)}`,children:W(x.inquiry.status)}),e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Sent ",b(x.inquiry.created_at)]}),x.inquiry.viewing_requested&&e.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium bg-orange-100 text-orange-800 border border-orange-200",children:[e.jsx(Qm,{className:"w-4 h-4 mr-2"}),"Viewing: ",x.inquiry.preferred_viewing_date," ",x.inquiry.preferred_viewing_time]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversation"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:t!=null&&t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:t.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:(t==null?void 0:t.full_name.split(" ").map(D=>D[0]).join(""))||"Y"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"You"}),e.jsx("p",{className:"text-xs text-gray-500",children:b(x.inquiry.created_at)})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:x.inquiry.message})]})]})}),x.replies&&x.replies.length>0?x.replies.filter(D=>D.sender_type==="agent").map(D=>{var Y,y,N;return e.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:(Y=x.inquiry.agent_info)!=null&&Y.profile_photo_url?e.jsx("img",{src:x.inquiry.agent_info.profile_photo_url,alt:x.inquiry.agent_info.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:((y=x.inquiry.agent_info)==null?void 0:y.full_name.split(" ").map(P=>P[0]).join(""))||"A"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((N=x.inquiry.agent_info)==null?void 0:N.full_name)||"Agent"}),e.jsx("p",{className:"text-xs text-gray-500",children:b(D.created_at)})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:D.message})]})]})},D.reply_id)}):e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-gray-200",children:[e.jsx(js,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Waiting for agent to respond"})]})]}),x.inquiry.agent_info&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Agent Contact"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[x.inquiry.agent_info.profile_photo_url?e.jsx("img",{src:x.inquiry.agent_info.profile_photo_url,alt:x.inquiry.agent_info.full_name,className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold",children:x.inquiry.agent_info.full_name.split(" ").map(D=>D[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:x.inquiry.agent_info.full_name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1",children:[e.jsxs("a",{href:`tel:${x.inquiry.agent_info.phone_number}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center transition-colors",onClick:D=>D.stopPropagation(),children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"Call Agent"]}),e.jsxs("a",{href:`mailto:${x.inquiry.agent_info.email}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center transition-colors",onClick:D=>D.stopPropagation(),children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"Email Agent"]})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs(I,{to:`/property/${d.inquiry_id?(te=u.find(D=>D.inquiry_id===d.inquiry_id))==null?void 0:te.property_id:""}`,className:"inline-flex items-center px-4 py-2 bg-white text-gray-700 rounded-lg font-medium hover:bg-gray-100 transition-all border border-gray-300",onClick:D=>D.stopPropagation(),children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"View Property"]}),e.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all",children:"Close"})]})]})]})})]})},j2=()=>{var Jd,Zd;const t=Be(),s=Wt(),r=H(J=>J.authentication_state.current_user),a=H(J=>J.authentication_state.user_auth_token),n=H(J=>J.authentication_state.authentication_status.is_authenticated),i=H(J=>J.update_user_profile),l=H(J=>J.logout),o=H(J=>J.show_toast),c=H(J=>J.user_favorites.saved_properties.length),[d,m]=k.useState("profile"),[h,g]=k.useState(!1),[w,j]=k.useState({full_name:"",phone_number:"",location:""}),[x,v]=k.useState({}),[u,p]=k.useState(!1),[f,C]=k.useState({current_password:"",new_password:"",confirm_password:""}),[L,A]=k.useState(!1),[q,S]=k.useState(!1),[b,T]=k.useState({}),[Q,W]=k.useState(!1),[O,te]=k.useState("weak"),[D,Y]=k.useState({file:null,preview_url:null,uploading:!1,upload_progress:0,upload_error:null}),[y,N]=k.useState({is_open:!1,password_confirmation:"",confirm_checkbox:!1,is_submitting:!1,error:null});k.useEffect(()=>{(!n||!r)&&t("/login?redirect=/account")},[n,r,t]);const{data:P,isLoading:K}=Ne({queryKey:["user-profile",r==null?void 0:r.user_id],queryFn:async()=>{if(!a)throw new Error("Not authenticated");return(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!a&&!!r,staleTime:6e4,refetchOnWindowFocus:!1});k.useEffect(()=>{P&&!h&&j({full_name:P.full_name||"",phone_number:P.phone_number||"",location:P.location||""})},[P,h]);const{data:$,isLoading:F}=Ne({queryKey:["notification-preferences",r==null?void 0:r.user_id],queryFn:async()=>{if(!a)throw new Error("Not authenticated");return(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/users/notification-preferences",{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!a&&d==="settings",staleTime:3e5}),M=be({mutationFn:async J=>{if(!a)throw new Error("Not authenticated");return(await G.put("https://123real-estate-listing-site-with.launchpulse.ai/api/users/me",J,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data},onSuccess:J=>{s.setQueryData(["user-profile",r==null?void 0:r.user_id],J),i(J),g(!1),p(!0),o("Profile updated successfully","success"),setTimeout(()=>p(!1),3e3)},onError:J=>{var ze,pt,lt,pr,Ha,Qa;const me=((lt=(pt=(ze=J.response)==null?void 0:ze.data)==null?void 0:pt.error)==null?void 0:lt.message)||"Failed to update profile";o(me,"error"),(Qa=(Ha=(pr=J.response)==null?void 0:pr.data)==null?void 0:Ha.error)!=null&&Qa.details&&v(J.response.data.error.details)}}),_=be({mutationFn:async J=>{if(!a)throw new Error("Not authenticated");return(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/auth/change-password",J,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data},onSuccess:()=>{C({current_password:"",new_password:"",confirm_password:""}),W(!0),o("Password changed successfully","success"),setTimeout(()=>W(!1),3e3)},onError:J=>{var ze,pt,lt,pr,Ha,Qa;const me=((lt=(pt=(ze=J.response)==null?void 0:ze.data)==null?void 0:pt.error)==null?void 0:lt.message)||"Failed to change password";o(me,"error"),((Qa=(Ha=(pr=J.response)==null?void 0:pr.data)==null?void 0:Ha.error)==null?void 0:Qa.code)==="INVALID_PASSWORD"&&T({current_password:"Current password is incorrect"})}}),B=be({mutationFn:async J=>{if(!a)throw new Error("Not authenticated");return(await G.put("https://123real-estate-listing-site-with.launchpulse.ai/api/users/notification-preferences",J,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data},onSuccess:J=>{s.setQueryData(["notification-preferences",r==null?void 0:r.user_id],J),o("Notification preferences updated","success")},onError:J=>{var ze,pt,lt;const me=((lt=(pt=(ze=J.response)==null?void 0:ze.data)==null?void 0:pt.error)==null?void 0:lt.message)||"Failed to update preferences";o(me,"error")}}),Z=be({mutationFn:async J=>{if(!a)throw new Error("Not authenticated");return(await G.delete("https://123real-estate-listing-site-with.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${a}`},data:{password:J}})).data},onSuccess:()=>{N({...y,is_open:!1}),o("Account deleted successfully. We're sorry to see you go.","info",5e3),setTimeout(()=>{l(),t("/")},1e3)},onError:J=>{var ze,pt,lt;const me=((lt=(pt=(ze=J.response)==null?void 0:ze.data)==null?void 0:pt.error)==null?void 0:lt.message)||"Failed to delete account";N(pr=>({...pr,is_submitting:!1,error:me}))}}),ne=()=>{g(!0),v({}),p(!1)},ue=()=>{P&&j({full_name:P.full_name||"",phone_number:P.phone_number||"",location:P.location||""}),g(!1),v({})},z=()=>{const J={};return w.full_name.trim()||(J.full_name="Name is required"),w.phone_number&&!/^\d{3}-\d{3}-\d{4}$/.test(w.phone_number.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"))&&w.phone_number.trim()&&(J.phone_number="Invalid phone format"),v(J),Object.keys(J).length===0},ie=()=>{z()&&M.mutate(w)},oe=J=>{let me=0;return J.length>=8&&me++,J.length>=12&&me++,/[a-z]/.test(J)&&/[A-Z]/.test(J)&&me++,/\d/.test(J)&&me++,/[^a-zA-Z\d]/.test(J)&&me++,me<=2?"weak":me<=4?"medium":"strong"},U=(J,me)=>{C(ze=>({...ze,[J]:me})),T({}),W(!1),J==="new_password"&&te(oe(me))},E=()=>{const J={};return f.current_password||(J.current_password="Current password is required"),f.new_password?f.new_password.length<8&&(J.new_password="Password must be at least 8 characters"):J.new_password="New password is required",f.new_password!==f.confirm_password&&(J.confirm_password="Passwords do not match"),T(J),Object.keys(J).length===0},le=J=>{J.preventDefault(),E()&&_.mutate({current_password:f.current_password,new_password:f.new_password})},de=J=>{if(!$)return;const me=!$[J];s.setQueryData(["notification-preferences",r==null?void 0:r.user_id],{...$,[J]:me}),B.mutate({preference_id:$.preference_id,[J]:me})},ee=J=>{var pt;const me=(pt=J.target.files)==null?void 0:pt[0];if(!me)return;if(me.size>5*1024*1024){Y(lt=>({...lt,upload_error:"Image must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png"].includes(me.type)){Y(lt=>({...lt,upload_error:"Image must be JPG or PNG"}));return}const ze=URL.createObjectURL(me);Y({file:me,preview_url:ze,uploading:!1,upload_progress:0,upload_error:null})},he=()=>{N({is_open:!0,password_confirmation:"",confirm_checkbox:!1,is_submitting:!1,error:null})},xr=()=>{if(!y.password_confirmation){N(J=>({...J,error:"Please enter your password to confirm"}));return}if(!y.confirm_checkbox){N(J=>({...J,error:"Please check the confirmation box"}));return}N(J=>({...J,is_submitting:!0,error:null})),Z.mutate(y.password_confirmation)};return!n||!r?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"My Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your profile, settings, and preferences"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"relative",children:P!=null&&P.profile_photo_url||D.preview_url?e.jsx("img",{src:D.preview_url||(P==null?void 0:P.profile_photo_url)||"",alt:P==null?void 0:P.full_name,className:"w-20 h-20 rounded-full object-cover border-4 border-blue-100"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-2xl font-bold border-4 border-blue-100",children:((Jd=P==null?void 0:P.full_name)==null?void 0:Jd.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P==null?void 0:P.full_name}),e.jsx("p",{className:"text-gray-600",children:P==null?void 0:P.email}),!(P!=null&&P.email_verified)&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full bg-yellow-100 border border-yellow-300 text-yellow-800 text-sm",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),"Email not verified"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Member since"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:P!=null&&P.created_at?new Date(P.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"N/A"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>m("profile"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-all duration-200 ${d==="profile"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ys,{className:"w-5 h-5 inline-block mr-2"}),"Profile"]}),e.jsxs(I,{to:"/saved-properties",className:"flex-1 py-4 px-6 text-center border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Saved (",c,")"]}),e.jsxs(I,{to:"/my-inquiries",className:"flex-1 py-4 px-6 text-center border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm transition-all duration-200",children:[e.jsx(Ce,{className:"w-5 h-5 inline-block mr-2"}),"My Inquiries"]}),e.jsxs("button",{onClick:()=>m("settings"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-all duration-200 ${d==="settings"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsxs("svg",{className:"w-5 h-5 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})}),e.jsxs("div",{className:"p-8",children:[d==="profile"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),!h&&e.jsx("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Edit Profile"})]}),K?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[P!=null&&P.profile_photo_url||D.preview_url?e.jsx("img",{src:D.preview_url||(P==null?void 0:P.profile_photo_url)||"",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-3xl font-bold border-4 border-gray-200",children:((Zd=P==null?void 0:P.full_name)==null?void 0:Zd.charAt(0).toUpperCase())||"U"}),h&&e.jsxs("div",{children:[e.jsxs("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-all duration-200 border border-gray-300",children:[e.jsx(_j,{className:"w-5 h-5 mr-2"}),"Change Photo",e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:ee,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPG or PNG, max 5MB"}),D.upload_error&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:D.upload_error})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),h?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",id:"full_name",value:w.full_name,onChange:J=>{j(me=>({...me,full_name:J.target.value})),v(me=>{const ze={...me};return delete ze.full_name,ze})},className:`w-full px-4 py-3 rounded-lg border-2 ${x.full_name?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,placeholder:"Enter your full name"}),x.full_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:x.full_name})]}):e.jsx("p",{className:"text-gray-900 py-3 px-4 bg-gray-50 rounded-lg",children:(P==null?void 0:P.full_name)||"Not set"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Email Address *",(P==null?void 0:P.email_verified)&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(We,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",id:"email",value:(P==null?void 0:P.email)||"",disabled:!0,className:"w-full pl-10 pr-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",id:"phone_number",value:w.phone_number,onChange:J=>{j(me=>({...me,phone_number:J.target.value})),v(me=>{const ze={...me};return delete ze.phone_number,ze})},className:`w-full pl-10 pr-4 py-3 rounded-lg border-2 ${x.phone_number?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,placeholder:"(123) 456-7890"})]}),x.phone_number&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:x.phone_number})]}):e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("p",{className:"text-gray-900 py-3 pl-10 pr-4 bg-gray-50 rounded-lg",children:(P==null?void 0:P.phone_number)||"Not set"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),h?e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",id:"location",value:w.location,onChange:J=>j(me=>({...me,location:J.target.value})),className:"w-full pl-10 pr-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"City, State"})]}):e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("p",{className:"text-gray-900 py-3 pl-10 pr-4 bg-gray-50 rounded-lg",children:(P==null?void 0:P.location)||"Not set"})]})]})]}),h&&e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:ue,disabled:M.isPending,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-all duration-200 border border-gray-300 disabled:opacity-50",children:[e.jsx(Je,{className:"w-5 h-5 inline-block mr-2"}),"Cancel"]}),e.jsx("button",{onClick:ie,disabled:M.isPending,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:M.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white inline-block mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pl,{className:"w-5 h-5 inline-block mr-2"}),"Save Changes"]})})]}),u&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Profile updated successfully!"]})]})]}),d==="settings"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(si,{className:"w-6 h-6 mr-2 text-blue-600"}),"Change Password"]}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:L?"text":"password",id:"current_password",value:f.current_password,onChange:J=>U("current_password",J.target.value),className:`w-full px-4 py-3 pr-12 rounded-lg border-2 ${b.current_password?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>A(!L),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:L?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),b.current_password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:q?"text":"password",id:"new_password",value:f.new_password,onChange:J=>U("new_password",J.target.value),className:`w-full px-4 py-3 pr-12 rounded-lg border-2 ${b.new_password?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,placeholder:"Enter new password (min 8 characters)"}),e.jsx("button",{type:"button",onClick:()=>S(!q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:q?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),f.new_password&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${O==="weak"?"w-1/3 bg-red-500":O==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),e.jsx("span",{className:`text-xs font-medium ${O==="weak"?"text-red-600":O==="medium"?"text-yellow-600":"text-green-600"}`,children:O.charAt(0).toUpperCase()+O.slice(1)})]})}),b.new_password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.new_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password *"}),e.jsx("input",{type:"password",id:"confirm_password",value:f.confirm_password,onChange:J=>U("confirm_password",J.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${b.confirm_password?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,placeholder:"Confirm new password"}),b.confirm_password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.confirm_password})]}),e.jsx("button",{type:"submit",disabled:_.isPending,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:_.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white inline-block mr-2"}),"Updating Password..."]}):"Update Password"}),Q&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Password updated successfully!"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(bp,{className:"w-6 h-6 mr-2 text-blue-600"}),"Email Notifications"]}),F?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):$?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Price Changes on Saved Properties"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when prices drop on properties you've saved"})]}),e.jsx("input",{type:"checkbox",checked:$.saved_property_price_change,onChange:()=>de("saved_property_price_change"),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Status Updates on Saved Properties"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when saved properties are sold, rented, or go pending"})]}),e.jsx("input",{type:"checkbox",checked:$.saved_property_status_change,onChange:()=>de("saved_property_status_change"),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"New Matching Properties"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts for new listings matching your saved searches"})]}),e.jsx("input",{type:"checkbox",checked:$.new_matching_properties,onChange:()=>de("new_matching_properties"),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Agent Responses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when agents reply to your inquiries"})]}),e.jsx("input",{type:"checkbox",checked:$.agent_reply_received,onChange:()=>de("agent_reply_received"),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Platform Updates & News"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates about PropConnect features and tips"})]}),e.jsx("input",{type:"checkbox",checked:$.platform_updates,onChange:()=>de("platform_updates"),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})]})]}):e.jsx("p",{className:"text-gray-500",children:"Unable to load notification preferences"})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border-2 border-red-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-red-900 mb-2 flex items-center",children:[e.jsx(ws,{className:"w-6 h-6 mr-2"}),"Delete Account"]}),e.jsx("p",{className:"text-red-700 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),e.jsx("button",{onClick:he,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all duration-200 border-2 border-red-700",children:"Delete My Account"})]})]})]})]})]}),y.is_open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-red-900 flex items-center",children:[e.jsx(we,{className:"w-7 h-7 mr-2 text-red-600"}),"Delete Account?"]}),e.jsx("button",{onClick:()=>N(J=>({...J,is_open:!1})),className:"text-gray-400 hover:text-gray-600",disabled:y.is_submitting,children:e.jsx(Je,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-800 font-medium mb-2",children:" Warning: This action is permanent!"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Deleting your account will permanently remove:"}),e.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Your profile and personal information"}),e.jsxs("li",{children:["All saved properties (",c," properties)"]}),e.jsx("li",{children:"Your inquiry history"}),e.jsx("li",{children:"Email preferences and settings"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"delete_password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter your password to confirm *"}),e.jsx("input",{type:"password",id:"delete_password",value:y.password_confirmation,onChange:J=>N(me=>({...me,password_confirmation:J.target.value,error:null})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all duration-200",placeholder:"Enter your password",disabled:y.is_submitting})]}),e.jsxs("label",{className:"flex items-start mb-6 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.confirm_checkbox,onChange:J=>N(me=>({...me,confirm_checkbox:J.target.checked,error:null})),className:"w-5 h-5 text-red-600 rounded focus:ring-2 focus:ring-red-500 mt-0.5 cursor-pointer",disabled:y.is_submitting}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"I understand this is permanent and cannot be undone"})]}),y.error&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg text-sm",children:y.error}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>N(J=>({...J,is_open:!1})),disabled:y.is_submitting,className:"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-all duration-200 border border-gray-300 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:xr,disabled:y.is_submitting,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:y.is_submitting?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white inline-block mr-2"}),"Deleting..."]}):"Delete Account"})]})]})})]})})},w2=()=>{const t=Be(),[s]=es(),[r,a]=k.useState(""),[n,i]=k.useState(""),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,h]=k.useState({}),g=H(A=>A.authentication_state.authentication_status.is_agent_authenticated),w=H(A=>A.authentication_state.authentication_status.is_loading),j=H(A=>A.authentication_state.error_message),x=H(A=>A.login_agent),v=H(A=>A.clear_auth_error),u=s.get("redirect_url")||"/agent/dashboard";k.useEffect(()=>{g&&t(u)},[g,t,u]),k.useEffect(()=>{j&&v()},[r,n,j,v]);const p=()=>{const A={};return r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(A.email="Please enter a valid email address"):A.email="Email is required",n||(A.password="Password is required"),h(A),Object.keys(A).length===0},f=async A=>{if(A.preventDefault(),h({}),v(),!!p())try{await x(r,n)}catch(q){const S=q.message||"Login failed";S.includes("not approved")||S.includes("pending approval")?h({credentials:"Your agent application is pending approval. You will receive an email when approved (typically within 24-48 hours)."}):S.includes("suspended")?h({credentials:"Your account has been suspended. Please contact support for assistance."}):S.includes("rejected")?h({credentials:"Your agent application was not approved. Please contact support for more information."}):S.includes("verify")?h({credentials:"Please verify your email address before logging in. Check your inbox for the verification link."}):S.includes("Invalid")||S.includes("incorrect")?h({credentials:"The email or password you entered is incorrect. Please try again."}):h({credentials:S})}},C=A=>{a(A.target.value),m.email&&h(q=>({...q,email:void 0}))},L=A=>{i(A.target.value),m.password&&h(q=>({...q,password:void 0}))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("nav",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs(I,{to:"/",className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back to Home"})]})})})}),e.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-8 pt-8 pb-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Sign In"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to access your agent dashboard"})]}),(m.credentials||j)&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-r-md",role:"alert",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(we,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:m.credentials||j})]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:C,placeholder:"agent@example.com",disabled:w,className:`
                        w-full px-4 py-3 rounded-lg border-2 transition-all duration-200
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${m.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                      `}),m.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),m.email]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:L,placeholder:"Enter your password",disabled:w,className:`
                          w-full px-4 py-3 rounded-lg border-2 transition-all duration-200
                          focus:outline-none focus:ring-4 focus:ring-blue-100
                          disabled:opacity-50 disabled:cursor-not-allowed pr-12
                          ${m.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                        `}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",disabled:w,"aria-label":l?"Hide password":"Show password",children:l?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),m.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),m.password]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",checked:c,onChange:A=>d(A.target.checked),disabled:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer disabled:opacity-50"}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-700 cursor-pointer",children:"Remember me"})]}),e.jsx(I,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:w,className:`
                      w-full flex justify-center items-center
                      px-6 py-3 rounded-lg font-medium
                      text-white bg-blue-600 hover:bg-blue-700
                      shadow-lg hover:shadow-xl
                      transition-all duration-200
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                      disabled:opacity-50 disabled:cursor-not-allowed
                      disabled:hover:bg-blue-600
                    `,children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]})]}),e.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["New to PropConnect?"," ",e.jsx(I,{to:"/agent/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Register as an Agent"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Looking for the property seeker login?"," ",e.jsx(I,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Sign in here"})]})})]})})]})})},N2=()=>{var F;const t=Be(),s=H(M=>M.register_agent),r=H(M=>M.authentication_state.authentication_status.is_loading),a=H(M=>M.authentication_state.error_message),n=H(M=>M.clear_auth_error),[i,l]=k.useState(1),[o,c]=k.useState({email:"",password:"",confirm_password:"",full_name:"",phone_number:"",validation_errors:{}}),[d,m]=k.useState({license_number:"",license_state:"",agency_name:"",office_address_street:"",office_address_city:"",office_address_state:"",office_address_zip:"",years_experience:"",license_document_file:null,license_document_url:"",validation_errors:{},uploading:!1,upload_error:null}),[h,g]=k.useState({profile_photo_file:null,profile_photo_url:"",bio:"",specializations:[],service_areas:[],languages_spoken:[],terms_accepted:!1,validation_errors:{},uploading_photo:!1,photo_upload_error:null}),[w,j]=k.useState(!1),[x,v]=k.useState(!1),[u,p]=k.useState("weak"),[f,C]=k.useState(0),[L,A]=k.useState(0),q=M=>{let _=0;return M.length>=8&&_++,M.length>=12&&_++,/[a-z]/.test(M)&&/[A-Z]/.test(M)&&_++,/\d/.test(M)&&_++,/[^a-zA-Z\d]/.test(M)&&_++,_<=2?"weak":_<=4?"medium":"strong"},S=()=>{const M={};return o.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(M.email="Please enter a valid email address"):M.email="Email is required",o.password?o.password.length<8&&(M.password="Password must be at least 8 characters"):M.password="Password is required",o.password!==o.confirm_password&&(M.confirm_password="Passwords do not match"),(!o.full_name||o.full_name.trim().length===0)&&(M.full_name="Full name is required"),o.phone_number||(M.phone_number="Phone number is required"),c(_=>({..._,validation_errors:M})),Object.keys(M).length===0},b=()=>{const M={};return d.license_number||(M.license_number="License number is required"),d.license_state||(M.license_state="License state is required"),d.agency_name||(M.agency_name="Agency name is required"),d.office_address_street||(M.office_address_street="Office street address is required"),d.office_address_city||(M.office_address_city="City is required"),d.office_address_state?d.office_address_state.length!==2&&(M.office_address_state="State must be 2 characters (e.g., CA)"):M.office_address_state="State is required",d.office_address_zip?d.office_address_zip.length<5&&(M.office_address_zip="ZIP code must be at least 5 characters"):M.office_address_zip="ZIP code is required",d.years_experience||(M.years_experience="Years of experience is required"),!d.license_document_url&&!d.license_document_file&&(M.license_document="Please upload your license documentation"),m(_=>({..._,validation_errors:M})),Object.keys(M).length===0},T=()=>{const M={};return h.terms_accepted||(M.terms_accepted="You must agree to the Terms of Service and Commission Agreement"),g(_=>({..._,validation_errors:M})),Object.keys(M).length===0},Q=async M=>{if(M.size>10*1024*1024){m(B=>({...B,upload_error:"File size must be less than 10MB"}));return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(M.type)){m(B=>({...B,upload_error:"File must be PDF, JPG, or PNG"}));return}m(B=>({...B,license_document_file:M,uploading:!0,upload_error:null}));const _=new FormData;_.append("file",M),_.append("document_type","license");try{const B=await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/upload/document",_,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Z=>{const ne=Z.total?Math.round(Z.loaded*100/Z.total):0;C(ne)}});m(Z=>({...Z,license_document_url:B.data.document_url||B.data.url,uploading:!1}))}catch(B){m(Z=>{var ne,ue,z;return{...Z,uploading:!1,upload_error:((z=(ue=(ne=B.response)==null?void 0:ne.data)==null?void 0:ue.error)==null?void 0:z.message)||"Upload failed. Please try again."}})}},W=async M=>{if(M.size>5*1024*1024){g(B=>({...B,photo_upload_error:"Image must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png"].includes(M.type)){g(B=>({...B,photo_upload_error:"File must be JPG or PNG"}));return}g(B=>({...B,profile_photo_file:M,uploading_photo:!0,photo_upload_error:null}));const _=new FormData;_.append("file",M),_.append("photo_type","profile");try{const B=await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/upload/photo",_,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Z=>{const ne=Z.total?Math.round(Z.loaded*100/Z.total):0;A(ne)}});g(Z=>({...Z,profile_photo_url:B.data.photo_url||B.data.image_url,uploading_photo:!1}))}catch(B){g(Z=>{var ne,ue,z;return{...Z,uploading_photo:!1,photo_upload_error:((z=(ue=(ne=B.response)==null?void 0:ne.data)==null?void 0:ue.error)==null?void 0:z.message)||"Upload failed. Please try again."}})}},O=()=>{i===1?S()&&(l(2),window.scrollTo({top:0,behavior:"smooth"})):i===2&&b()&&(l(3),window.scrollTo({top:0,behavior:"smooth"}))},te=()=>{i>1&&(l(i-1),window.scrollTo({top:0,behavior:"smooth"}))},D=async()=>{if(!T())return;n();const M={email:o.email,password:o.password,full_name:o.full_name,phone_number:o.phone_number,license_number:d.license_number,license_state:d.license_state,agency_name:d.agency_name,office_address_street:d.office_address_street,office_address_city:d.office_address_city,office_address_state:d.office_address_state,office_address_zip:d.office_address_zip,years_experience:d.years_experience,license_document_url:d.license_document_url||null,profile_photo_url:h.profile_photo_url||null,bio:h.bio||null,specializations:h.specializations.length>0?h.specializations:null,service_areas:h.service_areas.length>0?h.service_areas:null,languages_spoken:h.languages_spoken.length>0?h.languages_spoken:null};try{await s(M),t("/agent/application-submitted",{state:{email:o.email}})}catch(_){console.error("Registration error:",_)}},Y=M=>{g(_=>({..._,specializations:_.specializations.includes(M)?_.specializations.filter(B=>B!==M):[..._.specializations,M]}))},y=M=>{M.trim()&&!h.service_areas.includes(M.trim())&&g(_=>({..._,service_areas:[..._.service_areas,M.trim()]}))},N=M=>{g(_=>({..._,service_areas:_.service_areas.filter(B=>B!==M)}))},P=M=>{g(_=>({..._,languages_spoken:_.languages_spoken.includes(M)?_.languages_spoken.filter(B=>B!==M):[..._.languages_spoken,M]}))},[K,$]=k.useState("");return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Join PropConnect as an Agent"}),e.jsx("p",{className:"text-lg text-gray-600",children:"List your properties and reach more clients"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${i>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:i>1?e.jsx(We,{className:"w-5 h-5"}):"1"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Account"})]}),e.jsx("div",{className:`w-12 h-0.5 ${i>=2?"bg-blue-600":"bg-gray-300"}`}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${i>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:i>2?e.jsx(We,{className:"w-5 h-5"}):"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Professional"})]}),e.jsx("div",{className:`w-12 h-0.5 ${i>=3?"bg-blue-600":"bg-gray-300"}`}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${i>=3?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Profile"})]})]}),e.jsxs("p",{className:"text-center mt-2 text-sm text-gray-500",children:["Step ",i," of 3"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8",children:[a&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:e.jsx("p",{className:"text-sm text-red-700",children:a})}),i===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Account Information"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{id:"full_name",type:"text",value:o.full_name,onChange:M=>{c(_=>({..._,full_name:M.target.value,validation_errors:{..._.validation_errors,full_name:""}}))},placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.full_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.validation_errors.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.validation_errors.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{id:"email",type:"email",value:o.email,onChange:M=>{c(_=>({..._,email:M.target.value,validation_errors:{..._.validation_errors,email:""}}))},placeholder:"your.email@example.com",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.validation_errors.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.validation_errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{id:"phone",type:"tel",value:o.phone_number,onChange:M=>{c(_=>({..._,phone_number:M.target.value,validation_errors:{..._.validation_errors,phone_number:""}}))},placeholder:"(123) 456-7890",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.phone_number?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.validation_errors.phone_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.validation_errors.phone_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:w?"text":"password",value:o.password,onChange:M=>{const _=M.target.value;c(B=>({...B,password:_,validation_errors:{...B.validation_errors,password:""}})),p(q(_))},placeholder:"Create a password",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),e.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),o.password&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-1 flex-1 rounded ${u==="weak"?"bg-red-500":u==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsx("span",{className:`text-xs font-medium ${u==="weak"?"text-red-600":u==="medium"?"text-yellow-600":"text-green-600"}`,children:u==="weak"?"Weak":u==="medium"?"Medium":"Strong"})]})}),o.validation_errors.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.validation_errors.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirm_password",type:x?"text":"password",value:o.confirm_password,onChange:M=>{c(_=>({..._,confirm_password:M.target.value,validation_errors:{..._.validation_errors,confirm_password:""}}))},placeholder:"Confirm your password",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${o.validation_errors.confirm_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),e.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),o.validation_errors.confirm_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.validation_errors.confirm_password})]})]}),i===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Professional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"license_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Real Estate License Number *"}),e.jsx("input",{id:"license_number",type:"text",value:d.license_number,onChange:M=>{m(_=>({..._,license_number:M.target.value,validation_errors:{..._.validation_errors,license_number:""}}))},placeholder:"e.g., CA-DRE-12345678",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.license_number?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.license_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.license_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"license_state",className:"block text-sm font-medium text-gray-700 mb-2",children:"License State *"}),e.jsxs("select",{id:"license_state",value:d.license_state,onChange:M=>{m(_=>({..._,license_state:M.target.value,validation_errors:{..._.validation_errors,license_state:""}}))},className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.license_state?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,children:[e.jsx("option",{value:"",children:"Select state..."}),e.jsx("option",{value:"AL",children:"Alabama"}),e.jsx("option",{value:"AK",children:"Alaska"}),e.jsx("option",{value:"AZ",children:"Arizona"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"TX",children:"Texas"})]}),d.validation_errors.license_state&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.license_state})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"agency_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency/Brokerage Name *"}),e.jsx("input",{id:"agency_name",type:"text",value:d.agency_name,onChange:M=>{m(_=>({..._,agency_name:M.target.value,validation_errors:{..._.validation_errors,agency_name:""}}))},placeholder:"e.g., Premier Realty Group",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.agency_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.agency_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.agency_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Office Address *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:d.office_address_street,onChange:M=>{m(_=>({..._,office_address_street:M.target.value,validation_errors:{..._.validation_errors,office_address_street:""}}))},placeholder:"Street address",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.office_address_street?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.office_address_street&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.office_address_street}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",value:d.office_address_city,onChange:M=>{m(_=>({..._,office_address_city:M.target.value,validation_errors:{..._.validation_errors,office_address_city:""}}))},placeholder:"City",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.office_address_city?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.office_address_city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.office_address_city})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:d.office_address_state,onChange:M=>{m(_=>({..._,office_address_state:M.target.value.toUpperCase().slice(0,2),validation_errors:{..._.validation_errors,office_address_state:""}}))},placeholder:"State (e.g., CA)",maxLength:2,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.office_address_state?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.office_address_state&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.office_address_state})]})]}),e.jsx("input",{type:"text",value:d.office_address_zip,onChange:M=>{m(_=>({..._,office_address_zip:M.target.value,validation_errors:{..._.validation_errors,office_address_zip:""}}))},placeholder:"ZIP code",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.office_address_zip?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),d.validation_errors.office_address_zip&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.office_address_zip})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"years_experience",className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),e.jsxs("select",{id:"years_experience",value:d.years_experience,onChange:M=>{m(_=>({..._,years_experience:M.target.value,validation_errors:{..._.validation_errors,years_experience:""}}))},className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${d.validation_errors.years_experience?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,children:[e.jsx("option",{value:"",children:"Select experience..."}),e.jsx("option",{value:"Less than 1",children:"Less than 1 year"}),e.jsx("option",{value:"1-2",children:"1-2 years"}),e.jsx("option",{value:"3-5",children:"3-5 years"}),e.jsx("option",{value:"6-10",children:"6-10 years"}),e.jsx("option",{value:"11-15",children:"11-15 years"}),e.jsx("option",{value:"16-20",children:"16-20 years"}),e.jsx("option",{value:"20+",children:"20+ years"})]}),d.validation_errors.years_experience&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validation_errors.years_experience})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Documentation *"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload a clear photo or scan of your license"}),!d.license_document_file&&!d.license_document_url?e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",id:"license_upload",accept:".pdf,.jpg,.jpeg,.png",onChange:M=>{var B;const _=(B=M.target.files)==null?void 0:B[0];_&&Q(_)},className:"hidden"}),e.jsxs("label",{htmlFor:"license_upload",className:"cursor-pointer",children:[e.jsx(ir,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG (max 10MB)"})]})]}):e.jsx("div",{className:"border-2 border-green-200 bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-lg p-2",children:e.jsx(We,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((F=d.license_document_file)==null?void 0:F.name)||"License document uploaded"}),d.uploading&&e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"w-48 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${f}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f,"%"]})]})]})]}),e.jsx("button",{type:"button",onClick:()=>{m(M=>({...M,license_document_file:null,license_document_url:""}))},className:"text-red-600 hover:text-red-700",children:e.jsx(Je,{className:"w-5 h-5"})})]})}),d.upload_error&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.upload_error}),d.validation_errors.license_document&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.validation_errors.license_document})]})]}),i===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile Setup"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo (Optional)"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-shrink-0",children:h.profile_photo_url||h.profile_photo_file?e.jsx("img",{src:h.profile_photo_url||(h.profile_photo_file?URL.createObjectURL(h.profile_photo_file):""),alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover border-4 border-blue-100"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(ir,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"photo_upload",accept:".jpg,.jpeg,.png",onChange:M=>{var B;const _=(B=M.target.files)==null?void 0:B[0];_&&W(_)},className:"hidden"}),e.jsxs("label",{htmlFor:"photo_upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx(ir,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPG, PNG (max 5MB)"}),h.uploading_photo&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${L}%`}})})}),h.photo_upload_error&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:h.photo_upload_error})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Professional Bio (Optional)"}),e.jsx("textarea",{id:"bio",value:h.bio,onChange:M=>{g(_=>({..._,bio:M.target.value}))},placeholder:"Tell clients about your experience and expertise...",rows:5,maxLength:2e3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.bio.length," / 2000 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations (Optional)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Residential Sales","Residential Rentals","Commercial Properties","Luxury Properties","First-Time Buyers","Investment Properties"].map(M=>e.jsxs("label",{className:"flex items-center space-x-3 p-3 border-2 border-gray-200 rounded-lg hover:border-blue-300 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:h.specializations.includes(M),onChange:()=>Y(M),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:M})]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas (Optional)"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:K,onChange:M=>$(M.target.value),onKeyPress:M=>{M.key==="Enter"&&(M.preventDefault(),K.trim()&&(y(K),$("")))},placeholder:"e.g., Miami, Coral Gables",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>{K.trim()&&(y(K),$(""))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]}),h.service_areas.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:h.service_areas.map(M=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-700",children:[M,e.jsx("button",{type:"button",onClick:()=>N(M),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(Je,{className:"w-3 h-3"})})]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages Spoken (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["English","Spanish","French","Mandarin","Cantonese","Portuguese"].map(M=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-gray-200 rounded-lg hover:border-blue-300 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:h.languages_spoken.includes(M),onChange:()=>P(M),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:M})]},M))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.terms_accepted,onChange:M=>{g(_=>({..._,terms_accepted:M.target.checked,validation_errors:{..._.validation_errors,terms_accepted:""}}))},className:`w-5 h-5 mt-0.5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 ${h.validation_errors.terms_accepted?"border-red-300":""}`}),e.jsxs("span",{className:"text-sm text-gray-700",children:["I agree to the"," ",e.jsx(I,{to:"/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline",children:"Agent Terms of Service"})," ","and"," ",e.jsx(I,{to:"/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline",children:"Commission Agreement"})]})]}),h.validation_errors.terms_accepted&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:h.validation_errors.terms_accepted})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:i>1&&e.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200",children:[e.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Back"]})}),e.jsx("div",{className:"flex items-center space-x-3",children:i<3?e.jsxs("button",{type:"button",onClick:O,className:"inline-flex items-center px-6 py-3 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:["Continue",e.jsx(Se,{className:"w-4 h-4 ml-2"})]}):e.jsx("button",{type:"button",onClick:D,disabled:r||d.uploading||h.uploading_photo,className:"inline-flex items-center px-8 py-3 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Application..."]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})})]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(I,{to:"/agent/login",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Sign In"})]})})]})})})},_2=async t=>{const s=await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/agents/dashboard/stats",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{total_active_listings:Number(s.data.total_active_listings||0),total_views_this_month:Number(s.data.total_views_this_month||0),total_inquiries_this_month:Number(s.data.total_inquiries_this_month||0),total_favorites:Number(s.data.total_favorites||0),properties_sold_this_month:Number(s.data.properties_sold_this_month||0),properties_rented_this_month:Number(s.data.properties_rented_this_month||0),unread_inquiry_count:Number(s.data.unread_inquiry_count||0)}},k2=async t=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries/agent/my-inquiries",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},params:{limit:5,offset:0,sort_by:"created_at",sort_order:"desc"}})).data.data.map(r=>({inquiry_id:r.inquiry_id,property_id:r.property_id,inquirer_name:r.inquirer_name,inquirer_email:r.inquirer_email,inquirer_phone:r.inquirer_phone,message:r.message,viewing_requested:r.viewing_requested,status:r.status,agent_read:r.agent_read,created_at:r.created_at,property_info:r.property_info?{property_id:r.property_info.property_id,address_street:r.property_info.address_street,address_city:r.property_info.address_city,address_state:r.property_info.address_state,price:Number(r.property_info.price||0),thumbnail_url:r.property_info.thumbnail_url}:void 0})),C2=()=>{const t=Be(),s=H(v=>v.authentication_state.current_agent),r=H(v=>v.authentication_state.agent_auth_token),a=H(v=>v.authentication_state.authentication_status.is_agent_authenticated),n=H(v=>v.authentication_state.authentication_status.is_loading);cs.useEffect(()=>{if(!n){if(!a||!s){t("/agent/login");return}if(!s.approved||s.approval_status!=="approved"){t("/agent/pending-approval");return}if(s.account_status!=="active"){t("/agent/suspended");return}}},[a,s,n,t]);const{data:i,isLoading:l,error:o,refetch:c}=Ne({queryKey:["agent-dashboard-stats",s==null?void 0:s.agent_id],queryFn:()=>_2(r),enabled:!!r&&!!s,staleTime:6e4,refetchInterval:6e4,retry:1}),{data:d,isLoading:m,error:h,refetch:g}=Ne({queryKey:["agent-recent-inquiries",s==null?void 0:s.agent_id],queryFn:()=>k2(r),enabled:!!r&&!!s,staleTime:3e4,retry:1}),w=()=>{c(),g()},j=v=>{const u=new Date(v),p=new Date,f=Math.floor((p.getTime()-u.getTime())/(1e3*60*60));return f<1?`${Math.floor((p.getTime()-u.getTime())/6e4)}m ago`:f<24?`${f}h ago`:f<48?"Yesterday":u.toLocaleDateString("en-US",{month:"short",day:"numeric"})},x=v=>{switch(v){case"new":return"bg-blue-100 text-blue-700 border-blue-200";case"responded":return"bg-green-100 text-green-700 border-green-200";case"scheduled":return"bg-purple-100 text-purple-700 border-purple-200";case"completed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};return n?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})}):!a||!s?null:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",s.full_name,"!"]})]}),e.jsxs("button",{onClick:w,disabled:l||m,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ij,{className:`h-4 w-4 ${l||m?"animate-spin":""}`}),e.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 flex flex-wrap gap-4",children:[e.jsxs(I,{to:"/agent/listings/create",className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(In,{className:"h-5 w-5"}),e.jsx("span",{children:"Create New Listing"})]}),e.jsxs(I,{to:"/agent/inquiries",className:"flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("span",{children:"View Inquiries"}),i&&i.unread_inquiry_count>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-xs rounded-full",children:i.unread_inquiry_count})]}),e.jsxs(I,{to:"/agent/listings",className:"flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(Yd,{className:"h-5 w-5"}),e.jsx("span",{children:"Manage Listings"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Stats"}),o?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load statistics"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o instanceof Error?o.message:"An error occurred"})]}),e.jsx("button",{onClick:()=>c(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})}):l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(v=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})]},v))}):i?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(I,{to:"/agent/listings",className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl hover:scale-105 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"h-6 w-6 text-blue-600"})}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"View All "})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.total_active_listings}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Listings"})]}),e.jsxs(I,{to:"/agent/inquiries?status=new",className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl hover:scale-105 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ce,{className:"h-6 w-6 text-green-600"})}),i.unread_inquiry_count>0&&e.jsxs("span",{className:"px-2.5 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:[i.unread_inquiry_count," New"]})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.total_inquiries_this_month}),e.jsx("div",{className:"text-sm text-gray-600",children:"Inquiries This Month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"h-6 w-6 text-purple-600"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.total_views_this_month.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600",children:"Property Views"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-12 w-12 bg-pink-100 rounded-lg flex items-center justify-center",children:e.jsx(At,{className:"h-6 w-6 text-pink-600"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.total_favorites}),e.jsx("div",{className:"text-sm text-gray-600",children:"Times Favorited"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-12 w-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:e.jsx(Gd,{className:"h-6 w-6 text-emerald-600"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.properties_sold_this_month}),e.jsx("div",{className:"text-sm text-gray-600",children:"Properties Sold"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-12 w-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"h-6 w-6 text-indigo-600"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.properties_rented_this_month}),e.jsx("div",{className:"text-sm text-gray-600",children:"Properties Rented"})]})]}):null]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Inquiries"}),e.jsx(I,{to:"/agent/inquiries",className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:"View All "})]}),h?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load inquiries"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h instanceof Error?h.message:"An error occurred"})]}),e.jsx("button",{onClick:()=>g(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})}):m?e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200",children:[1,2,3,4,5].map(v=>e.jsx("div",{className:"p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-gray-200 rounded mb-3"}),e.jsx("div",{className:"h-3 w-full bg-gray-200 rounded"})]})]})},v))})}):d&&d.length>0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"divide-y divide-gray-200",children:d.map(v=>{var u;return e.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${v.agent_read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:(u=v.property_info)!=null&&u.thumbnail_url?e.jsx("img",{src:v.property_info.thumbnail_url,alt:v.property_info.address_street,className:"h-16 w-16 rounded-lg object-cover"}):e.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:v.inquirer_name}),!v.agent_read&&e.jsx("span",{className:"h-2 w-2 bg-blue-500 rounded-full"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[v.inquirer_email,v.inquirer_phone&&`  ${v.inquirer_phone}`]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${x(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)}),e.jsx("span",{className:"text-xs text-gray-500",children:j(v.created_at)})]})]}),v.property_info&&e.jsxs(I,{to:`/property/${v.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-700 mb-2 inline-block",children:[v.property_info.address_street,", ",v.property_info.address_city,", ",v.property_info.address_state]}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:v.message}),v.viewing_requested&&e.jsx("div",{className:"flex items-center space-x-1 text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded inline-flex",children:e.jsx("span",{className:"font-medium",children:" Viewing Requested"})}),e.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[e.jsx(I,{to:`/agent/inquiries?highlight=${v.inquiry_id}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Reply "}),e.jsx(I,{to:`/property/${v.property_id}`,className:"text-sm text-gray-600 hover:text-gray-700",children:"View Property"})]})]})]})},v.inquiry_id)})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsx(I,{to:"/agent/inquiries",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All Inquiries "})})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ce,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Inquiries Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"When people contact you about your listings, their inquiries will appear here"}),e.jsxs(I,{to:"/agent/listings/create",className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(In,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Your First Listing"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-xl p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to grow your business?"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"List more properties to reach potential buyers and renters"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(I,{to:"/agent/listings/create",className:"px-6 py-3 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 shadow-lg transition-all duration-200",children:"Create New Listing"}),e.jsx(I,{to:"/agent/analytics",className:"px-6 py-3 bg-blue-500 bg-opacity-30 backdrop-blur text-white rounded-lg font-medium hover:bg-opacity-40 border border-white border-opacity-20 transition-all duration-200",children:"View Analytics"})]})]})]})]})})},S2=()=>{const t=Be(),[s,r]=es(),a=Wt(),n=H(E=>E.authentication_state.current_agent),i=H(E=>E.authentication_state.agent_auth_token),l=H(E=>E.authentication_state.authentication_status.is_agent_authenticated),o=H(E=>E.show_toast),[c,d]=k.useState(""),[m,h]=k.useState(()=>localStorage.getItem("agent_listings_view_mode")||"grid"),[g,w]=k.useState([]),[j,x]=k.useState({action_type:null,target_status:null,confirming:!1,processing:!1}),[v,u]=k.useState(null),p=k.useMemo(()=>{const E=s.get("status"),le=s.get("property_type");return{status:E?E.split(","):[],property_type:le?le.split(","):[],listing_type:s.get("listing_type"),search_query:s.get("search")||""}},[s]),f=k.useMemo(()=>{const E=s.get("sort")||"created_at_desc",[le,de]=E.split("_");return{sort_by:le||"created_at",sort_order:de==="asc"?"asc":"desc"}},[s]);k.useEffect(()=>{d(p.search_query)},[p.search_query]),k.useEffect(()=>{(!l||!n)&&t("/agent/login?redirect=/agent/listings")},[l,n,t]);const C=async()=>{if(!n||!i)throw new Error("Not authenticated");const E=new URLSearchParams;return E.set("agent_id",n.agent_id),p.status.length>0&&p.status.forEach(de=>E.append("status",de)),p.property_type.length>0&&p.property_type.forEach(de=>E.append("property_type",de)),p.listing_type&&E.set("listing_type",p.listing_type),p.search_query&&E.set("query",p.search_query),E.set("sort_by",f.sort_by),E.set("sort_order",f.sort_order),E.set("limit","100"),E.set("offset","0"),(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties?${E.toString()}`,{headers:{Authorization:`Bearer ${i}`}})).data},{data:L,isLoading:A,error:q,refetch:S}=Ne({queryKey:["agent-listings",n==null?void 0:n.agent_id,p,f],queryFn:C,enabled:!!n&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),b=k.useMemo(()=>(L==null?void 0:L.data)||[],[L]),T=k.useMemo(()=>{var E;return((E=L==null?void 0:L.pagination)==null?void 0:E.total)||0},[L]),Q=be({mutationFn:async E=>{await G.delete(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${E}`,{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{a.invalidateQueries({queryKey:["agent-listings"]}),o("Listing deleted successfully","success")},onError:E=>{var de,ee,he;const le=((he=(ee=(de=E.response)==null?void 0:de.data)==null?void 0:ee.error)==null?void 0:he.message)||"Failed to delete listing";o(le,"error")}}),W=be({mutationFn:async({property_id:E,status:le})=>{await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${E}`,{property_id:E,status:le},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}})},onSuccess:()=>{a.invalidateQueries({queryKey:["agent-listings"]})}}),O=E=>{const le=new URLSearchParams(s);Object.entries(E).forEach(([de,ee])=>{ee===null||ee===""||Array.isArray(ee)&&ee.length===0?le.delete(de):Array.isArray(ee)?le.set(de,ee.join(",")):le.set(de,String(ee))}),r(le)},te=E=>{let le;const de=Array.isArray(p.status)?p.status:[];de.includes(E)?le=de.filter(ee=>ee!==E):le=[...de,E],O({status:le})},D=E=>{let le;const de=Array.isArray(p.property_type)?p.property_type:[];de.includes(E)?le=de.filter(ee=>ee!==E):le=[...de,E],O({property_type:le})},Y=E=>{O({listing_type:E||""})},y=E=>{const le=E.target.value;d(le);const de=setTimeout(()=>{O({search_query:le})},300);return()=>clearTimeout(de)},N=E=>{O({sort:E})},P=()=>{r({}),d("")},K=E=>{h(E),localStorage.setItem("agent_listings_view_mode",E)},$=()=>{g.length===b.length?w([]):w(b.map(E=>E.property_id))},F=E=>{g.includes(E)?w(g.filter(le=>le!==E)):w([...g,E])},M=E=>{x({action_type:"status",target_status:E,confirming:!0,processing:!1})},_=()=>{x({action_type:"delete",target_status:null,confirming:!0,processing:!1})},B=async()=>{x(E=>({...E,processing:!0}));try{j.action_type==="status"&&j.target_status?(await Promise.all(g.map(E=>W.mutateAsync({property_id:E,status:j.target_status}))),o(`${g.length} listing(s) updated to ${j.target_status}`,"success")):j.action_type==="delete"&&(await Promise.all(g.map(E=>Q.mutateAsync(E))),o(`${g.length} listing(s) deleted`,"success")),w([]),x({action_type:null,target_status:null,confirming:!1,processing:!1}),S()}catch{o("Some actions failed. Please try again.","error"),x(E=>({...E,processing:!1}))}},Z=()=>{x({action_type:null,target_status:null,confirming:!1,processing:!1})},ne=(E,le)=>{window.confirm(`Are you sure you want to delete "${le}"? This action cannot be undone.`)&&Q.mutate(E)},ue=E=>{t(`/agent/listings/duplicate/${E}`)},z=(E,le,de)=>{const ee=new Intl.NumberFormat("en-US",{style:"currency",currency:le||"USD",minimumFractionDigits:0}).format(E||0);return de==="rent"?`${ee}/month`:ee},ie=E=>{const le=new Date(E),ee=Math.floor((new Date().getTime()-le.getTime())/(1e3*60*60*24));return ee===0?"Today":ee===1?"Yesterday":ee<7?`${ee} days ago`:ee<30?`${Math.floor(ee/7)} weeks ago`:ee<365?`${Math.floor(ee/30)} months ago`:le.toLocaleDateString()},oe=E=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-blue-100 text-blue-800",rented:"bg-purple-100 text-purple-800",inactive:"bg-red-100 text-red-800"})[E]||"bg-gray-100 text-gray-800",U=k.useMemo(()=>{let E=0;return p.status.length>0&&(E+=p.status.length),p.property_type.length>0&&(E+=p.property_type.length),p.listing_type&&(E+=1),p.search_query&&(E+=1),E},[p]);return n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Listings"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[T," ",T===1?"listing":"listings"]})]}),e.jsxs(I,{to:"/agent/listings/create",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg shadow-lg text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx(In,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by address or title...",value:c,onChange:y,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>K("grid"),className:`p-3 rounded-lg border-2 transition-all duration-200 ${m==="grid"?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300 text-gray-600"}`,"aria-label":"Grid view",children:e.jsx(Kd,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>K("table"),className:`p-3 rounded-lg border border-2 transition-all duration-200 ${m==="table"?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300 text-gray-600"}`,"aria-label":"Table view",children:e.jsx(Yd,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(v==="status"?null:"status"),className:"inline-flex items-center px-4 py-2 border-2 border-gray-200 rounded-lg bg-white hover:border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx(Fj,{className:"w-4 h-4 mr-2 text-gray-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Status ",p.status.length>0&&`(${p.status.length})`]}),e.jsx(qa,{className:"w-4 h-4 ml-2 text-gray-400"})]}),v==="status"&&e.jsx("div",{className:"absolute z-10 mt-2 w-56 rounded-lg bg-white shadow-lg border border-gray-200",children:e.jsx("div",{className:"py-2",children:["active","draft","pending","sold","rented","inactive"].map(E=>e.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.status.includes(E),onChange:()=>te(E),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 capitalize",children:E})]},E))})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(v==="property_type"?null:"property_type"),className:"inline-flex items-center px-4 py-2 border-2 border-gray-200 rounded-lg bg-white hover:border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx(oa,{className:"w-4 h-4 mr-2 text-gray-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Type ",p.property_type.length>0&&`(${p.property_type.length})`]}),e.jsx(qa,{className:"w-4 h-4 ml-2 text-gray-400"})]}),v==="property_type"&&e.jsx("div",{className:"absolute z-10 mt-2 w-56 rounded-lg bg-white shadow-lg border border-gray-200",children:e.jsx("div",{className:"py-2",children:["house","condo","townhouse","apartment","land","commercial"].map(E=>e.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.property_type.includes(E),onChange:()=>D(E),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 capitalize",children:E})]},E))})})]}),e.jsxs("div",{className:"flex border-2 border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>Y(null),className:`px-4 py-2 text-sm font-medium transition-colors ${p.listing_type?"bg-white text-gray-700 hover:bg-gray-50":"bg-blue-600 text-white"}`,children:"All"}),e.jsx("button",{onClick:()=>Y("sale"),className:`px-4 py-2 text-sm font-medium border-l-2 border-gray-200 transition-colors ${p.listing_type==="sale"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Sale"}),e.jsx("button",{onClick:()=>Y("rent"),className:`px-4 py-2 text-sm font-medium border-l-2 border-gray-200 transition-colors ${p.listing_type==="rent"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Rent"})]}),e.jsxs("select",{value:`${f.sort_by}_${f.sort_order}`,onChange:E=>N(E.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg bg-white text-sm font-medium text-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"created_at_desc",children:"Newest First"}),e.jsx("option",{value:"created_at_asc",children:"Oldest First"}),e.jsx("option",{value:"price_desc",children:"Price: High to Low"}),e.jsx("option",{value:"price_asc",children:"Price: Low to High"}),e.jsx("option",{value:"view_count_desc",children:"Most Views"}),e.jsx("option",{value:"inquiry_count_desc",children:"Most Inquiries"})]}),U>0&&e.jsxs("button",{onClick:P,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),"Clear ",U," filter",U!==1?"s":""]})]})]})}),g.length>0&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[g.length," listing",g.length!==1?"s":""," selected"]}),e.jsx("button",{onClick:()=>w([]),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear selection"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{onChange:E=>E.target.value&&M(E.target.value),value:"",className:"px-4 py-2 border-2 border-blue-300 rounded-lg bg-white text-sm font-medium text-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"Change Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"sold",children:"Sold"}),e.jsx("option",{value:"rented",children:"Rented"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border-2 border-red-300 rounded-lg bg-white text-sm font-medium text-red-600 hover:bg-red-50 focus:outline-none focus:ring-4 focus:ring-red-100 transition-all duration-200",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Delete Selected"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your listings..."})]})}),q&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(we,{className:"w-6 h-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Error Loading Listings"})]}),e.jsx("p",{className:"text-red-700 mb-4",children:q instanceof Error?q.message:"Failed to load listings"}),e.jsx("button",{onClick:()=>S(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}),!A&&!q&&b.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ve,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:U>0?"No Listings Match Your Filters":"No Listings Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:U>0?"Try adjusting your filters to see more listings.":"You haven't created any property listings yet. Get started by creating your first listing!"}),U>0?e.jsx("button",{onClick:P,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:"Clear All Filters"}):e.jsxs(I,{to:"/agent/listings/create",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:[e.jsx(In,{className:"w-5 h-5 mr-2"}),"Create Your First Listing"]})]})}),!A&&!q&&b.length>0&&m==="grid"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900",children:[e.jsx("input",{type:"checkbox",checked:g.length===b.length&&b.length>0,onChange:$,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"font-medium",children:"Select All"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(E=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute top-3 left-3 z-10 cursor-pointer",children:e.jsx("input",{type:"checkbox",checked:g.includes(E.property_id),onChange:()=>F(E.property_id),onClick:le=>le.stopPropagation(),className:"w-5 h-5 text-blue-600 border-2 border-white rounded shadow-lg focus:ring-blue-500"})}),e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${oe(E.status)}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})}),E.primary_photo_url?e.jsx("img",{src:E.primary_photo_url,alt:E.title,className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:e.jsx(ve,{className:"w-16 h-16 text-gray-400"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-2 mb-1",children:E.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[E.address_street,", ",E.address_city,", ",E.address_state]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z(E.price,E.currency,E.listing_type)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[E.property_type.charAt(0).toUpperCase()+E.property_type.slice(1),"  ",E.listing_type==="sale"?"For Sale":"For Rent"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsxs("span",{children:[E.bedrooms," bd"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsxs("span",{children:[E.bathrooms," ba"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsxs("span",{children:[E.square_footage.toLocaleString()," sqft"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-200 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:E.view_count})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:E.inquiry_count})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(At,{className:"w-4 h-4"}),e.jsx("span",{children:E.favorite_count})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Listed ",ie(E.created_at)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{to:`/property/${E.property_id}`,target:"_blank",className:"flex-1 inline-flex items-center justify-center px-4 py-2 border-2 border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"View"]}),e.jsxs(I,{to:`/agent/listings/edit/${E.property_id}`,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(th,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>u(v===E.property_id?null:E.property_id),className:"p-2 border-2 border-gray-200 rounded-lg hover:border-gray-300 hover:bg-gray-50 transition-all duration-200",children:e.jsx(Gm,{className:"w-5 h-5 text-gray-600"})}),v===E.property_id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-lg bg-white shadow-lg border border-gray-200 z-20",children:[e.jsxs("button",{onClick:()=>{ue(E.property_id),u(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(Km,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),e.jsxs("button",{onClick:()=>{ne(E.property_id,E.title),u(null)},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]})]},E.property_id))})]}),!A&&!q&&b.length>0&&m==="table"&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:g.length===b.length&&b.length>0,onChange:$,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Property"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Metrics"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:g.includes(E.property_id),onChange:()=>F(E.property_id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[E.primary_photo_url?e.jsx("img",{src:E.primary_photo_url,alt:E.title,className:"w-16 h-16 object-cover rounded-lg"}):e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 line-clamp-1",children:E.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[E.address_city,", ",E.address_state]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-gray-900 capitalize",children:E.property_type}),e.jsxs("p",{className:"text-xs text-gray-500",children:[E.bedrooms," bd  ",E.bathrooms," ba"]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:z(E.price,E.currency,E.listing_type)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[E.square_footage.toLocaleString()," sqft"]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${oe(E.status)}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),e.jsxs("span",{children:[E.view_count," views"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsxs("span",{children:[E.inquiry_count," inquiries"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"w-3 h-3"}),e.jsxs("span",{children:[E.favorite_count," favorites"]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ie(E.created_at)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(I,{to:`/property/${E.property_id}`,target:"_blank",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx(I,{to:`/agent/listings/edit/${E.property_id}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(th,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>u(v===E.property_id?null:E.property_id),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Gm,{className:"w-4 h-4"})}),v===E.property_id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-lg bg-white shadow-lg border border-gray-200 z-20",children:[e.jsxs("button",{onClick:()=>{ue(E.property_id),u(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(Km,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),e.jsxs("button",{onClick:()=>{ne(E.property_id,E.title),u(null)},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},E.property_id))})]})})})]})]}),j.confirming&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j.action_type==="delete"?"bg-red-100":"bg-blue-100"}`,children:j.action_type==="delete"?e.jsx(ws,{className:"w-6 h-6 text-red-600"}):e.jsx(We,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:j.action_type==="delete"?"Delete Listings?":"Change Status?"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:j.action_type==="delete"?`You are about to permanently delete ${g.length} listing${g.length!==1?"s":""}. This action cannot be undone.`:`You are about to change the status of ${g.length} listing${g.length!==1?"s":""} to "${j.target_status}".`}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Z,disabled:j.processing,className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),e.jsx("button",{onClick:B,disabled:j.processing,className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${j.action_type==="delete"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:j.processing?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):j.action_type==="delete"?"Delete":"Confirm"})]})]})})}),v&&e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(null)})]}):null},P2=()=>{var M;const t=Be(),s=H(_=>_.authentication_state.current_agent),r=H(_=>_.authentication_state.agent_auth_token),a=H(_=>_.authentication_state.authentication_status.is_agent_authenticated),n=H(_=>_.show_toast),[i,l]=k.useState(null),[o,c]=k.useState({agent_id:(s==null?void 0:s.agent_id)||"",title:"",description:"",listing_type:"sale",property_type:"house",status:"draft",price:null,currency:"USD",rent_frequency:null,address_street:"",address_unit:"",address_city:"",address_state:"",address_zip:"",address_country:"United States",latitude:null,longitude:null,neighborhood:"",bedrooms:null,bathrooms:null,square_footage:null,lot_size:null,lot_size_unit:null,year_built:null,property_style:"",floors:null,parking_spaces:null,parking_type:"",hoa_fee:null,hoa_frequency:null,property_tax:null,mls_number:"",interior_features:[],exterior_features:[],appliances_included:[],utilities_systems:[],security_features:[],community_amenities:[],amenities:[],additional_features:[],highlights:[],furnished:!1,pet_friendly:!1,new_construction:!1,recently_renovated:!1,virtual_tour_available:!1,open_house_scheduled:!1,price_reduced:!1,youtube_video_url:"",virtual_tour_url:""}),[d,m]=k.useState({uploaded_photos:[],upload_queue:[],uploading:!1,max_photos:50,min_photos:1}),[h,g]=k.useState({}),[w,j]=k.useState(!1),[x,v]=k.useState(null),[u,p]=k.useState({last_auto_save:null,auto_saving:!1}),[f,C]=k.useState({center:null,pin_position:null,geocoding_loading:!1}),[L,A]=k.useState(1);k.useEffect(()=>{(!a||!(s!=null&&s.approved))&&t("/agent/login")},[a,s,t]);const q=be({mutationFn:async({file:_,photo_id:B})=>{const Z=new FormData;return Z.append("file",_),Z.append("photo_type","property"),Z.append("agent_id",(s==null?void 0:s.agent_id)||""),{...(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/upload/photo",Z,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"},onUploadProgress:ue=>{const z=ue.total?Math.round(ue.loaded*100/ue.total):0;m(ie=>({...ie,uploaded_photos:ie.uploaded_photos.map(oe=>oe.photo_id===B?{...oe,upload_progress:z}:oe)}))}})).data,photo_id:B}}}),S=be({mutationFn:async _=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/geocode",{params:{address:_},headers:{Authorization:`Bearer ${r}`}})).data}),b=be({mutationFn:async _=>(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",_,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}),T=be({mutationFn:async({property_id:_,photos:B})=>(await G.post(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${_}/photos`,{photos:B},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}),Q=k.useCallback((_=!1)=>{const B={};return _&&((!o.title||o.title.length<10)&&(B.title="Title must be at least 10 characters"),(!o.description||o.description.length<50)&&(B.description="Description must be at least 50 characters"),(!o.price||o.price<=0)&&(B.price="Price is required and must be greater than 0"),o.address_street||(B.address_street="Street address is required"),o.address_city||(B.address_city="City is required"),o.address_state||(B.address_state="State is required"),o.address_zip||(B.address_zip="ZIP code is required"),d.uploaded_photos.length<d.min_photos&&(B.photos="At least 1 photo is required"),d.uploaded_photos.some(Z=>Z.uploading)&&(B.photos="Please wait for all photos to finish uploading")),o.price&&o.square_footage,g(B),Object.keys(B).length===0},[o,d]),W=k.useCallback(()=>o.price&&o.square_footage&&o.square_footage>0?Math.round(o.price/o.square_footage):null,[o.price,o.square_footage]),O=k.useCallback(_=>{const B=Array.from(_);if(d.uploaded_photos.length+B.length>d.max_photos){n(`Maximum ${d.max_photos} photos allowed`,"error");return}B.filter(ne=>ne.size>10*1024*1024?(n(`${ne.name} exceeds 10MB`,"error"),!1):["image/jpeg","image/jpg","image/png"].includes(ne.type)?!0:(n(`${ne.name} must be JPG or PNG`,"error"),!1)).forEach((ne,ue)=>{const z=`temp_${Date.now()}_${ue}`,ie=URL.createObjectURL(ne),oe=d.uploaded_photos.length+ue+1,U={photo_id:z,file:ne,preview_url:ie,image_url:null,thumbnail_url:null,display_order:oe,is_primary:d.uploaded_photos.length===0&&ue===0,uploading:!0,upload_progress:0,upload_error:null};m(E=>({...E,uploaded_photos:[...E.uploaded_photos,U],uploading:!0})),q.mutate({file:ne,photo_id:z},{onSuccess:E=>{m(le=>({...le,uploaded_photos:le.uploaded_photos.map(de=>de.photo_id===z?{...de,image_url:E.image_url,thumbnail_url:E.thumbnail_url,uploading:!1,upload_progress:100}:de),uploading:le.uploaded_photos.some(de=>de.photo_id!==z&&de.uploading)}))},onError:E=>{m(le=>({...le,uploaded_photos:le.uploaded_photos.map(de=>de.photo_id===z?{...de,uploading:!1,upload_error:E.message||"Upload failed"}:de),uploading:le.uploaded_photos.some(de=>de.photo_id!==z&&de.uploading)}))}})})},[d,q,n]),te=k.useCallback(_=>{m(B=>{const Z=B.uploaded_photos.filter(ne=>ne.photo_id!==_);return{...B,uploaded_photos:Z.map((ne,ue)=>({...ne,display_order:ue+1,is_primary:ue===0}))}})},[]),D=k.useCallback((_,B)=>{m(Z=>{const ne=[...Z.uploaded_photos],[ue]=ne.splice(_,1);return ne.splice(B,0,ue),{...Z,uploaded_photos:ne.map((z,ie)=>({...z,display_order:ie+1,is_primary:ie===0}))}})},[]),Y=k.useCallback(async()=>{const{address_street:_,address_city:B,address_state:Z,address_zip:ne}=o;if(!_||!B||!Z)return;const ue=`${_}, ${B}, ${Z} ${ne}`;C(z=>({...z,geocoding_loading:!0})),S.mutate(ue,{onSuccess:z=>{c(oe=>({...oe,latitude:z.latitude,longitude:z.longitude}));const ie={lat:parseFloat(z.latitude),lng:parseFloat(z.longitude)};C({center:ie,pin_position:ie,geocoding_loading:!1})},onError:()=>{C(z=>({...z,geocoding_loading:!1})),n("Could not verify address. Please check and try again.","warning")}})},[o,S,n]),y=k.useCallback(async _=>{if(v(_),j(!0),g({}),!Q(_==="publish")){j(!1),v(null),n("Please fix validation errors before saving","error");return}const Z={...o,agent_id:(s==null?void 0:s.agent_id)||"",status:_==="draft"?"draft":"active",price_per_sqft:W()};b.mutate(Z,{onSuccess:async ne=>{const ue=ne.property_id;if(l(ue),d.uploaded_photos.length>0){const z=d.uploaded_photos.filter(ie=>ie.image_url).map(ie=>({image_url:ie.image_url,thumbnail_url:ie.thumbnail_url,display_order:ie.display_order,is_primary:ie.is_primary,caption:null}));try{await T.mutateAsync({property_id:ue,photos:z})}catch(ie){console.error("Failed to save photos:",ie)}}j(!1),v(null),_==="publish"?(n("Listing published successfully!","success",5e3),t(`/agent/listings/edit/${ue}`)):(n("Listing saved as draft","success"),p(z=>({...z,last_auto_save:new Date})))},onError:ne=>{var z,ie,oe;j(!1),v(null);const ue=((oe=(ie=(z=ne.response)==null?void 0:z.data)==null?void 0:ie.error)==null?void 0:oe.message)||"Failed to save listing";n(ue,"error")}})},[o,s,d,Q,W,b,T,n,t]);k.useEffect(()=>{if(!o.title&&!o.description)return;const _=setInterval(()=>{if(!w&&!u.auto_saving){p(Z=>({...Z,auto_saving:!0}));const B={...o,agent_id:(s==null?void 0:s.agent_id)||"",status:"draft",price_per_sqft:W()};b.mutate(B,{onSuccess:Z=>{i||l(Z.property_id),p({last_auto_save:new Date,auto_saving:!1})},onError:()=>{p(Z=>({...Z,auto_saving:!1}))}})}},3e4);return()=>clearInterval(_)},[o,w,u.auto_saving,s,W,b,i]);const N=k.useCallback((_,B)=>{c(Z=>({...Z,[_]:B})),h[_]&&g(Z=>{const ne={...Z};return delete ne[_],ne})},[h]),P=k.useCallback((_,B)=>{c(Z=>{const ne=Z[_],ue=ne.includes(B)?ne.filter(z=>z!==B):[...ne,B];return{...Z,[_]:ue}})},[]),K=k.useCallback(()=>{o.highlights.length<10&&c(_=>({..._,highlights:[..._.highlights,""]}))},[o.highlights]),$=k.useCallback((_,B)=>{c(Z=>({...Z,highlights:Z.highlights.map((ne,ue)=>ue===_?B:ne)}))},[]),F=k.useCallback(_=>{c(B=>({...B,highlights:B.highlights.filter((Z,ne)=>ne!==_)}))},[]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/agent/listings"),className:"text-gray-600 hover:text-gray-900 flex items-center space-x-2",children:[e.jsx(Mc,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Back to Listings"})]}),e.jsx("div",{className:"h-6 border-l border-gray-300"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Listing"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u.last_auto_save&&e.jsx("span",{className:"text-xs text-gray-500 flex items-center space-x-1",children:u.auto_saving?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{children:["Saved ",new Date(u.last_auto_save).toLocaleTimeString()]})]})}),e.jsxs("button",{type:"button",onClick:()=>y("draft"),disabled:w,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[e.jsx(pl,{className:"h-4 w-4"}),e.jsx("span",{children:"Save as Draft"})]}),e.jsxs("button",{type:"button",onClick:()=>window.open(`/property/preview/${i}`,"_blank"),disabled:!i,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{children:"Preview"})]}),e.jsx("button",{type:"button",onClick:()=>y("publish"),disabled:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-200",children:w&&x==="publish"?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Publishing..."})]}):"Publish Listing"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Form Sections"}),e.jsx("nav",{className:"space-y-2",children:[{id:1,name:"Basic Information",icon:ve},{id:2,name:"Location",icon:nt},{id:3,name:"Property Details",icon:$a},{id:4,name:"Features & Amenities",icon:ve},{id:5,name:"Photos",icon:Mj},{id:6,name:"Virtual Tour",icon:Qj}].map(_=>{const B=_.icon;return e.jsxs("button",{type:"button",onClick:()=>A(_.id),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center space-x-3 ${L===_.id?"bg-blue-50 text-blue-700 border-2 border-blue-200":"text-gray-600 hover:bg-gray-50 border-2 border-transparent"}`,children:[e.jsx(B,{className:"h-5 w-5"}),e.jsx("span",{children:_.name})]},_.id)})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[L===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Basic Information"}),e.jsx("p",{className:"text-gray-600",children:"Provide the core details about your property listing"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Property Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.title,onChange:_=>N("title",_.target.value),placeholder:"e.g., Stunning 3-Bedroom Home with Pool",maxLength:200,className:`w-full px-4 py-3 rounded-lg border-2 ${h.title?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),e.jsxs("div",{className:"flex justify-between mt-1",children:[h.title&&e.jsx("p",{className:"text-sm text-red-600",children:h.title}),e.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[o.title.length," / 200"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Property Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:o.description,onChange:_=>N("description",_.target.value),placeholder:"Describe the property's best features, condition, location benefits, and what makes it special...",rows:8,maxLength:5e3,className:`w-full px-4 py-3 rounded-lg border-2 ${h.description?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),e.jsxs("div",{className:"flex justify-between mt-1",children:[h.description&&e.jsx("p",{className:"text-sm text-red-600",children:h.description}),e.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[o.description.length," / 5000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Listing Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex space-x-4",children:["sale","rent"].map(_=>e.jsx("button",{type:"button",onClick:()=>N("listing_type",_),className:`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-all ${o.listing_type===_?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:_==="sale"?"For Sale":"For Rent"},_))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Property Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o.property_type,onChange:_=>N("property_type",_.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"house",children:"House"}),e.jsx("option",{value:"condo",children:"Condo"}),e.jsx("option",{value:"townhouse",children:"Townhouse"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"land",children:"Land"}),e.jsx("option",{value:"commercial",children:"Commercial"})]})]})]}),o.listing_type==="rent"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rent Frequency"}),e.jsxs("select",{value:o.rent_frequency||"monthly",onChange:_=>N("rent_frequency",_.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"daily",children:"Daily"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"button",onClick:()=>A(2),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Location"})})]}),L===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-600",children:"Specify where the property is located"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.address_street,onChange:_=>N("address_street",_.target.value),onBlur:Y,placeholder:"123 Main Street",className:`w-full px-4 py-3 rounded-lg border-2 ${h.address_street?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),h.address_street&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address_street})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Unit / Apartment Number"}),e.jsx("input",{type:"text",value:o.address_unit,onChange:_=>N("address_unit",_.target.value),placeholder:"Unit 2B (optional)",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.address_city,onChange:_=>N("address_city",_.target.value),onBlur:Y,placeholder:"Miami",className:`w-full px-4 py-3 rounded-lg border-2 ${h.address_city?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),h.address_city&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address_city})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.address_state,onChange:_=>N("address_state",_.target.value.toUpperCase().slice(0,2)),onBlur:Y,placeholder:"FL",maxLength:2,className:`w-full px-4 py-3 rounded-lg border-2 ${h.address_state?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all uppercase`}),h.address_state&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address_state})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["ZIP Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.address_zip,onChange:_=>N("address_zip",_.target.value),onBlur:Y,placeholder:"33139",maxLength:10,className:`w-full px-4 py-3 rounded-lg border-2 ${h.address_zip?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),h.address_zip&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address_zip})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Neighborhood"}),e.jsx("input",{type:"text",value:o.neighborhood,onChange:_=>N("neighborhood",_.target.value),placeholder:"e.g., Downtown, Coral Gables",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location Preview"}),e.jsx("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center border-2 border-gray-200",children:f.geocoding_loading?e.jsxs("div",{className:"text-center",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600 mx-auto mb-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Verifying address..."})]}):f.pin_position?e.jsxs("div",{className:"text-center",children:[e.jsx(nt,{className:"h-12 w-12 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location Verified"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.pin_position.lat.toFixed(6),", ",f.pin_position.lng.toFixed(6)]})]}):e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx(nt,{className:"h-12 w-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Enter address to preview location"})]})}),o.address_street&&o.address_city&&o.address_state&&e.jsx("button",{type:"button",onClick:Y,disabled:f.geocoding_loading,className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50",children:"Verify Location on Map"})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>A(1),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>A(3),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Details"})]})]}),L===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Details"}),e.jsx("p",{className:"text-gray-600",children:"Specify the property's key specifications"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:o.price||"",onChange:_=>N("price",_.target.value?Number(_.target.value):null),placeholder:"450000",min:"0",step:"1000",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${h.price?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`})]}),h.price&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.price})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Bedrooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:o.bedrooms||"",onChange:_=>N("bedrooms",_.target.value?Number(_.target.value):null),placeholder:"3",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Bathrooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:o.bathrooms||"",onChange:_=>N("bathrooms",_.target.value?Number(_.target.value):null),placeholder:"2.5",min:"0",step:"0.5",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Square Footage ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:o.square_footage||"",onChange:_=>N("square_footage",_.target.value?Number(_.target.value):null),placeholder:"2200",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),W()&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-semibold",children:"Price per sqft:"})," $",(M=W())==null?void 0:M.toLocaleString()]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lot Size"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"number",value:o.lot_size||"",onChange:_=>N("lot_size",_.target.value?Number(_.target.value):null),placeholder:"5500",min:"0",className:"px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsxs("select",{value:o.lot_size_unit||"sqft",onChange:_=>N("lot_size_unit",_.target.value),className:"px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"sqft",children:"sqft"}),e.jsx("option",{value:"acres",children:"acres"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Built"}),e.jsx("input",{type:"number",value:o.year_built||"",onChange:_=>N("year_built",_.target.value?Number(_.target.value):null),placeholder:"2005",min:"1800",max:new Date().getFullYear(),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Parking Spaces"}),e.jsx("input",{type:"number",value:o.parking_spaces||"",onChange:_=>N("parking_spaces",_.target.value?Number(_.target.value):null),placeholder:"2",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"HOA Fee"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:o.hoa_fee||"",onChange:_=>N("hoa_fee",_.target.value?Number(_.target.value):null),placeholder:"250",min:"0",className:"w-full pl-8 pr-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("select",{value:o.hoa_frequency||"monthly",onChange:_=>N("hoa_frequency",_.target.value),className:"px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annually",children:"Annually"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>A(2),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>A(4),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Features"})]})]}),L===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Features & Amenities"}),e.jsx("p",{className:"text-gray-600",children:"Select all that apply to this property"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Interior Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Hardwood Floors","Carpet","Tile Floors","Granite Countertops","Marble Countertops","Updated Kitchen","Stainless Steel Appliances","Walk-in Closets","High Ceilings","Fireplace","Finished Basement","Attic"].map(_=>e.jsxs("button",{type:"button",onClick:()=>P("interior_features",_),className:`px-4 py-3 rounded-lg border-2 text-sm font-medium text-left transition-all ${o.interior_features.includes(_)?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.interior_features.includes(_)&&e.jsx(We,{className:"h-4 w-4 inline mr-2"}),_]},_))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exterior Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Pool","Hot Tub/Spa","Garden","Yard","Patio","Deck","Balcony","Garage","Carport","Fencing","Sprinkler System"].map(_=>e.jsxs("button",{type:"button",onClick:()=>P("exterior_features",_),className:`px-4 py-3 rounded-lg border-2 text-sm font-medium text-left transition-all ${o.exterior_features.includes(_)?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.exterior_features.includes(_)&&e.jsx(We,{className:"h-4 w-4 inline mr-2"}),_]},_))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appliances Included"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Refrigerator","Dishwasher","Microwave","Oven/Range","Washer","Dryer"].map(_=>e.jsxs("button",{type:"button",onClick:()=>P("appliances_included",_),className:`px-4 py-3 rounded-lg border-2 text-sm font-medium text-left transition-all ${o.appliances_included.includes(_)?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.appliances_included.includes(_)&&e.jsx(We,{className:"h-4 w-4 inline mr-2"}),_]},_))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"furnished",label:"Furnished"},{key:"pet_friendly",label:"Pet Friendly"},{key:"new_construction",label:"New Construction"},{key:"recently_renovated",label:"Recently Renovated"}].map(_=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-gray-200 hover:bg-gray-50 cursor-pointer transition-all",children:[e.jsx("input",{type:"checkbox",checked:o[_.key],onChange:B=>N(_.key,B.target.checked),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500 focus:ring-offset-0"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:_.label})]},_.key))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Highlights"}),e.jsx("button",{type:"button",onClick:K,disabled:o.highlights.length>=10,className:"text-sm text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Add Highlight"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add up to 10 key selling points (max 100 characters each)"}),e.jsxs("div",{className:"space-y-3",children:[o.highlights.map((_,B)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:_,onChange:Z=>$(B,Z.target.value),placeholder:"e.g., Walking distance to top-rated schools",maxLength:100,className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("button",{type:"button",onClick:()=>F(B),className:"px-3 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Je,{className:"h-5 w-5"})})]},B)),o.highlights.length===0&&e.jsx("p",{className:"text-sm text-gray-500 italic",children:'No highlights added yet. Click "+ Add Highlight" to start.'})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>A(3),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>A(5),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Photos"})]})]}),L===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Photos"}),e.jsx("p",{className:"text-gray-600",children:"Upload high-quality images of your property (minimum 1, maximum 50)"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{onDragOver:_=>{_.preventDefault(),_.stopPropagation()},onDrop:_=>{_.preventDefault(),_.stopPropagation(),_.dataTransfer.files&&O(_.dataTransfer.files)},className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>{var _;return(_=document.getElementById("photo-upload"))==null?void 0:_.click()},children:[e.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag and drop photos here"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["JPG, PNG (max 10MB each)  ",d.uploaded_photos.length," / ",d.max_photos," photos"]}),e.jsx("input",{id:"photo-upload",type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png",onChange:_=>_.target.files&&O(_.target.files),className:"hidden"})]}),h.photos&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.photos})}),d.uploaded_photos.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Uploaded Photos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"The first photo will be the main listing image"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.uploaded_photos.map((_,B)=>e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`aspect-[4/3] rounded-lg overflow-hidden border-2 ${_.is_primary?"border-blue-500 ring-2 ring-blue-200":"border-gray-200"}`,children:[_.preview_url&&e.jsx("img",{src:_.preview_url,alt:`Upload ${B+1}`,className:"w-full h-full object-cover"}),_.uploading&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mx-auto mb-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsxs("p",{className:"text-white text-xs",children:[_.upload_progress,"%"]})]})}),_.upload_error&&e.jsx("div",{className:"absolute inset-0 bg-red-50 flex items-center justify-center p-2",children:e.jsx("p",{className:"text-xs text-red-600 text-center",children:_.upload_error})})]}),_.is_primary&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded",children:"PRIMARY"}),e.jsx("button",{type:"button",onClick:()=>te(_.photo_id),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700",children:e.jsx(Je,{className:"h-4 w-4"})}),B>0&&e.jsx("button",{type:"button",onClick:()=>D(B,B-1),className:"absolute bottom-2 left-2 bg-white text-gray-700 p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-gray-50",children:e.jsx(vp,{className:"h-4 w-4"})})]},_.photo_id))})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>A(4),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>A(6),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Virtual Tour"})]})]}),L===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Virtual Tour & Video"}),e.jsx("p",{className:"text-gray-600",children:"Add optional video tours and 3D walkthroughs"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",value:o.youtube_video_url,onChange:_=>N("youtube_video_url",_.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a video tour of the property"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"3D Virtual Tour URL"}),e.jsx("input",{type:"url",value:o.virtual_tour_url,onChange:_=>N("virtual_tour_url",_.target.value),placeholder:"https://my.matterport.com/show/?m=...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Matterport or other 3D tour link"})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>A(5),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>y("publish"),disabled:w,className:"px-8 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-200",children:w&&x==="publish"?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Publishing..."})]}):"Publish Listing"})]})]})]})})]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>y("draft"),disabled:w,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Draft"}),e.jsx("button",{type:"button",onClick:()=>y("publish"),disabled:w,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Publish"})]})})]})})},E2=()=>{const{property_id:t}=zd(),s=Be(),r=Wt(),a=H(F=>F.authentication_state.current_agent),n=H(F=>F.authentication_state.agent_auth_token),i=H(F=>F.authentication_state.authentication_status.is_agent_authenticated),l=H(F=>F.show_toast),[o,c]=k.useState(null),[d,m]=k.useState({}),[h,g]=k.useState(!1),[w,j]=k.useState(null),[x,v]=k.useState(!1);k.useEffect(()=>{(!i||!a)&&s("/agent/login?redirect="+encodeURIComponent(`/agent/listings/edit/${t}`))},[i,a,s,t]);const{data:u,isLoading:p,error:f}=Ne({queryKey:["property",t],queryFn:async()=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}`,{headers:{Authorization:`Bearer ${n}`}})).data,enabled:!!t&&!!n,staleTime:6e4,retry:1});k.useEffect(()=>{if(u){if(u.agent_id!==(a==null?void 0:a.agent_id)){l("You do not have permission to edit this listing","error"),s("/agent/listings");return}c({property_id:u.property_id,agent_id:u.agent_id,title:u.title,description:u.description,listing_type:u.listing_type,property_type:u.property_type,status:u.status,price:Number(u.price||0),currency:u.currency||"USD",price_per_sqft:u.price_per_sqft?Number(u.price_per_sqft):null,rent_frequency:u.rent_frequency,address_street:u.address_street,address_unit:u.address_unit,address_city:u.address_city,address_state:u.address_state,address_zip:u.address_zip,address_country:u.address_country||"United States",latitude:u.latitude,longitude:u.longitude,neighborhood:u.neighborhood,bedrooms:Number(u.bedrooms||0),bathrooms:Number(u.bathrooms||0),square_footage:Number(u.square_footage||0),lot_size:u.lot_size?Number(u.lot_size):null,lot_size_unit:u.lot_size_unit,year_built:u.year_built?Number(u.year_built):null,property_style:u.property_style,floors:u.floors?Number(u.floors):null,parking_spaces:u.parking_spaces?Number(u.parking_spaces):null,hoa_fee:u.hoa_fee?Number(u.hoa_fee):null,hoa_frequency:u.hoa_frequency,property_tax:u.property_tax?Number(u.property_tax):null,mls_number:u.mls_number,interior_features:u.interior_features||[],exterior_features:u.exterior_features||[],appliances_included:u.appliances_included||[],utilities_systems:u.utilities_systems||[],amenities:u.amenities||[],highlights:u.highlights||[],furnished:u.furnished||!1,pet_friendly:u.pet_friendly||!1,new_construction:u.new_construction||!1,recently_renovated:u.recently_renovated||!1,virtual_tour_available:u.virtual_tour_available||!1,youtube_video_url:u.youtube_video_url,virtual_tour_url:u.virtual_tour_url,created_at:u.created_at,updated_at:u.updated_at})}},[u,a,s,l]);const{data:C,isLoading:L}=Ne({queryKey:["property-photos",t],queryFn:async()=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/photos`,{headers:{Authorization:`Bearer ${n}`}})).data.data||[],enabled:!!t&&!!n,select:F=>F.sort((M,_)=>M.display_order-_.display_order),staleTime:6e4,retry:1}),{data:A}=Ne({queryKey:["price-history",t],queryFn:async()=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/price-history`,{headers:{Authorization:`Bearer ${n}`}})).data.data||[],enabled:!!t&&!!n&&h,staleTime:3e5,retry:1}),{data:q}=Ne({queryKey:["status-history",t],queryFn:async()=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/status-history`,{headers:{Authorization:`Bearer ${n}`}})).data.data||[],enabled:!!t&&!!n&&h,staleTime:3e5,retry:1}),S=be({mutationFn:async F=>(await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}`,F,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data,onSuccess:F=>{r.invalidateQueries({queryKey:["property",t]}),r.invalidateQueries({queryKey:["price-history",t]}),r.invalidateQueries({queryKey:["status-history",t]}),o&&c({...o,updated_at:F.updated_at}),l("Listing updated successfully","success")},onError:F=>{var _,B,Z;const M=((Z=(B=(_=F.response)==null?void 0:_.data)==null?void 0:B.error)==null?void 0:Z.message)||"Failed to update listing";l(M,"error")}}),b=be({mutationFn:async F=>{const M=new FormData;M.append("file",F),M.append("photo_type","property"),M.append("agent_id",(a==null?void 0:a.agent_id)||"");const _=await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/upload/photo",M,{headers:{Authorization:`Bearer ${n}`}});return(await G.post(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/photos`,{image_url:_.data.image_url,thumbnail_url:_.data.thumbnail_url,display_order:((C==null?void 0:C.length)||0)+1,is_primary:(C==null?void 0:C.length)===0},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["property-photos",t]}),l("Photo uploaded successfully","success")},onError:F=>{var _,B,Z;const M=((Z=(B=(_=F.response)==null?void 0:_.data)==null?void 0:B.error)==null?void 0:Z.message)||"Failed to upload photo";l(M,"error")}}),T=be({mutationFn:async F=>(await G.delete(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/photos/${F}`,{headers:{Authorization:`Bearer ${n}`}}),F),onSuccess:()=>{r.invalidateQueries({queryKey:["property-photos",t]}),l("Photo deleted successfully","success")},onError:F=>{var _,B,Z;const M=((Z=(B=(_=F.response)==null?void 0:_.data)==null?void 0:B.error)==null?void 0:Z.message)||"Failed to delete photo";l(M,"error")}}),Q=be({mutationFn:async F=>{await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}/photos/reorder`,{photo_order:F},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["property-photos",t]}),l("Photos reordered successfully","success")},onError:F=>{var _,B,Z;const M=((Z=(B=(_=F.response)==null?void 0:_.data)==null?void 0:B.error)==null?void 0:Z.message)||"Failed to reorder photos";l(M,"error")}}),W=(F,M)=>{if(o&&(c({...o,[F]:M}),d[F])){const _={...d};delete _[F],m(_)}},O=()=>{if(!o)return!1;const F={};return(!o.title||o.title.length<10)&&(F.title="Title must be at least 10 characters"),o.title&&o.title.length>200&&(F.title="Title must not exceed 200 characters"),(!o.description||o.description.length<50)&&(F.description="Description must be at least 50 characters"),o.description&&o.description.length>5e3&&(F.description="Description must not exceed 5000 characters"),(!o.price||o.price<=0)&&(F.price="Price must be greater than 0"),o.address_street||(F.address_street="Street address is required"),o.address_city||(F.address_city="City is required"),(!o.bedrooms||o.bedrooms<0)&&(F.bedrooms="Bedrooms must be 0 or greater"),(!o.bathrooms||o.bathrooms<=0)&&(F.bathrooms="Bathrooms must be greater than 0"),(!o.square_footage||o.square_footage<=0)&&(F.square_footage="Square footage must be greater than 0"),m(F),Object.keys(F).length===0},te=async()=>{if(!(!O()||!o))try{await S.mutateAsync(o)}catch(F){console.error("Failed to save changes:",F)}},D=async F=>{if(!F||F.length===0)return;const M=Array.from(F).filter(_=>_.size>10*1024*1024?(l(`${_.name} exceeds 10MB`,"error"),!1):["image/jpeg","image/jpg","image/png"].includes(_.type)?!0:(l(`${_.name} must be JPG or PNG`,"error"),!1));if(M.length!==0){v(!0);for(const _ of M)try{await b.mutateAsync(_)}catch(B){console.error("Photo upload failed:",B)}v(!1)}},Y=async F=>{if(confirm("Are you sure you want to delete this photo?"))try{await T.mutateAsync(F)}catch(M){console.error("Photo deletion failed:",M)}},y=F=>{j(F)},N=F=>{F.preventDefault()},P=async F=>{if(!w||!C)return;const M=[...C],_=M.findIndex(ue=>ue.photo_id===w),B=M.findIndex(ue=>ue.photo_id===F);if(_===-1||B===-1)return;const[Z]=M.splice(_,1);M.splice(B,0,Z);const ne=M.map((ue,z)=>({photo_id:ue.photo_id,display_order:z+1}));try{await Q.mutateAsync(ne)}catch(ue){console.error("Photo reorder failed:",ue)}j(null)},K=F=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(F),$=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return p?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading property data..."})]})})}):f?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(we,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to Load Property"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This property could not be loaded. It may not exist or you may not have permission to edit it."}),e.jsxs(I,{to:"/agent/listings",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Mc,{className:"w-5 h-5 mr-2"}),"Back to Listings"]})]})})}):o?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(I,{to:"/agent/listings",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Mc,{className:"w-5 h-5 mr-2"}),"Back to Listings"]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Listing"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Created ",$(o.created_at),"  Last updated ",$(o.updated_at)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(I,{to:`/property/${t}`,target:"_blank",className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-all duration-200",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Preview"]}),e.jsx("button",{type:"button",onClick:te,disabled:S.isPending||Object.keys(d).length>0,className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsx(yr,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pl,{className:"w-5 h-5 mr-2"}),"Save Changes"]})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Basic Information"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Property Title *"}),e.jsx("input",{id:"title",type:"text",value:o.title,onChange:F=>W("title",F.target.value),placeholder:"e.g., Stunning 3-Bedroom Home with Pool",maxLength:200,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.title}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[o.title.length," / 200 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Property Description *"}),e.jsx("textarea",{id:"description",value:o.description,onChange:F=>W("description",F.target.value),placeholder:"Describe the property's best features, condition, and what makes it special...",rows:8,maxLength:5e3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.description}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[o.description.length," / 5000 characters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"listing_type",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Listing Type *"}),e.jsxs("select",{id:"listing_type",value:o.listing_type,onChange:F=>W("listing_type",F.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none",children:[e.jsx("option",{value:"sale",children:"For Sale"}),e.jsx("option",{value:"rent",children:"For Rent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"property_type",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Property Type *"}),e.jsxs("select",{id:"property_type",value:o.property_type,onChange:F=>W("property_type",F.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none",children:[e.jsx("option",{value:"house",children:"House"}),e.jsx("option",{value:"condo",children:"Condo"}),e.jsx("option",{value:"townhouse",children:"Townhouse"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"land",children:"Land"}),e.jsx("option",{value:"commercial",children:"Commercial"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Listing Status *"}),e.jsxs("select",{id:"status",value:o.status,onChange:F=>W("status",F.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"sold",children:"Sold"}),e.jsx("option",{value:"rented",children:"Rented"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{id:"price",type:"number",value:o.price,onChange:F=>W("price",Number(F.target.value)),placeholder:"450000",min:"0",step:"1000",className:"w-full pl-8 pr-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]}),d.price&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.price})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Location"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_street",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Street Address *"}),e.jsx("input",{id:"address_street",type:"text",value:o.address_street,onChange:F=>W("address_street",F.target.value),placeholder:"123 Main Street",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.address_street&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.address_street})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_city",className:"block text-sm font-semibold text-gray-900 mb-2",children:"City *"}),e.jsx("input",{id:"address_city",type:"text",value:o.address_city,onChange:F=>W("address_city",F.target.value),placeholder:"Miami",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.address_city&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.address_city})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_state",className:"block text-sm font-semibold text-gray-900 mb-2",children:"State *"}),e.jsx("input",{id:"address_state",type:"text",value:o.address_state,onChange:F=>W("address_state",F.target.value.toUpperCase()),placeholder:"FL",maxLength:2,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none uppercase"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_zip",className:"block text-sm font-semibold text-gray-900 mb-2",children:"ZIP Code *"}),e.jsx("input",{id:"address_zip",type:"text",value:o.address_zip,onChange:F=>W("address_zip",F.target.value),placeholder:"33139",maxLength:10,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Neighborhood"}),e.jsx("input",{id:"neighborhood",type:"text",value:o.neighborhood||"",onChange:F=>W("neighborhood",F.target.value||null),placeholder:"e.g., Downtown, Coral Gables",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Property Details"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Bedrooms *"}),e.jsx("input",{id:"bedrooms",type:"number",value:o.bedrooms,onChange:F=>W("bedrooms",Number(F.target.value)),min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.bedrooms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.bedrooms})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Bathrooms *"}),e.jsx("input",{id:"bathrooms",type:"number",value:o.bathrooms,onChange:F=>W("bathrooms",Number(F.target.value)),min:"0",step:"0.5",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.bathrooms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.bathrooms})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"square_footage",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Square Footage *"}),e.jsx("input",{id:"square_footage",type:"number",value:o.square_footage,onChange:F=>W("square_footage",Number(F.target.value)),placeholder:"2200",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),d.square_footage&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.square_footage})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"year_built",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Year Built"}),e.jsx("input",{id:"year_built",type:"number",value:o.year_built||"",onChange:F=>W("year_built",F.target.value?Number(F.target.value):null),placeholder:"2005",min:"1800",max:new Date().getFullYear(),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"parking_spaces",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Parking Spaces"}),e.jsx("input",{id:"parking_spaces",type:"number",value:o.parking_spaces||"",onChange:F=>W("parking_spaces",F.target.value?Number(F.target.value):null),placeholder:"2",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]})]}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.furnished,onChange:F=>W("furnished",F.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Furnished"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.pet_friendly,onChange:F=>W("pet_friendly",F.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Pet Friendly"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.new_construction,onChange:F=>W("new_construction",F.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"New Construction"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Photos"})}),e.jsx("div",{className:"p-6 space-y-6",children:L?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(yr,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading photos..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-4",children:"Add New Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors",children:[e.jsx(ir,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop photos here or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"JPG, PNG (max 10MB each)"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png",onChange:F=>D(F.target.files),disabled:x,className:"hidden",id:"photo-upload"}),e.jsx("label",{htmlFor:"photo-upload",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium cursor-pointer transition-colors disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(yr,{className:"w-5 h-5 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ir,{className:"w-5 h-5 mr-2"}),"Select Photos"]})})]})]}),C&&C.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900",children:["Existing Photos (",C.length,")"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag to reorder  First photo is the primary image"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map((F,M)=>e.jsxs("div",{draggable:!0,onDragStart:()=>y(F.photo_id),onDragOver:N,onDrop:()=>P(F.photo_id),className:"relative group rounded-lg overflow-hidden border-2 border-gray-200 hover:border-blue-500 transition-all cursor-move bg-white",children:[e.jsx("img",{src:F.thumbnail_url||F.image_url,alt:F.caption||`Property photo ${M+1}`,className:"w-full h-48 object-cover"}),F.is_primary&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-3 py-1 rounded-md text-xs font-bold shadow-lg",children:"Primary"}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{type:"button",onClick:()=>Y(F.photo_id),disabled:T.isPending,className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-lg transition-colors","aria-label":"Delete photo",children:e.jsx(ws,{className:"w-4 h-4"})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex items-center text-white text-xs",children:[e.jsx(vp,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Order: ",F.display_order]})]})})]},F.photo_id))})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Features & Amenities"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Property Highlights"}),e.jsxs("div",{className:"space-y-2",children:[(o.highlights||[]).map((F,M)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:F,onChange:_=>{const B=[...o.highlights||[]];B[M]=_.target.value,W("highlights",B)},placeholder:`Highlight ${M+1}`,maxLength:100,className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"}),e.jsx("button",{type:"button",onClick:()=>{const _=(o.highlights||[]).filter((B,Z)=>Z!==M);W("highlights",_)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Je,{className:"w-5 h-5"})})]},M)),(!o.highlights||o.highlights.length<10)&&e.jsx("button",{type:"button",onClick:()=>{const F=[...o.highlights||[],""];W("highlights",F)},className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 hover:border-blue-500 text-gray-600 hover:text-blue-600 rounded-lg font-medium transition-colors",children:"+ Add Highlight"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("label",{htmlFor:"virtual_tour_url",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Virtual Tour URL"}),e.jsx("input",{id:"virtual_tour_url",type:"url",value:o.virtual_tour_url||"",onChange:F=>W("virtual_tour_url",F.target.value||null),placeholder:"https://my.matterport.com/show/?m=...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"youtube_video_url",className:"block text-sm font-semibold text-gray-900 mb-2",children:"YouTube Video URL"}),e.jsx("input",{id:"youtube_video_url",type:"url",value:o.youtube_video_url||"",onChange:F=>W("youtube_video_url",F.target.value||null),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none"})]})]})})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden sticky top-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-white",children:"Quick Actions"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("button",{type:"button",onClick:te,disabled:S.isPending||Object.keys(d).length>0,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsx(yr,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pl,{className:"w-5 h-5 mr-2"}),"Save Changes"]})}),e.jsxs(I,{to:`/property/${t}`,target:"_blank",className:"w-full flex items-center justify-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium border border-gray-300 transition-all duration-200",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Preview Public View"]}),e.jsxs("button",{type:"button",onClick:()=>g(!h),className:"w-full flex items-center justify-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium border border-gray-300 transition-all duration-200",children:[e.jsx(Lj,{className:"w-5 h-5 mr-2"}),h?"Hide":"Show"," Change History"]})]})]}),h&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-white",children:"Change History"})}),e.jsxs("div",{className:"p-6",children:[A&&A.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Price Changes"}),e.jsx("div",{className:"space-y-2",children:A.map(F=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"line-through text-gray-500",children:K(F.old_price)}),"  ",e.jsx("span",{className:"font-semibold text-blue-600",children:K(F.new_price)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$(F.changed_at)})]}),e.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded ${F.price_change_amount<0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[F.price_change_percentage>0?"+":"",F.price_change_percentage.toFixed(1),"%"]})]},F.history_id))})]}),q&&q.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Status Changes"}),e.jsx("div",{className:"space-y-2",children:q.map(F=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"capitalize",children:F.old_status.replace("_"," ")}),"  ",e.jsx("span",{className:"font-semibold capitalize",children:F.new_status.replace("_"," ")})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$(F.changed_at)})]},F.history_id))})]}),(!A||A.length===0)&&(!q||q.length===0)&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No changes recorded yet"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-white",children:"Listing Stats"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Views"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:(u==null?void 0:u.view_count)||0})]}),e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Inquiries"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:(u==null?void 0:u.inquiry_count)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Times Favorited"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:(u==null?void 0:u.favorite_count)||0})]})]})]})]})]}),S.isSuccess&&e.jsxs("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center space-x-3 animate-in slide-in-from-bottom-5",children:[e.jsx(Tt,{className:"w-6 h-6"}),e.jsx("span",{className:"font-medium",children:"Changes saved successfully!"})]})]})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(yr,{className:"w-12 h-12 text-blue-600 animate-spin"})})})},F2=()=>{const[t,s]=es(),r=Wt(),a=H(z=>z.authentication_state.agent_auth_token),n=H(z=>z.authentication_state.current_agent),i=H(z=>z.show_toast),l=H(z=>z.decrement_unread_inquiries),[o,c]=k.useState({status:(t.get("status")||"").split(",").filter(Boolean),property_id:t.get("property_id")||null,viewing_requested:t.get("viewing_requested")==="true"?!0:null,date_from:t.get("date_from")||null,date_to:t.get("date_to")||null}),[d,m]=k.useState({is_open:!1,inquiry_id:null}),[h,g]=k.useState({message:"",include_signature:!0,template_selected:null,submitting:!1,submit_success:!1,submit_error:null}),[w,j]=k.useState([]),[x,v]=k.useState(null),[u,p]=k.useState("all"),f="https://123real-estate-listing-site-with.launchpulse.ai",{data:C,isLoading:L,error:A,refetch:q}=Ne({queryKey:["agent-inquiries",o],queryFn:async()=>{const z={limit:100,offset:0,sort_by:"created_at",sort_order:"desc"};return o.status.length>0&&(z.status=o.status),o.property_id&&(z.property_id=o.property_id),o.viewing_requested!==null&&(z.viewing_requested=o.viewing_requested),o.date_from&&(z.date_from=o.date_from),o.date_to&&(z.date_to=o.date_to),(await G.get(`${f}/api/inquiries/agent/my-inquiries`,{headers:{Authorization:`Bearer ${a}`},params:z})).data},enabled:!!a&&!!n,staleTime:6e4,refetchOnWindowFocus:!1}),S=be({mutationFn:async z=>{await G.put(`${f}/api/inquiries/${z}/mark-read`,{},{headers:{Authorization:`Bearer ${a}`}})},onSuccess:(z,ie)=>{r.setQueryData(["agent-inquiries",o],oe=>oe&&{...oe,data:oe.data.map(U=>U.inquiry_id===ie?{...U,agent_read:!0,agent_read_at:new Date().toISOString()}:U)}),l()}}),b=be({mutationFn:async({inquiry_id:z,message:ie,include_signature:oe})=>(await G.post(`${f}/api/inquiries/${z}/reply`,{message:ie,include_signature:oe},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data,onMutate:()=>{g(z=>({...z,submitting:!0,submit_error:null}))},onSuccess:(z,ie)=>{r.setQueryData(["agent-inquiries",o],oe=>oe&&{...oe,data:oe.data.map(U=>U.inquiry_id===ie.inquiry_id?{...U,status:"responded",replies:[...U.replies,{reply_id:z.reply_id,sender_type:"agent",message:z.message,created_at:z.created_at}]}:U)}),g({message:"",include_signature:!0,template_selected:null,submitting:!1,submit_success:!0,submit_error:null}),i("Reply sent successfully","success"),setTimeout(()=>{g(oe=>({...oe,submit_success:!1}))},3e3)},onError:z=>{var oe,U,E;const ie=((E=(U=(oe=z.response)==null?void 0:oe.data)==null?void 0:U.error)==null?void 0:E.message)||"Failed to send reply";g(le=>({...le,submitting:!1,submit_error:ie})),i(ie,"error")}}),T=(z,ie)=>{const oe={...o,[z]:ie};c(oe);const U={};oe.status.length>0&&(U.status=oe.status.join(",")),oe.property_id&&(U.property_id=oe.property_id),oe.viewing_requested!==null&&(U.viewing_requested=String(oe.viewing_requested)),oe.date_from&&(U.date_from=oe.date_from),oe.date_to&&(U.date_to=oe.date_to),s(U)},Q=z=>{p(z),T("status",{all:[],new:["new"],replied:["responded"],archived:["closed"]}[z])},W=(z,ie)=>{m({is_open:!0,inquiry_id:z}),ie.agent_read||S.mutate(z)},O=()=>{m({is_open:!1,inquiry_id:null}),g({message:"",include_signature:!0,template_selected:null,submitting:!1,submit_success:!1,submit_error:null})},te=()=>{if(!d.inquiry_id||!h.message.trim()){g(z=>({...z,submit_error:"Please enter a message"}));return}b.mutate({inquiry_id:d.inquiry_id,message:h.message,include_signature:h.include_signature})},D=z=>{const ie={thank_you:"Thank you for your interest in this property. It is still available, and I would be happy to show it to you.",schedule_viewing:"I would be happy to schedule a viewing. What days and times work best for you?",price_negotiation:"Thank you for your inquiry. I would be happy to discuss the price and terms with you."};g(oe=>({...oe,message:ie[z]||"",template_selected:z}))},Y=()=>{C&&(w.length===C.data.length?j([]):j(C.data.map(z=>z.inquiry_id)))},y=async()=>{if(w.length!==0){v("mark_read");for(const z of w)await S.mutateAsync(z);j([]),v(null),i(`${w.length} inquiries marked as read`,"success")}},N=()=>{c({status:[],property_id:null,viewing_requested:null,date_from:null,date_to:null}),s({})},P=(C==null?void 0:C.data)||[],K=(C==null?void 0:C.pagination.total)||0,$=P.filter(z=>!z.agent_read).length,F=P.filter(z=>z.viewing_requested).length,M=d.inquiry_id?P.find(z=>z.inquiry_id===d.inquiry_id):null,_=o.status.length>0||o.property_id!==null||o.viewing_requested!==null||o.date_from!==null||o.date_to!==null,B=z=>{const ie=new Date(z);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(ie)},Z=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(z),ne=z=>({new:"bg-yellow-100 text-yellow-800 border-yellow-200",responded:"bg-green-100 text-green-800 border-green-200",scheduled:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-gray-100 text-gray-800 border-gray-200",closed:"bg-gray-100 text-gray-600 border-gray-200"})[z]||"bg-gray-100 text-gray-800",ue=z=>({new:"New",responded:"Replied",scheduled:"Scheduled",completed:"Completed",closed:"Archived"})[z]||z;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inquiries"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and respond to property inquiries"})]}),$>0&&e.jsx("div",{className:"bg-yellow-100 border border-yellow-200 rounded-lg px-4 py-2",children:e.jsxs("span",{className:"text-yellow-800 font-semibold",children:[$," Unread"]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["all","new","replied","archived"].map(z=>e.jsxs("button",{onClick:()=>Q(z),className:`${u===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors capitalize`,children:[z,z==="new"&&$>0&&e.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-800 py-0.5 px-2 rounded-full text-xs font-semibold",children:$})]},z))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:o.viewing_requested===!0,onChange:z=>T("viewing_requested",z.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Viewing Requests Only"}),F>0&&e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full font-semibold",children:F})]}),_&&e.jsx("button",{onClick:N,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All Filters"}),e.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[K," ",K===1?"inquiry":"inquiries"]})]})}),w.length>0&&e.jsxs("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[w.length," selected"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:y,disabled:x!==null,className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors disabled:opacity-50",children:"Mark as Read"}),e.jsx("button",{onClick:()=>j([]),className:"px-4 py-2 text-gray-600 text-sm font-medium hover:text-gray-800",children:"Clear Selection"})]})]})]}),L?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]})},z))}):A?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Inquiries"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to fetch your inquiries. Please try again."}),e.jsx("button",{onClick:()=>q(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Retry"})]}):P.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-20 h-20 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Inquiries Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:_?"No inquiries match your filters. Try adjusting your search criteria.":"When people contact you about your listings, their inquiries will appear here."}),_&&e.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear Filters"})]}):e.jsxs("div",{className:"space-y-4",children:[P.length>0&&e.jsx("div",{className:"bg-white rounded-lg px-6 py-3 shadow border border-gray-200 flex items-center",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w.length===P.length&&P.length>0,onChange:Y,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select All"})]})}),P.map(z=>e.jsx("div",{className:`bg-white rounded-xl shadow-lg border-2 transition-all duration-200 hover:shadow-xl ${z.agent_read?w.includes(z.inquiry_id)?"border-blue-500":"border-gray-200":"border-blue-300 bg-blue-50/30"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"pt-1",children:e.jsx("input",{type:"checkbox",checked:w.includes(z.inquiry_id),onChange:ie=>{ie.target.checked?j([...w,z.inquiry_id]):j(w.filter(oe=>oe!==z.inquiry_id))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onClick:ie=>ie.stopPropagation()})}),!z.agent_read&&e.jsx("div",{className:"pt-1",children:e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})}),z.property_info.thumbnail_url&&e.jsx("img",{src:z.property_info.thumbnail_url,alt:z.property_info.title,className:"w-20 h-20 rounded-lg object-cover border border-gray-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:z.inquirer_name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${ne(z.status)}`,children:ue(z.status)}),z.viewing_requested&&e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 border border-orange-200 text-xs font-semibold rounded-full",children:"Viewing Requested"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[z.inquirer_email,z.inquirer_phone&&`  ${z.inquirer_phone}`]})]}),e.jsx("div",{className:"text-right text-sm text-gray-500",children:B(z.created_at)})]}),e.jsxs(I,{to:`/property/${z.property_id}`,className:"block mb-2 hover:underline",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:z.property_info.address_street}),e.jsx("p",{className:"text-sm text-gray-600",children:Z(z.property_info.price)})]}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-3",children:z.message}),z.viewing_requested&&z.preferred_viewing_date&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg px-3 py-2 mb-3",children:e.jsxs("p",{className:"text-sm text-orange-900",children:[e.jsx("span",{className:"font-semibold",children:"Preferred Viewing:"})," ",new Date(z.preferred_viewing_date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),z.preferred_viewing_time&&` at ${z.preferred_viewing_time}`]})}),z.replies.length>0&&e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[z.replies.length," ",z.replies.length===1?"reply":"replies"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>W(z.inquiry_id,z),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm hover:shadow-md",children:"View & Reply"}),e.jsx("a",{href:`mailto:${z.inquirer_email}`,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:"Email Direct"}),z.inquirer_phone&&e.jsx("a",{href:`tel:${z.inquirer_phone}`,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:"Call"})]})]})]})})},z.inquiry_id))]})]}),d.is_open&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Inquiry Details"}),e.jsx("button",{onClick:O,className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 80px)"},children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[M.property_info.thumbnail_url&&e.jsx("img",{src:M.property_info.thumbnail_url,alt:M.property_info.title,className:"w-24 h-24 rounded-lg object-cover border-2 border-white shadow-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:M.property_info.address_street}),e.jsx("p",{className:"text-blue-600 font-bold text-xl mt-1",children:Z(M.property_info.price)}),e.jsx(I,{to:`/property/${M.property_id}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-2 inline-block",children:"View Listing "})]})]})}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:M.inquirer_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("a",{href:`mailto:${M.inquirer_email}`,className:"font-medium text-blue-600 hover:text-blue-700",children:M.inquirer_email})]}),M.inquirer_phone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("a",{href:`tel:${M.inquirer_phone}`,className:"font-medium text-blue-600 hover:text-blue-700",children:M.inquirer_phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Received"}),e.jsx("p",{className:"font-medium text-gray-900",children:B(M.created_at)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Original Message"}),e.jsx("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-200",children:e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:M.message})})]}),M.viewing_requested&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-semibold text-orange-900 mb-2 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Viewing Request"]}),M.preferred_viewing_date&&e.jsxs("p",{className:"text-orange-900",children:[e.jsx("span",{className:"font-medium",children:"Preferred Date:"})," ",new Date(M.preferred_viewing_date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),M.preferred_viewing_time&&e.jsxs("p",{className:"text-orange-900 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Preferred Time:"})," ",M.preferred_viewing_time]})]}),M.replies.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Conversation"}),e.jsx("div",{className:"space-y-4",children:M.replies.map(z=>e.jsxs("div",{className:`rounded-xl p-4 ${z.sender_type==="agent"?"bg-blue-50 border-2 border-blue-200 ml-8":"bg-gray-50 border-2 border-gray-200 mr-8"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:z.sender_type==="agent"?"You":M.inquirer_name}),e.jsx("span",{className:"text-xs text-gray-500",children:B(z.created_at)})]}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:z.message})]},z.reply_id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:h.submit_success?"Reply Sent!":"Send Reply"}),h.submit_success?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-green-600 mb-3",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Reply Sent Successfully!"}),e.jsxs("p",{className:"text-green-700 mb-4",children:["Your reply has been sent to ",M.inquirer_name,"."]}),e.jsx("button",{onClick:()=>g(z=>({...z,submit_success:!1,message:""})),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Send Another Reply"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Templates"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>D("thank_you"),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors border border-gray-300",children:"Thank You"}),e.jsx("button",{type:"button",onClick:()=>D("schedule_viewing"),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors border border-gray-300",children:"Schedule Viewing"}),e.jsx("button",{type:"button",onClick:()=>D("price_negotiation"),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors border border-gray-300",children:"Discuss Terms"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"reply-message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Reply"}),e.jsx("textarea",{id:"reply-message",rows:6,value:h.message,onChange:z=>{g(ie=>({...ie,message:z.target.value,submit_error:null}))},placeholder:"Type your reply here...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.message.length," / 5000 characters"]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.include_signature,onChange:z=>g(ie=>({...ie,include_signature:z.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include my email signature"})]})}),h.submit_error&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg px-4 py-3",children:e.jsx("p",{className:"text-sm text-red-700",children:h.submit_error})}),e.jsx("button",{onClick:te,disabled:h.submitting||!h.message.trim(),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:h.submitting?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reply..."]}):"Send Reply"})]})]})]})})]})})]})})},A2=async t=>{const s=await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/agents/${t}`);if(!s.data.approved||s.data.account_status!=="active")throw new Error("Agent profile not available");return s.data},L2=async(t,s)=>{const r={agent_id:t,status:"active",sort_by:"created_at",sort_order:"desc",limit:100};return s&&(r.listing_type=s),(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",{params:r})).data},M2=async t=>(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/inquiries",t,{headers:{"Content-Type":"application/json"}})).data,R2=()=>{const{agent_id:t}=zd(),s=Be(),r=H(S=>S.authentication_state.current_user),a=H(S=>S.show_toast),[n,i]=k.useState("all"),[l,o]=k.useState({name:(r==null?void 0:r.full_name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone_number)||"",subject:"General Inquiry",message:""}),[c,d]=k.useState({}),{data:m,isLoading:h,error:g}=Ne({queryKey:["agent-profile",t],queryFn:()=>A2(t),enabled:!!t,retry:1,staleTime:6e4}),w=n==="all"?void 0:n,{data:j,isLoading:x}=Ne({queryKey:["agent-listings",t,w],queryFn:()=>L2(t,w),enabled:!!t&&!!m,retry:1,staleTime:3e4,select:S=>({...S,data:S.data.map(b=>({...b,price:Number(b.price||0),bedrooms:Number(b.bedrooms||0),bathrooms:Number(b.bathrooms||0),square_footage:Number(b.square_footage||0)}))})}),v=be({mutationFn:M2,onSuccess:()=>{a("Message sent successfully! The agent will contact you soon.","success"),o(S=>({...S,subject:"General Inquiry",message:""})),d({})},onError:S=>{var T,Q,W;const b=((W=(Q=(T=S.response)==null?void 0:T.data)==null?void 0:Q.error)==null?void 0:W.message)||"Failed to send message. Please try again.";a(b,"error")}});cs.useEffect(()=>{g&&s("/404",{state:{message:"Agent profile not available or has been deactivated."}})},[g,s]),cs.useEffect(()=>{r&&o(S=>({...S,name:r.full_name||S.name,email:r.email||S.email,phone:r.phone_number||S.phone}))},[r]);const u=(S,b)=>{o(T=>({...T,[S]:b})),c[S]&&d(T=>{const Q={...T};return delete Q[S],Q})},p=()=>{const S={};return l.name.trim()||(S.name="Name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(S.email="Please enter a valid email address"):S.email="Email is required",l.message.trim()?l.message.trim().length<10&&(S.message="Message must be at least 10 characters"):S.message="Message is required",d(S),Object.keys(S).length===0},f=async S=>{if(S.preventDefault(),!p())return;const b={property_id:null,agent_id:m.agent_id,user_id:(r==null?void 0:r.user_id)||null,inquirer_name:l.name,inquirer_email:l.email,inquirer_phone:l.phone||"",message:l.message,viewing_requested:!1};v.mutate(b)},C=(j==null?void 0:j.data)||[],L=C.length;if(h)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"w-48 h-48 bg-gray-300 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})})})})});if(!m)return null;const A=S=>{const b=S.replace(/\D/g,"");return b.length===10?`(${b.slice(0,3)}) ${b.slice(3,6)}-${b.slice(6)}`:S},q=(S,b,T)=>{const Q=Number(S||0),W=new Intl.NumberFormat("en-US",{style:"currency",currency:b||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Q);return T==="rent"?`${W}/month`:W};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"p-6 lg:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:m.profile_photo_url?e.jsx("img",{src:m.profile_photo_url,alt:m.full_name,className:"w-32 h-32 md:w-48 md:h-48 rounded-xl object-cover shadow-lg border-4 border-white"}):e.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center shadow-lg border-4 border-white",children:e.jsx("span",{className:"text-white text-5xl md:text-6xl font-bold",children:m.full_name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:m.full_name}),m.professional_title&&e.jsx("p",{className:"text-xl text-gray-600 mt-2",children:m.professional_title}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx(oa,{className:"w-5 h-5 text-blue-600"}),e.jsx("p",{className:"text-base text-gray-700 font-medium",children:m.agency_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Et,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("a",{href:`tel:${m.phone_number}`,className:"text-gray-900 hover:text-blue-600 transition-colors font-medium",children:A(m.phone_number)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("a",{href:`mailto:${m.email}`,className:"text-gray-900 hover:text-blue-600 transition-colors font-medium truncate",children:m.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:[m.office_address_city,", ",m.office_address_state]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nj,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["License: ",m.license_number]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[e.jsxs("a",{href:`tel:${m.phone_number}`,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[e.jsx(Et,{className:"w-5 h-5"}),"Call Now"]}),e.jsxs("a",{href:`mailto:${m.email}`,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium border border-gray-300 transition-all duration-200 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Email Agent"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[e.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Listings"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:L})]}),e.jsxs("div",{className:"bg-indigo-50 px-4 py-2 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Experience"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[m.years_experience," years"]})]})]})]})]})})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16 space-y-12",children:[m.bio&&e.jsx("section",{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["About ",m.full_name]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:m.bio})})]})}),e.jsx("section",{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.specializations&&m.specializations.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Hm,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Specializations"})]}),e.jsx("ul",{className:"space-y-2",children:m.specializations.map((S,b)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[e.jsx(qc,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:S})]},b))})]}),m.service_areas&&m.service_areas.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(nt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Service Areas"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.service_areas.map((S,b)=>e.jsx(I,{to:`/search?location=${encodeURIComponent(S)}`,className:"px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg text-sm font-medium transition-colors",children:S},b))})]}),m.languages_spoken&&m.languages_spoken.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx($j,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Languages"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.languages_spoken.map((S,b)=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:S},b))})]})]})}),e.jsx("section",{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Active Listings"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["(",L," ",L===1?"property":"properties",")"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${n==="all"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>i("sale"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${n==="sale"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"For Sale"}),e.jsx("button",{onClick:()=>i("rent"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${n==="rent"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"For Rent"})]})]}),x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(S=>e.jsx("div",{className:"bg-gray-100 rounded-xl h-80 animate-pulse"},S))}):C.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(S=>{var b,T;return e.jsxs(I,{to:`/property/${S.property_id}`,className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-200 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-200",children:[(b=S.primary_photo)!=null&&b.thumbnail_url||(T=S.primary_photo)!=null&&T.image_url?e.jsx("img",{src:S.primary_photo.thumbnail_url||S.primary_photo.image_url,alt:S.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-300 to-gray-400",children:e.jsx(ve,{className:"w-16 h-16 text-gray-500"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:`px-3 py-1 rounded-lg text-xs font-semibold shadow-lg ${S.listing_type==="sale"?"bg-green-600 text-white":"bg-purple-600 text-white"}`,children:["For ",S.listing_type==="sale"?"Sale":"Rent"]})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx($a,{className:"w-5 h-5 text-blue-600"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:q(S.price,S.currency,S.listing_type)})]}),e.jsx("p",{className:"text-gray-900 font-medium line-clamp-1",children:S.address_street}),e.jsxs("p",{className:"text-sm text-gray-600",children:[S.address_city,", ",S.address_state]}),e.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Vr,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Number(S.bedrooms)," bd"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Number(S.bathrooms)," ba"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(On,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Number(S.square_footage).toLocaleString()," sqft"]})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:S.property_type.charAt(0).toUpperCase()+S.property_type.slice(1)})})]})]},S.property_id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Listings"}),e.jsxs("p",{className:"text-gray-600",children:[m.full_name," currently has no active listings."]}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Check back soon for new properties!"})]})]})}),e.jsx("section",{id:"contact",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Get in Touch with ",m.full_name]}),v.isSuccess?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qc,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Message Sent!"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Your message has been sent to ",m.full_name,". They'll get back to you shortly."]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"You can also reach out directly:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs("a",{href:`tel:${m.phone_number}`,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),A(m.phone_number)]}),e.jsxs("a",{href:`mailto:${m.email}`,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),m.email]})]})]}),e.jsx("button",{onClick:()=>{v.reset(),o(S=>({...S,subject:"General Inquiry",message:""}))},className:"mt-6 text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-2",children:"Your Name *"}),e.jsx("input",{type:"text",id:"name",value:l.name,onChange:S=>u("name",S.target.value),placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${c.name?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),c.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-2",children:"Your Email *"}),e.jsx("input",{type:"email",id:"email",value:l.email,onChange:S=>u("email",S.target.value),placeholder:"your.email@example.com",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${c.email?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),c.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-900 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:l.phone,onChange:S=>u("phone",S.target.value),placeholder:"(123) 456-7890",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-900 mb-2",children:"Subject"}),e.jsxs("select",{id:"subject",value:l.subject,onChange:S=>u("subject",S.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),e.jsx("option",{value:"I want to sell my property",children:"I want to sell my property"}),e.jsx("option",{value:"I'm looking to buy",children:"I'm looking to buy"}),e.jsx("option",{value:"I'm looking to rent",children:"I'm looking to rent"}),e.jsx("option",{value:"Schedule a consultation",children:"Schedule a consultation"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-900 mb-2",children:"Your Message *"}),e.jsx("textarea",{id:"message",rows:5,value:l.message,onChange:S=>u("message",S.target.value),placeholder:"Tell the agent about your real estate needs...",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 resize-none ${c.message?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),c.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.message}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[l.message.length," / 2000 characters"]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",disabled:v.isPending,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"w-5 h-5"}),"Send Message"]})}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 text-center",children:"By submitting, you agree to our Terms of Service and Privacy Policy"})]})]})]})}),m.certifications&&m.certifications.length>0&&e.jsx("section",{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Certifications & Credentials"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m.certifications.map((S,b)=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Hm,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-gray-900 font-medium",children:S})]},b))})]})})]})]})},T2=()=>{const t=H(y=>y.authentication_state.current_agent),s=H(y=>y.authentication_state.agent_auth_token),r=H(y=>y.show_toast),a=H(y=>y.change_password),n=H(y=>y.update_agent_notification_preferences),i=H(y=>y.logout),l=Wt(),[o,c]=k.useState("security"),[d,m]=k.useState(!1),[h,g]=k.useState(!1),[w,j]=k.useState(!1),[x,v]=k.useState(""),[u,p]=k.useState({current_password:"",new_password:"",confirm_new_password:""}),[f,C]=k.useState({}),{data:L,isLoading:A,error:q}=Ne({queryKey:["agent-notification-preferences",t==null?void 0:t.agent_id],queryFn:async()=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/agents/notification-preferences",{headers:{Authorization:`Bearer ${s}`}})).data,enabled:!!s&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),S=be({mutationFn:async y=>{await a(y.current_password,y.new_password)},onSuccess:()=>{p({current_password:"",new_password:"",confirm_new_password:""}),C({}),r("Password changed successfully","success")},onError:y=>{const N=y.message||"Failed to change password";N.includes("current password")?C({current_password:"Current password is incorrect"}):r(N,"error")}}),b=be({mutationFn:async y=>(await n(y),y),onSuccess:()=>{l.invalidateQueries({queryKey:["agent-notification-preferences"]})},onError:y=>{r(y.message||"Failed to update preferences","error")}}),T=be({mutationFn:async y=>(await G.post("https://123real-estate-listing-site-with.launchpulse.ai/api/auth/change-password",{current_password:y,new_password:y},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}),(await G.delete("https://123real-estate-listing-site-with.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${s}`}})).data),onSuccess:()=>{r("Account deleted successfully","success"),i()},onError:y=>{var N,P,K;r(((K=(P=(N=y.response)==null?void 0:N.data)==null?void 0:P.error)==null?void 0:K.message)||"Failed to delete account","error")}}),Q=async y=>{y.preventDefault(),C({});const N={};if(u.current_password||(N.current_password="Current password is required"),u.new_password?u.new_password.length<8&&(N.new_password="Password must be at least 8 characters"):N.new_password="New password is required",u.new_password!==u.confirm_new_password&&(N.confirm_new_password="Passwords do not match"),Object.keys(N).length>0){C(N);return}S.mutate({current_password:u.current_password,new_password:u.new_password})},W=(y,N)=>{b.mutate({[y]:N})},O=async()=>{if(!x){r("Please enter your password to confirm","warning");return}T.mutate(x)},te=async()=>{if(!("Notification"in window)){r("Browser notifications not supported","error");return}await Notification.requestPermission()==="granted"?(W("browser_notifications_enabled",!0),r("Browser notifications enabled","success")):r("Notification permission denied","warning")},D=y=>{let N=0;return y.length>=8&&N++,y.length>=12&&N++,/[a-z]/.test(y)&&/[A-Z]/.test(y)&&N++,/\d/.test(y)&&N++,/[^a-zA-Z\d]/.test(y)&&N++,N<=2?{strength:N,label:"Weak",color:"bg-red-500"}:N<=4?{strength:N,label:"Medium",color:"bg-yellow-500"}:{strength:N,label:"Strong",color:"bg-green-500"}},Y=u.new_password?D(u.new_password):null;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your security settings and notification preferences"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>c("security"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${o==="security"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[e.jsx(si,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Security"})]}),e.jsxs("button",{onClick:()=>c("notifications"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${o==="notifications"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[e.jsx(bp,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Notifications"})]}),e.jsxs("button",{onClick:()=>c("account"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${o==="account"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Account"})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[o==="security"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 lg:px-8 py-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your password and security preferences"})]}),e.jsx("div",{className:"px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Change Password"}),e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-900 mb-2",children:"Current Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",id:"current_password",value:u.current_password,onChange:y=>{p(N=>({...N,current_password:y.target.value})),C(N=>({...N,current_password:""}))},className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${f.current_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Enter your current password"}),e.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),f.current_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),f.current_password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-900 mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",id:"new_password",value:u.new_password,onChange:y=>{p(N=>({...N,new_password:y.target.value})),C(N=>({...N,new_password:""}))},className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${f.new_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Enter new password (min 8 characters)"}),e.jsx("button",{type:"button",onClick:()=>g(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),u.new_password&&Y&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),e.jsx("span",{className:`text-xs font-medium ${Y.label==="Weak"?"text-red-600":Y.label==="Medium"?"text-yellow-600":"text-green-600"}`,children:Y.label})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${Y.color}`,style:{width:`${Y.strength/5*100}%`}})})]}),f.new_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),f.new_password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_new_password",className:"block text-sm font-medium text-gray-900 mb-2",children:"Confirm New Password *"}),e.jsx("input",{type:"password",id:"confirm_new_password",value:u.confirm_new_password,onChange:y=>{p(N=>({...N,confirm_new_password:y.target.value})),C(N=>({...N,confirm_new_password:""}))},className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${f.confirm_new_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Confirm your new password"}),f.confirm_new_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),f.confirm_new_password]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{p({current_password:"",new_password:"",confirm_new_password:""}),C({})},className:"px-6 py-3 rounded-lg font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S.isPending,className:"px-6 py-3 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):"Change Password"})]})]})]})})]}),o==="notifications"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 lg:px-8 py-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Control how and when you receive notifications about your listings and inquiries"})]}),e.jsx("div",{className:"px-6 lg:px-8 py-8",children:A?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"})]})}):q?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700",children:"Failed to load notification preferences"})}):L?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"New inquiry received"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Get notified when someone contacts you about a property"})]}),e.jsx("button",{onClick:()=>W("new_inquiry_received",!L.new_inquiry_received),disabled:b.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L.new_inquiry_received?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${L.new_inquiry_received?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Inquirer replied to my response"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Follow-up messages from property seekers"})]}),e.jsx("button",{onClick:()=>W("inquirer_replied",!L.inquirer_replied),disabled:b.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L.inquirer_replied?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${L.inquirer_replied?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Property view milestones"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Notifications at 50, 100, 500+ views per listing"})]}),e.jsx("button",{onClick:()=>W("property_view_milestones",!L.property_view_milestones),disabled:b.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L.property_view_milestones?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${L.property_view_milestones?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Monthly performance report"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Summary of views, inquiries, and sales each month"})]}),e.jsx("button",{onClick:()=>W("monthly_report",!L.monthly_report),disabled:b.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L.monthly_report?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${L.monthly_report?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Platform updates and tips"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"New features, best practices, and platform news"})]}),e.jsx("button",{onClick:()=>W("platform_updates",!L.platform_updates),disabled:b.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${L.platform_updates?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${L.platform_updates?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Frequency"}),e.jsx("div",{className:"space-y-3",children:["instant","daily","weekly"].map(y=>e.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${L.notification_frequency===y?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"notification_frequency",value:y,checked:L.notification_frequency===y,onChange:()=>W("notification_frequency",y),disabled:b.isPending,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block font-medium text-gray-900 capitalize",children:y}),e.jsxs("span",{className:"block text-sm text-gray-600",children:[y==="instant"&&"Receive emails immediately as events occur",y==="daily"&&"Daily digest with all updates from the day",y==="weekly"&&"Weekly summary every Monday morning"]})]})]},y))})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Browser Notifications"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Desktop notifications"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Show browser notifications for new inquiries when dashboard is open"})]}),L.browser_notifications_enabled?e.jsx("button",{onClick:()=>W("browser_notifications_enabled",!1),disabled:b.isPending,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-blue-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 translate-x-6"})}):e.jsx("button",{onClick:te,disabled:b.isPending,className:"px-4 py-2 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200 text-sm disabled:opacity-50",children:"Enable"})]})]})]}):null})]})}),o==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 lg:px-8 py-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Information"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your account details and settings"})]}),e.jsx("div",{className:"px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Email Address"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500"}),e.jsx("button",{type:"button",onClick:()=>r("Email change requires re-verification. Contact support to change your email.","info",5e3),className:"px-4 py-3 rounded-lg font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:"Change Email"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Changing your email requires verification. You'll need to verify the new email address."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:(t==null?void 0:t.license_number)||"",disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"License State"}),e.jsx("input",{type:"text",value:(t==null?void 0:t.license_state)||"",disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 lg:px-8 py-6 border-b border-red-200 bg-red-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"Danger Zone"}),e.jsx("p",{className:"mt-2 text-sm text-red-700",children:"Irreversible actions that affect your account"})]}),e.jsx("div",{className:"px-6 lg:px-8 py-8",children:e.jsx("div",{className:"max-w-2xl",children:e.jsxs("div",{className:"border border-red-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete your agent account, all your listings, and data. This action cannot be undone."}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"All your property listings will be removed"}),e.jsx("li",{children:"Inquiry history will be lost"}),e.jsx("li",{children:"Analytics and performance data will be deleted"}),e.jsx("li",{children:"Your profile will no longer be visible to users"})]})]}),e.jsx(ws,{className:"w-6 h-6 text-red-600 flex-shrink-0 ml-4"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-red-100",children:e.jsx("button",{onClick:()=>j(!0),className:"px-6 py-3 rounded-lg font-medium text-white bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Delete My Account"})})]})})})]})]})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:()=>{j(!1),v("")}}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-6 pt-6 pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(we,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",id:"modal-title",children:"Delete Account?"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will permanently delete your agent account and all associated data. This action cannot be undone."}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"This will delete:"}),e.jsxs("ul",{className:"text-sm text-red-700 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"All your property listings"}),e.jsx("li",{children:"Inquiry history and conversations"}),e.jsx("li",{children:"Analytics and performance data"}),e.jsx("li",{children:"Your public agent profile"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delete_password",className:"block text-sm font-medium text-gray-900 mb-2",children:"Confirm with your password *"}),e.jsx("input",{type:"password",id:"delete_password",value:x,onChange:y=>v(y.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-red-500 focus:ring-4 focus:ring-red-100",placeholder:"Enter your password"})]})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 sm:flex sm:flex-row-reverse space-y-3 sm:space-y-0 sm:space-x-3 sm:space-x-reverse",children:[e.jsx("button",{type:"button",onClick:O,disabled:T.isPending||!x,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-6 py-3 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:T.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete Account"}),e.jsx("button",{type:"button",onClick:()=>{j(!1),v("")},className:"w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-6 py-3 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm transition-all duration-200",children:"Cancel"})]})]})]})}),b.isPending&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-40",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-2xl flex items-center space-x-3",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Saving preferences..."})]})})]})})},q2=async t=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/pending",{params:{limit:5,offset:0,sort_by:"created_at",sort_order:"desc"},headers:{Authorization:`Bearer ${t}`}})).data.data,$2=async t=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/property-reports",{params:{status:"pending",limit:5,offset:0},headers:{Authorization:`Bearer ${t}`}})).data.data,z2=async t=>{try{const[s,r,a,n]=await Promise.all([G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents",{params:{limit:1,offset:0},headers:{Authorization:`Bearer ${t}`}}),G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/pending",{params:{limit:1,offset:0},headers:{Authorization:`Bearer ${t}`}}),G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",{params:{limit:1,offset:0},headers:{Authorization:`Bearer ${t}`}}),G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/property-reports",{params:{status:"pending",limit:1,offset:0},headers:{Authorization:`Bearer ${t}`}})]);return{total_agents:s.data.pagination.total,pending_approvals:r.data.pagination.total,total_properties:a.data.pagination.total,total_users:0,total_inquiries:0,reports_pending:n.data.pagination.total,featured_listings_count:0}}catch(s){return console.error("Error fetching dashboard stats:",s),{total_agents:0,pending_approvals:0,total_properties:0,total_users:0,total_inquiries:0,reports_pending:0,featured_listings_count:0}}},D2=async(t,s)=>{await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/${t}/approve`,{welcome_message:null},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})},O2=()=>{const t=H(u=>u.authentication_state.admin_auth_token),s=H(u=>u.authentication_state.current_admin),r=H(u=>u.authentication_state.authentication_status.is_admin_authenticated),a=H(u=>u.show_toast),n=Wt();k.useEffect(()=>{r||(window.location.href="/admin/login")},[r]);const{data:i,isLoading:l,error:o}=Ne({queryKey:["admin-dashboard-stats"],queryFn:()=>z2(t),enabled:!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:c,isLoading:d,error:m}=Ne({queryKey:["recent-agent-applications"],queryFn:()=>q2(t),enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!1}),{data:h,isLoading:g,error:w}=Ne({queryKey:["recent-property-reports"],queryFn:()=>$2(t),enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!1}),j=be({mutationFn:u=>D2(u,t),onSuccess:()=>{n.invalidateQueries({queryKey:["recent-agent-applications"]}),n.invalidateQueries({queryKey:["admin-dashboard-stats"]}),a("Agent approved successfully","success")},onError:u=>{var f,C,L;const p=((L=(C=(f=u.response)==null?void 0:f.data)==null?void 0:C.error)==null?void 0:L.message)||"Failed to approve agent";a(p,"error")}}),x=u=>{window.confirm("Approve this agent application?")&&j.mutate(u)},v=u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",s==null?void 0:s.full_name]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:(s==null?void 0:s.role)||"Admin"})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Platform Overview"}),l?e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(7)].map((u,p)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]},p))}):o?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsx("p",{className:"text-red-700 text-sm",children:"Failed to load statistics"})}):e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Agents"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.total_agents)||0})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),e.jsx(I,{to:"/admin/agent-approvals",className:"block",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pending Approvals"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(i==null?void 0:i.pending_approvals)||0})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Properties"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.total_properties)||0})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})]})}),e.jsx(I,{to:"/admin/reported-listings",className:"block",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Reports Pending"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:(i==null?void 0:i.reports_pending)||0})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.total_users)||0})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Inquiries"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.total_inquiries)||0})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),e.jsx(I,{to:"/admin/featured-listings",className:"block",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Featured Listings"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.featured_listings_count)||0})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(I,{to:"/admin/agent-approvals",className:"bg-white rounded-lg shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Agent Approvals"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Review applications"})]})]})}),e.jsx(I,{to:"/admin/reported-listings",className:"bg-white rounded-lg shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-red-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Reported Listings"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Moderate content"})]})]})}),e.jsx(I,{to:"/admin/featured-listings",className:"bg-white rounded-lg shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-yellow-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Featured Listings"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage homepage"})]})]})}),e.jsx(I,{to:"/admin/agents",className:"bg-white rounded-lg shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"All Agents"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage accounts"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Agent Applications"}),e.jsx(I,{to:"/admin/agent-approvals",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"View All"})]})}),d?e.jsx("div",{className:"p-6 space-y-4",children:[...Array(3)].map((u,p)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},p))}):m?e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to load applications"})}):c&&c.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:c.map(u=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[u.profile_photo_url?e.jsx("img",{src:u.profile_photo_url,alt:u.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium text-sm",children:u.full_name.split(" ").map(p=>p[0]).join("").toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.full_name}),e.jsx("p",{className:"text-xs text-gray-600",children:u.agency_name})]})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"License:"})," ",u.license_number," (",u.license_state,")"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Experience:"})," ",u.years_experience," years"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Applied ",v(u.created_at)]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsx("button",{onClick:()=>x(u.agent_id),disabled:j.isPending,className:"px-4 py-2 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j.isPending?"Approving...":"Approve"}),e.jsx(I,{to:"/admin/agent-approvals",className:"px-4 py-2 bg-gray-100 text-gray-700 text-xs font-medium rounded-lg hover:bg-gray-200 transition-colors text-center",children:"Review"})]})]})},u.agent_id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-sm text-gray-600",children:"No pending applications"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"New agent applications will appear here"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Reports"}),e.jsx(I,{to:"/admin/reported-listings",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"View All"})]})}),g?e.jsx("div",{className:"p-6 space-y-4",children:[...Array(3)].map((u,p)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},p))}):w?e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to load reports"})}):h&&h.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:h.map(u=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded",children:u.reason}),e.jsx("span",{className:"text-xs text-gray-500",children:v(u.created_at)})]}),e.jsxs("p",{className:"text-sm text-gray-900 mb-1",children:["Property ID: ",e.jsx("span",{className:"font-mono text-xs text-gray-600",children:u.property_id})]}),u.details&&e.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:u.details}),u.reporter_email&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reported by: ",u.reporter_email]})]}),e.jsx(I,{to:"/admin/reported-listings",className:"ml-4 px-4 py-2 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Review"})]})},u.report_id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-sm text-gray-600",children:"No pending reports"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Property reports will appear here"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(I,{to:"/admin/agents",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"All Agents"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage agent accounts"})]})]}),e.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-gray-200 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Analytics"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Coming soon"})]})]}),e.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-gray-200 rounded-lg",children:e.jsxs("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Settings"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Coming soon"})]})]}),e.jsxs(I,{to:"/",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Public Site"}),e.jsx("p",{className:"text-xs text-gray-600",children:"See user experience"})]})]})]})]})]})]})}):null},I2=()=>{var T,Q,W;const[t,s]=es(),r=t.get("status")||"pending",a=H(O=>O.authentication_state.admin_auth_token),n=H(O=>O.authentication_state.current_admin),i=H(O=>O.authentication_state.authentication_status.is_admin_authenticated),l=H(O=>O.show_toast),[o,c]=k.useState(r),[d,m]=k.useState({is_open:!1,agent_id:null,action:null,welcome_message:"",rejection_reason:"",submitting:!1}),[h,g]=k.useState({is_open:!1,document_url:null}),w=Wt(),{data:j,isLoading:x,error:v,refetch:u}=Ne({queryKey:["admin","agents",o],queryFn:async()=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/pending",{headers:{Authorization:`Bearer ${a}`},params:{approval_status:o,limit:100,offset:0}})).data.data,enabled:!!a&&i,staleTime:3e4,refetchOnWindowFocus:!1}),p=be({mutationFn:async({agent_id:O,welcome_message:te})=>(await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/${O}/approve`,{welcome_message:te||void 0},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data,onSuccess:()=>{w.invalidateQueries({queryKey:["admin","agents"]}),m({is_open:!1,agent_id:null,action:null,welcome_message:"",rejection_reason:"",submitting:!1}),l("Agent approved successfully. Welcome email sent.","success")},onError:O=>{var D,Y,y;const te=((y=(Y=(D=O.response)==null?void 0:D.data)==null?void 0:Y.error)==null?void 0:y.message)||"Failed to approve agent";l(te,"error"),m(N=>({...N,submitting:!1}))}}),f=be({mutationFn:async({agent_id:O,rejection_reason:te})=>(await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/admin/agents/${O}/reject`,{rejection_reason:te,message:null},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data,onSuccess:()=>{w.invalidateQueries({queryKey:["admin","agents"]}),m({is_open:!1,agent_id:null,action:null,welcome_message:"",rejection_reason:"",submitting:!1}),l("Agent application rejected. Notification email sent.","success")},onError:O=>{var D,Y,y;const te=((y=(Y=(D=O.response)==null?void 0:D.data)==null?void 0:Y.error)==null?void 0:y.message)||"Failed to reject agent";l(te,"error"),m(N=>({...N,submitting:!1}))}}),C=O=>{c(O),s({status:O})},L=O=>{g({is_open:!0,document_url:O})},A=(O,te)=>{m({is_open:!0,agent_id:O,action:te,welcome_message:"",rejection_reason:"",submitting:!1})},q=()=>{m({is_open:!1,agent_id:null,action:null,welcome_message:"",rejection_reason:"",submitting:!1})},S=async()=>{if(d.agent_id){if(m(O=>({...O,submitting:!0})),d.action==="approve")await p.mutateAsync({agent_id:d.agent_id,welcome_message:d.welcome_message});else if(d.action==="reject"){if(!d.rejection_reason.trim()){l("Please provide a rejection reason","error"),m(O=>({...O,submitting:!1}));return}await f.mutateAsync({agent_id:d.agent_id,rejection_reason:d.rejection_reason})}}},b=O=>{const te=new Date(O);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(te)};return k.useEffect(()=>{i||(window.location.href="/admin/login")},[i]),i?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(I,{to:"/admin/dashboard",className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Approvals"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Admin: ",n==null?void 0:n.full_name]}),e.jsx(I,{to:"/admin/dashboard",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Dashboard"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter by Status"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(j==null?void 0:j.length)||0," agent",(j==null?void 0:j.length)!==1?"s":""," found"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:o,onChange:O=>C(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm font-medium text-gray-700 bg-white",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{onClick:()=>u(),disabled:x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx("svg",{className:`w-4 h-4 ${x?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Agents"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:((W=(Q=(T=v==null?void 0:v.response)==null?void 0:T.data)==null?void 0:Q.error)==null?void 0:W.message)||"Failed to load agents. Please try again."}),e.jsx("button",{onClick:()=>u(),className:"mt-3 px-4 py-2 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200 transition-colors",children:"Retry"})]})]})}),x&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading agents..."})]})}),!x&&!v&&(!j||j.length===0)&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["No ",o==="pending"?"Pending":o==="approved"?"Approved":"Rejected"," Agents"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:o==="pending"?"You're all caught up! No agents awaiting approval.":`No ${o} agents found.`}),o!=="pending"&&e.jsx("button",{onClick:()=>C("pending"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"View Pending Agents"})]})}),!x&&!v&&j&&j.length>0&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Agent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"License"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Agency"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Applied"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Documentation"}),o==="pending"&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:O.profile_photo_url?e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:O.profile_photo_url,alt:O.full_name}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:O.full_name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.full_name}),O.professional_title&&e.jsx("div",{className:"text-sm text-gray-500",children:O.professional_title})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:O.email}),e.jsx("div",{className:"text-sm text-gray-500",children:O.phone_number})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.license_number}),e.jsx("div",{className:"text-sm text-gray-500",children:O.license_state})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.agency_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[O.office_address_city,", ",O.office_address_state]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(O.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.license_document_url?e.jsxs("button",{onClick:()=>L(O.license_document_url),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View License"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"No document"})}),o==="pending"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("button",{onClick:()=>A(O.agent_id,"approve"),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]}),e.jsxs("button",{onClick:()=>A(O.agent_id,"reject"),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})]})})]},O.agent_id))})]})})})]}),h.is_open&&h.document_url&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>g({is_open:!1,document_url:null})}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"License Documentation"}),e.jsx("button",{onClick:()=>g({is_open:!1,document_url:null}),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:h.document_url.toLowerCase().endsWith(".pdf")?e.jsx("iframe",{src:h.document_url,className:"w-full h-[600px] border border-gray-200 rounded-lg",title:"License Document"}):e.jsx("img",{src:h.document_url,alt:"License Document",className:"w-full h-auto rounded-lg border border-gray-200"})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>g({is_open:!1,document_url:null}),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Close"})})]})]})}),d.is_open&&d.agent_id&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:d.submitting?void 0:q}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d.action==="approve"?"Approve Agent Application":"Reject Agent Application"})}),e.jsx("div",{className:"p-6",children:d.action==="approve"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to approve this agent? They will receive a welcome email and gain access to the agent dashboard."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"welcome_message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message (Optional)"}),e.jsx("textarea",{id:"welcome_message",value:d.welcome_message,onChange:O=>m(te=>({...te,welcome_message:O.target.value})),placeholder:"Add a personalized welcome message...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This message will be included in the approval email"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this application. The agent will receive an email with your explanation."}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"rejection_reason",className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{id:"rejection_reason",value:d.rejection_reason,onChange:O=>m(te=>({...te,rejection_reason:O.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select reason..."}),e.jsx("option",{value:"Invalid license",children:"Invalid license"}),e.jsx("option",{value:"Unable to verify credentials",children:"Unable to verify credentials"}),e.jsx("option",{value:"Incomplete application",children:"Incomplete application"}),e.jsx("option",{value:"Duplicate account",children:"Duplicate account"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:q,disabled:d.submitting,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:d.submitting||d.action==="reject"&&!d.rejection_reason.trim(),className:`px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${d.action==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:d.submitting?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):d.action==="approve"?"Approve Agent":"Reject Application"})]})]})]})})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Verifying authentication..."})]})})})},B2=()=>{const t=H($=>$.authentication_state.admin_auth_token),s=H($=>$.show_toast),[r,a]=k.useState(!1),[n,i]=k.useState(""),[l,o]=k.useState(null),[c,d]=k.useState(null),[m,h]=k.useState(null),[g,w]=k.useState([]),j=Wt(),x="https://123real-estate-listing-site-with.launchpulse.ai",{data:v,isLoading:u,error:p,refetch:f}=Ne({queryKey:["admin-featured-listings"],queryFn:async()=>(await G.get(`${x}/api/admin/featured-listings`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!t,staleTime:3e5,refetchOnWindowFocus:!1,select:$=>({...$,data:$.data.map(F=>({...F,price:Number(F.price||0),bedrooms:Number(F.bedrooms||0),bathrooms:Number(F.bathrooms||0),square_footage:Number(F.square_footage||0),featured_order:Number(F.featured_order||0)}))})}),{data:C,isLoading:L}=Ne({queryKey:["admin-search-properties",n],queryFn:async()=>(await G.get(`${x}/api/properties`,{params:{query:n||void 0,status:"active",is_featured:!1,limit:10,sort_by:"created_at",sort_order:"desc"},headers:{Authorization:`Bearer ${t}`}})).data,enabled:r&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,select:$=>({...$,data:$.data.map(F=>({...F,price:Number(F.price||0),bedrooms:Number(F.bedrooms||0),bathrooms:Number(F.bathrooms||0),square_footage:Number(F.square_footage||0)}))})}),A=be({mutationFn:async $=>{const F=((v==null?void 0:v.data.length)||0)+1;return(await G.post(`${x}/api/admin/featured-listings`,{property_id:$,featured_until:null,featured_order:F},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).data},onSuccess:()=>{j.invalidateQueries({queryKey:["admin-featured-listings"]}),a(!1),i(""),o(null),s("Property added to featured listings","success")},onError:$=>{var M,_,B;const F=((B=(_=(M=$.response)==null?void 0:M.data)==null?void 0:_.error)==null?void 0:B.message)||"Failed to add property to featured";s(F,"error")}}),q=be({mutationFn:async $=>(await G.delete(`${x}/api/admin/featured-listings/${$}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{j.invalidateQueries({queryKey:["admin-featured-listings"]}),s("Property removed from featured listings","success")},onError:$=>{var M,_,B;const F=((B=(_=(M=$.response)==null?void 0:M.data)==null?void 0:_.error)==null?void 0:B.message)||"Failed to remove property from featured";s(F,"error")}}),S=be({mutationFn:async $=>{const F=$.map((_,B)=>({property_id:_.property_id,featured_order:B+1}));return(await G.put(`${x}/api/admin/featured-listings/reorder`,{listing_order:F},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).data},onSuccess:()=>{j.invalidateQueries({queryKey:["admin-featured-listings"]}),s("Featured listings reordered successfully","success")},onError:$=>{var M,_,B;const F=((B=(_=(M=$.response)==null?void 0:M.data)==null?void 0:_.error)==null?void 0:B.message)||"Failed to reorder featured listings";s(F,"error"),f()}});cs.useEffect(()=>{v!=null&&v.data&&w([...v.data].sort(($,F)=>($.featured_order||0)-(F.featured_order||0)))},[v]);const b=()=>{a(!0),i(""),o(null)},T=()=>{a(!1),i(""),o(null)},Q=$=>{i($)},W=$=>{o($)},O=()=>{l&&A.mutate(l)},te=$=>{window.confirm("Are you sure you want to remove this property from featured listings?")&&q.mutate($)},D=($,F)=>{d(F),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/html",$.currentTarget.innerHTML)},Y=($,F)=>{$.preventDefault(),$.dataTransfer.dropEffect="move",h(F)},y=()=>{h(null)},N=($,F)=>{if($.preventDefault(),!c)return;const M=g.findIndex(Z=>Z.property_id===c);if(M===-1||M===F){d(null),h(null);return}const _=[...g],[B]=_.splice(M,1);_.splice(F,0,B),w(_),d(null),h(null),S.mutate(_)},P=()=>{d(null),h(null)},K=($,F)=>new Intl.NumberFormat("en-US",{style:"currency",currency:F||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format($);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Featured Listings Management"}),e.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Manage which properties appear prominently on the homepage"})]}),e.jsxs(I,{to:"/admin/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Featured"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length})]}),e.jsx("div",{className:"h-12 w-px bg-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Max Allowed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>f(),disabled:u,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200 disabled:opacity-50",children:[e.jsx("svg",{className:`w-5 h-5 mr-2 ${u?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),e.jsxs("button",{onClick:b,disabled:g.length>=12,className:"inline-flex items-center px-6 py-3 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Featured Listing"]})]})]}),g.length>=12&&e.jsx("p",{className:"mt-4 text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:"Maximum of 12 featured listings reached. Remove a listing to add another."})]}),u&&e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("svg",{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-gray-600",children:"Loading featured listings..."})]}),p&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-red-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Featured Listings"}),e.jsx("p",{className:"text-red-700 mb-4",children:"There was an error loading the featured listings."}),e.jsxs("button",{onClick:()=>f(),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retry"]})]}),!u&&!p&&g.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Featured Listings Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add properties to showcase on the homepage"}),e.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Your First Featured Listing"]})]}),!u&&!p&&g.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Drag and drop to reorder. First position appears at the top of the homepage."]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(($,F)=>{var M,_;return e.jsxs("div",{draggable:!0,onDragStart:B=>D(B,$.property_id),onDragOver:B=>Y(B,F),onDragLeave:y,onDrop:B=>N(B,F),onDragEnd:P,className:`
                      bg-white rounded-xl shadow-lg border-2 overflow-hidden transition-all duration-200 cursor-move
                      ${c===$.property_id?"opacity-50 scale-95":"hover:shadow-xl"}
                      ${m===F&&c!==$.property_id?"border-blue-500 scale-105":"border-gray-100"}
                    `,children:[e.jsxs("div",{className:"absolute top-3 left-3 z-10 bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-bold shadow-lg",children:["#",F+1]}),e.jsx("button",{onClick:()=>te($.property_id),disabled:q.isPending,className:"absolute top-3 right-3 z-10 bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors shadow-lg disabled:opacity-50",title:"Remove from featured",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[(M=$.primary_photo)!=null&&M.thumbnail_url||(_=$.primary_photo)!=null&&_.image_url?e.jsx("img",{src:$.primary_photo.thumbnail_url||$.primary_photo.image_url,alt:$.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-white opacity-0 hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:$.listing_type==="sale"?"For Sale":"For Rent"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 leading-tight",children:$.title}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-3",children:K($.price,$.currency)}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[$.address_street,", ",$.address_city,", ",$.address_state]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),$.bedrooms," bd"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})}),$.bathrooms," ba"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),$.square_footage.toLocaleString()," sqft"]})]}),$.agent_info&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Listed by: ",$.agent_info.full_name]}),e.jsxs(I,{to:`/property/${$.property_id}`,target:"_blank",className:"mt-4 inline-flex items-center text-sm text-blue-600 hover:text-blue-700 font-medium",children:["View Public Listing",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},$.property_id)})})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:T}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",id:"modal-title",children:"Add Featured Listing"}),e.jsx("button",{onClick:T,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:n,onChange:$=>Q($.target.value),placeholder:"Search by title, address, or city...",className:"block w-full pl-10 pr-3 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 sm:text-sm transition-all"})]})}),e.jsxs("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:[L&&e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Searching properties..."})]}),!L&&(C==null?void 0:C.data)&&C.data.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-gray-600",children:"No active listings found matching your search"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try a different search term"})]}),!L&&(C==null?void 0:C.data)&&C.data.length>0&&e.jsx("div",{className:"space-y-3",children:C.data.map($=>{var F,M;return e.jsx("div",{onClick:()=>W($.property_id),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                          ${l===$.property_id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}
                        `,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden bg-gray-200",children:(F=$.primary_photo)!=null&&F.thumbnail_url||(M=$.primary_photo)!=null&&M.image_url?e.jsx("img",{src:$.primary_photo.thumbnail_url||$.primary_photo.image_url,alt:$.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 line-clamp-1 mb-1",children:$.title}),e.jsx("p",{className:"text-lg font-bold text-blue-600 mb-1",children:K($.price,$.currency)}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[$.address_city,", ",$.address_state]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("span",{children:[$.bedrooms," bd"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[$.bathrooms," ba"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[$.square_footage.toLocaleString()," sqft"]})]})]}),l===$.property_id&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-blue-600 rounded-full p-1",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})},$.property_id)})})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:l?"Property selected":"Select a property to add"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:T,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:O,disabled:!l||A.isPending,className:"px-6 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add to Featured"})]})]})]})]})})]})},U2=async(t,s)=>{var a;return(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/admin/property-reports",{headers:{Authorization:`Bearer ${s}`},params:{status:(a=t.status)==null?void 0:a.join(","),reason:t.reason,limit:t.limit||20,offset:0,sort_by:t.sort_by||"created_at",sort_order:t.sort_order||"desc"}})).data},W2=async(t,s)=>(await G.get(`https://123real-estate-listing-site-with.launchpulse.ai/api/properties/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,V2=async(t,s,r)=>(await G.put(`https://123real-estate-listing-site-with.launchpulse.ai/api/admin/property-reports/${t}`,s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data,H2=()=>{var W,O,te,D,Y;const[t,s]=es(),r=H(y=>y.authentication_state.admin_auth_token),a=H(y=>y.authentication_state.authentication_status.is_admin_authenticated),n=H(y=>y.show_toast),i=Wt(),[l,o]=k.useState({status:((W=t.get("status"))==null?void 0:W.split(","))||["pending"],reason:t.get("reason")||null}),[c,d]=k.useState({is_open:!1,report_id:null,report_data:null,property_data:null,loading:!1}),[m,h]=k.useState({action:null,admin_notes:"",submitting:!1}),{data:g,isLoading:w,error:j,refetch:x}=Ne({queryKey:["admin-reported-listings",l],queryFn:()=>U2({status:l.status,reason:l.reason||void 0,limit:50},r),enabled:!!r&&a,staleTime:3e4,refetchOnWindowFocus:!1});k.useEffect(()=>{const y=new URLSearchParams;l.status.length>0&&l.status[0]!=="pending"&&y.set("status",l.status.join(",")),l.reason&&y.set("reason",l.reason),s(y,{replace:!0})},[l,s]);const v=be({mutationFn:({report_id:y,payload:N})=>V2(y,N,r),onSuccess:y=>{i.invalidateQueries({queryKey:["admin-reported-listings"]}),d({is_open:!1,report_id:null,report_data:null,property_data:null,loading:!1}),h({action:null,admin_notes:"",submitting:!1}),n(`Report ${y.status==="resolved"?"resolved":"dismissed"} successfully`,"success")},onError:y=>{var P,K,$;const N=(($=(K=(P=y.response)==null?void 0:P.data)==null?void 0:K.error)==null?void 0:$.message)||"Failed to update report";n(N,"error"),h(F=>({...F,submitting:!1}))}}),u=(y,N)=>{o(P=>({...P,[y]:N}))},p=()=>{o({status:["pending"],reason:null})},f=async y=>{d({is_open:!0,report_id:y.report_id,report_data:y,property_data:null,loading:!0});try{const N=await W2(y.property_id,r);d(P=>({...P,property_data:N,loading:!1}))}catch(N){console.error("Failed to load property details:",N),d(P=>({...P,loading:!1})),n("Failed to load property details","error")}},C=()=>{d({is_open:!1,report_id:null,report_data:null,property_data:null,loading:!1}),h({action:null,admin_notes:"",submitting:!1})},L=async()=>{if(!m.action||!c.report_id)return;h(N=>({...N,submitting:!0}));const y={status:m.action==="resolve"?"resolved":"dismissed",admin_notes:m.admin_notes||"",action_taken:m.action==="resolve"?"no_action":void 0};v.mutate({report_id:c.report_id,payload:y})},A=(g==null?void 0:g.data)||[],q=A.filter(y=>y.status==="pending").length,S=A.filter(y=>y.status==="resolved").length,b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";case"dismissed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q=y=>y.toLowerCase().includes("inappropriate")?"bg-red-100 text-red-800":y.toLowerCase().includes("incorrect")?"bg-orange-100 text-orange-800":y.toLowerCase().includes("spam")?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Content Moderation"}),e.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Review and manage reported property listings"})]}),e.jsxs(I,{to:"/admin/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reports"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-600",children:q})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:S})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:A.length})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status[0]||"pending",onChange:y=>u("status",[y.target.value]),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"dismissed",children:"Dismissed"}),e.jsx("option",{value:"",children:"All Statuses"})]})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),e.jsxs("select",{value:l.reason||"",onChange:y=>u("reason",y.target.value||null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"",children:"All Reasons"}),e.jsx("option",{value:"Incorrect Information",children:"Incorrect Information"}),e.jsx("option",{value:"Suspicious Listing",children:"Suspicious Listing"}),e.jsx("option",{value:"Inappropriate Content",children:"Inappropriate Content"}),e.jsx("option",{value:"Spam",children:"Spam"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 border-2 border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200",children:"Clear Filters"}),e.jsx("button",{onClick:()=>x(),disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:w?e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Refresh"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[w&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]}),j&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"An error occurred while loading the reported listings."}),e.jsx("button",{onClick:()=>x(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Retry"})]}),!w&&!j&&A.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reports Found"}),e.jsx("p",{className:"text-gray-600",children:l.status[0]==="pending"?"All clear! No pending reports to review.":"No reports match your current filters."})]}),!w&&!j&&A.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Property"}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Reporter"}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Reported"}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Property ID: ",y.property_id.substring(0,12),"..."]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Click to view details"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:y.reporter_email||"Anonymous"}),y.reporter_user_id&&e.jsxs("div",{className:"text-xs text-gray-500",children:["User ID: ",y.reporter_user_id.substring(0,8),"..."]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${Q(y.reason)}`,children:y.reason})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${T(y.status)}`,children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:b(y.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("button",{onClick:()=>f(y),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Review"]})})]},y.report_id))})]})})]})]}),c.is_open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Report Details"}),e.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Close modal",children:e.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"px-8 py-6 space-y-6",children:[c.report_data&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reporter"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.report_data.reporter_email||"Anonymous User"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reported On"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:b(c.report_data.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reason"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${Q(c.report_data.reason)}`,children:c.report_data.reason})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${T(c.report_data.status)}`,children:c.report_data.status.charAt(0).toUpperCase()+c.report_data.status.slice(1)})})]})]}),c.report_data.details&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Additional Details"}),e.jsx("p",{className:"mt-2 text-sm text-gray-900 leading-relaxed bg-white p-4 rounded-lg border border-gray-200",children:c.report_data.details})]}),c.report_data.admin_notes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700 bg-blue-50 p-4 rounded-lg border border-blue-200",children:c.report_data.admin_notes})]})]}),c.loading&&e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading property details..."})]}),c.property_data&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reported Property"}),e.jsxs(I,{to:`/property/${c.property_data.property_id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors duration-200",children:["View Listing",e.jsx("svg",{className:"w-4 h-4 ml-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:c.property_data.title}),e.jsxs("p",{className:"mt-1 text-lg font-semibold text-blue-600",children:["$",Number(c.property_data.price||0).toLocaleString(),c.property_data.listing_type==="rent"&&"/month"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.property_data.address_street,", ",c.property_data.address_city,", ",c.property_data.address_state," ",c.property_data.address_zip]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsxs("span",{className:"font-medium",children:[c.property_data.bedrooms," bd"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})}),e.jsxs("span",{className:"font-medium",children:[c.property_data.bathrooms," ba"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),e.jsxs("span",{className:"font-medium",children:[Number(c.property_data.square_footage||0).toLocaleString()," sqft"]})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed line-clamp-3",children:c.property_data.description})})]})]}),((O=c.report_data)==null?void 0:O.status)==="pending"&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resolution Action"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes"}),e.jsx("textarea",{value:m.admin_notes,onChange:y=>h(N=>({...N,admin_notes:y.target.value})),rows:4,placeholder:"Enter notes about this report review and any actions taken...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{h(y=>({...y,action:"dismiss"})),L()},disabled:m.submitting,className:"flex-1 px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m.submitting&&m.action==="dismiss"?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Dismissing..."]}):"Dismiss Report"}),e.jsx("button",{onClick:()=>{h(y=>({...y,action:"resolve"})),L()},disabled:m.submitting,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m.submitting&&m.action==="resolve"?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resolving..."]}):"Resolve Report"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Dismissing marks the report as invalid. Resolving acknowledges the issue is addressed."})]}),((te=c.report_data)==null?void 0:te.status)!=="pending"&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-blue-900",children:["This report has been ",(D=c.report_data)==null?void 0:D.status]}),((Y=c.report_data)==null?void 0:Y.resolved_at)&&e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Resolved on ",b(c.report_data.resolved_at)]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-8 py-6",children:e.jsx("button",{onClick:C,className:"w-full sm:w-auto px-6 py-3 border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-all duration-200",children:"Close"})})]})})]})})},Q2=()=>{const[t,s]=k.useState(""),[r,a]=k.useState({}),[n,i]=k.useState(!1),[l,o]=k.useState(!1),[c,d]=k.useState(null),m=H(v=>v.authentication_state.authentication_status.is_authenticated),h=H(v=>v.request_password_reset),g=Be();cs.useEffect(()=>{m&&g("/account")},[m,g]);const w=v=>{const u={};return v?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)||(u.email="Please enter a valid email address"):u.email="Email is required",a(u),Object.keys(u).length===0},j=v=>{const u=v.target.value;s(u),r.email&&a({}),c&&d(null)},x=async v=>{if(v.preventDefault(),d(null),o(!1),!!w(t)){i(!0);try{await h(t),o(!0),i(!1)}catch(u){i(!1),d(u.message||"An error occurred. Please try again.")}}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white shadow-lg shadow-gray-200/50 rounded-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-4",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Reset Your Password"}),e.jsx("p",{className:"mt-3 text-base text-gray-600 leading-relaxed",children:"Enter your email address and we'll send you a link to reset your password"})]}),l?e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-green-800 mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-sm text-green-700 leading-relaxed mb-3",children:["If an account exists with ",e.jsx("strong",{className:"font-semibold",children:t}),", we've sent password reset instructions to that address."]}),e.jsx("p",{className:"text-sm text-green-700 leading-relaxed",children:"Please check your inbox and follow the link to reset your password. The link will expire in 24 hours."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Didn't receive an email? Check your spam folder or try again."}),e.jsx("button",{type:"button",onClick:()=>{o(!1),s("")},className:"w-full px-6 py-3 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg border-2 border-blue-200 transition-all duration-200",children:"Try another email"}),e.jsx(I,{to:"/login",className:"block w-full px-6 py-3 text-sm font-medium text-center text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg border-2 border-gray-300 transition-all duration-200",children:"Back to Sign In"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:x,className:"px-8 pb-8",children:[c&&e.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:c})})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:t,onChange:j,onBlur:()=>t&&w(t),placeholder:"your.email@example.com",className:`
                        w-full px-4 py-3 text-base
                        border-2 rounded-lg
                        transition-all duration-200
                        focus:outline-none focus:ring-4
                        ${r.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}
                      `,disabled:n,"aria-invalid":!!r.email,"aria-describedby":r.email?"email-error":void 0}),r.email&&e.jsx("p",{id:"email-error",className:"mt-2 text-sm text-red-600",role:"alert",children:r.email})]}),e.jsx("button",{type:"submit",disabled:n,className:`
                      w-full px-6 py-3 
                      text-base font-medium text-white
                      bg-blue-600 hover:bg-blue-700
                      rounded-lg shadow-lg hover:shadow-xl
                      transition-all duration-200
                      disabled:opacity-50 disabled:cursor-not-allowed
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                    `,children:n?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending reset link..."]}):"Send Reset Link"}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(I,{to:"/login",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Remember your password? Sign in"})})]}),e.jsx("div",{className:"px-8 pb-8 pt-4 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"You will receive an email with instructions on how to reset your password in a few minutes."})})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",e.jsx("a",{href:"mailto:support@propconnect.com",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Contact Support"})]})})]})})})},K2=()=>{const t=H(N=>N.reset_password),[s]=es(),r=Be(),[a,n]=k.useState(""),[i,l]=k.useState(""),[o,c]=k.useState(""),[d,m]=k.useState({level:"weak",feedback:""}),[h,g]=k.useState({}),[w,j]=k.useState(!1),[x,v]=k.useState(!1),[u,p]=k.useState(null),[f,C]=k.useState(!0),[L,A]=k.useState(!1),[q,S]=k.useState(!1);k.useEffect(()=>{const N=s.get("token");!N||N.trim()===""?(C(!1),g({token:"This password reset link is invalid or missing"})):(n(N),C(!0))},[s]);const b=N=>{if(!N)return{level:"weak",feedback:""};let P=0;return N.length>=8&&P++,N.length>=12&&P++,/[a-z]/.test(N)&&/[A-Z]/.test(N)&&P++,/\d/.test(N)&&P++,/[^a-zA-Z\d]/.test(N)&&P++,N.length<8?{level:"weak",feedback:"Must be at least 8 characters"}:P<=2?{level:"weak",feedback:"Add more characters, numbers, and symbols for security"}:P<=4?{level:"medium",feedback:"Good! Consider adding special characters for extra security"}:{level:"strong",feedback:"Excellent password! Very secure."}},T=N=>{l(N);const P=b(N);m(P),h.new_password&&g(K=>({...K,new_password:void 0})),o&&N!==o?g(K=>({...K,confirm_password:"Passwords do not match"})):o&&N===o&&g(K=>({...K,confirm_password:void 0}))},Q=N=>{c(N),h.confirm_password&&g(P=>({...P,confirm_password:void 0}))},W=()=>{g(o&&i&&o!==i?N=>({...N,confirm_password:"Passwords do not match"}):N=>({...N,confirm_password:void 0}))},O=()=>{const N={};return i?i.length<8&&(N.new_password="Password must be at least 8 characters"):N.new_password="Please enter a new password",o?i!==o&&(N.confirm_password="Passwords do not match"):N.confirm_password="Please confirm your password",g(N),Object.keys(N).length===0},te=async N=>{if(N.preventDefault(),p(null),!!O()){j(!0);try{await t(a,i),v(!0),j(!1),setTimeout(()=>{r("/")},2e3)}catch(P){j(!1);const K=P.message||"Failed to reset password. Please try again.";K.includes("expired")||K.includes("invalid")?(p("This password reset link is invalid or has expired. Please request a new one."),C(!1)):p(K)}}},D=()=>{switch(d.level){case"weak":return"bg-red-100 text-red-700 border-red-300";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"strong":return"bg-green-100 text-green-700 border-green-300"}},Y=()=>{switch(d.level){case"weak":return"33%";case"medium":return"66%";case"strong":return"100%"}},y=()=>{switch(d.level){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500"}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-8 pt-8 pb-6 border-b border-gray-100",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(si,{className:"w-8 h-8 text-blue-600"})})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900 mb-2",children:"Create New Password"}),e.jsx("p",{className:"text-center text-sm text-gray-600",children:f?x?"Password reset successful!":"Choose a strong password for your account":"This reset link is invalid or has expired"})]}),e.jsxs("div",{className:"px-8 py-6",children:[!f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(we,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-red-700",children:h.token||"This password reset link is invalid or has expired."})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(I,{to:"/forgot-password",className:"block w-full text-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Request New Reset Link"}),e.jsx(I,{to:"/login",className:"block w-full text-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg font-medium transition-all duration-200 border border-gray-300",children:"Back to Sign In"})]})]}),f&&x&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Tt,{className:"w-16 h-16 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Password Reset Successfully!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your password has been updated. Redirecting you to the homepage..."})]}),e.jsx(I,{to:"/",className:"block w-full text-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Go to Homepage"})]}),f&&!x&&e.jsxs("form",{onSubmit:te,className:"space-y-6",children:[u&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",role:"alert","aria-live":"polite",children:[e.jsx(we,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-red-700",children:u})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("label",{htmlFor:"new_password",className:"text-sm font-medium text-gray-700",children:"New Password *"})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"new_password",name:"new_password",type:L?"text":"password",required:!0,value:i,onChange:N=>T(N.target.value),placeholder:"Enter your new password",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-4 ${h.new_password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,disabled:w}),e.jsx("button",{type:"button",onClick:()=>A(!L),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":L?"Hide password":"Show password",children:L?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),h.new_password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:h.new_password}),i&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${y()}`,style:{width:Y()}})}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-md border text-xs font-medium ${D()}`,children:[e.jsx("span",{className:"capitalize",children:d.level}),d.feedback&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-1.5",children:""}),e.jsx("span",{children:d.feedback})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirm_password",name:"confirm_password",type:q?"text":"password",required:!0,value:o,onChange:N=>Q(N.target.value),onBlur:W,placeholder:"Confirm your new password",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-4 ${h.confirm_password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,disabled:w}),e.jsx("button",{type:"button",onClick:()=>S(!q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":q?"Hide password":"Show password",children:q?e.jsx(kt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),h.confirm_password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:h.confirm_password}),o&&i&&i===o&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-green-600",children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("p",{className:"text-sm font-medium",children:"Passwords match"})]})]}),e.jsx("button",{type:"submit",disabled:w,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-blue-100",children:w?e.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Resetting Password..."})]}):"Reset Password"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"space-y-1 text-xs text-gray-600",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:i.length>=8?"text-green-600":"text-gray-400",children:""}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:/[A-Z]/.test(i)&&/[a-z]/.test(i)?"text-green-600":"text-gray-400",children:""}),e.jsx("span",{children:"Mix of uppercase and lowercase letters"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:/\d/.test(i)?"text-green-600":"text-gray-400",children:""}),e.jsx("span",{children:"At least one number"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:/[^a-zA-Z\d]/.test(i)?"text-green-600":"text-gray-400",children:""}),e.jsx("span",{children:"At least one special character"})]})]})]})]})]}),f&&!x&&e.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Remember your password?"}),e.jsx(I,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Sign In"})]})})]}),f&&!x&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"For your security, this reset link will expire after use or within 24 hours."})})]})})})},Y2=()=>{const[t]=es(),s=Be(),[r,a]=k.useState(!0),[n,i]=k.useState(!1),[l,o]=k.useState(null),[c,d]=k.useState(!1),[m,h]=k.useState(3),g=H(C=>C.verify_email),w=H(C=>C.authentication_state.authentication_status.is_authenticated),j=H(C=>C.authentication_state.current_user),x=H(C=>C.show_toast);k.useEffect(()=>{const C=t.get("token");if(!C){a(!1),o("Invalid verification link. Please check your email or request a new verification link."),d(!0);return}(async()=>{a(!0),o(null);try{await g(C),i(!0),a(!1)}catch(A){a(!1);const q=A.message||"Email verification failed. The link may be invalid or expired.";o(q),(q.toLowerCase().includes("expired")||q.toLowerCase().includes("invalid"))&&d(!0)}})()},[t,g]),k.useEffect(()=>{if(n){const C=setInterval(()=>{h(L=>L<=1?(clearInterval(C),s("/"),0):L-1)},1e3);return()=>clearInterval(C)}},[n,s]);const v=()=>{x("Resend verification feature coming soon. Please contact support for assistance.","info",5e3)},u=()=>{s("/")},p=()=>{s("/login")},f=()=>{s("/register")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white shadow-lg shadow-gray-200/50 rounded-xl border border-gray-100 p-8 text-center",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(yr,{className:"w-16 h-16 text-blue-600 animate-spin"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Your Email"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Please wait while we verify your email address..."})]}),!r&&n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(Tt,{className:"w-16 h-16 text-green-600"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Email Verified Successfully!"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:w?`Welcome to PropConnect, ${(j==null?void 0:j.full_name)||"there"}! Your account is now active.`:"Your email has been verified. You can now sign in to your account."}),w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-700 text-sm",children:["You will be redirected to the homepage in ",e.jsx("strong",{children:m})," second",m!==1?"s":"","..."]})}),e.jsx("button",{onClick:u,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Continue to Homepage"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Sign In to Your Account"}),e.jsx("button",{onClick:u,className:"w-full bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100",children:"Browse Properties"})]})]}),!r&&l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"rounded-full bg-red-100 p-3",children:e.jsx(Cj,{className:"w-16 h-16 text-red-600"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700 text-sm leading-relaxed",children:l})}),e.jsxs("div",{className:"text-left space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(we,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Verification links expire after 24 hours for security"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Check your email inbox for the most recent verification link"})]})]}),c&&e.jsx("button",{onClick:v,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-100 mb-3",children:"Request New Verification Email"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:p,className:"w-full bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100",children:"Sign In"}),e.jsx("button",{onClick:f,className:"w-full text-blue-600 hover:text-blue-700 px-6 py-3 rounded-lg font-medium transition-colors focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Create New Account"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Need help?"," ",e.jsx(I,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Back to Homepage"})]})})]})})})},rn=[{id:"introduction",title:"Introduction",content:`
        <p>Welcome to PropConnect ("we," "our," or "us"). These Terms of Service ("Terms") govern your access to and use of the PropConnect platform, website, and services.</p>
        <p class="mt-4">By accessing or using PropConnect, you agree to be bound by these Terms. If you disagree with any part of these Terms, you may not access the platform.</p>
        <p class="mt-4"><strong>Last Updated:</strong> January 25, 2024</p>
      `},{id:"definitions",title:"Definitions",content:`
        <p>For purposes of these Terms:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li><strong>"Platform"</strong> means the PropConnect website, mobile applications, and all related services.</li>
          <li><strong>"Property Seeker"</strong> or "User" means individuals searching for properties to buy or rent.</li>
          <li><strong>"Agent"</strong> means licensed real estate professionals who list properties on the Platform.</li>
          <li><strong>"Listing"</strong> means a property advertisement posted by an Agent.</li>
          <li><strong>"Inquiry"</strong> means a message sent by a Property Seeker to an Agent regarding a Listing.</li>
          <li><strong>"Content"</strong> means all text, images, data, and materials displayed on the Platform.</li>
        </ul>
      `},{id:"property-seekers",title:"Terms for Property Seekers",content:`
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">1. Account Registration</h3>
        <p>You may browse properties without an account, but certain features require registration:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Saving favorite properties</li>
          <li>Submitting inquiries to agents</li>
          <li>Tracking inquiry responses</li>
          <li>Creating saved searches with alerts</li>
        </ul>
        <p class="mt-4">When registering, you must provide accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">2. Use of Platform</h3>
        <p>As a Property Seeker, you agree to:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Provide accurate information when contacting agents</li>
          <li>Use the inquiry system for legitimate property-related questions only</li>
          <li>Not misuse or abuse the platform for spam or malicious purposes</li>
          <li>Respect intellectual property rights of all content displayed</li>
          <li>Not scrape, copy, or redistribute property data without permission</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">3. No Warranty on Listings</h3>
        <p>PropConnect is a platform connecting Property Seekers with Agents. We do not:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Verify the accuracy of property information</li>
          <li>Guarantee the availability of listed properties</li>
          <li>Endorse or recommend any specific agent or property</li>
          <li>Participate in property transactions or negotiations</li>
        </ul>
        <p class="mt-4">All property information is provided by Agents. You should independently verify all details before making any decisions.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">4. Email Communications</h3>
        <p>By creating an account, you consent to receive:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Transactional emails (inquiry confirmations, agent responses)</li>
          <li>Notifications about saved properties (price changes, status updates)</li>
          <li>Platform updates and important announcements</li>
        </ul>
        <p class="mt-4">You may opt out of non-essential communications in your account settings.</p>
      `},{id:"agent-terms",title:"Terms for Real Estate Agents",content:`
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">1. Agent Registration and Approval</h3>
        <p>To list properties on PropConnect, you must:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Hold a valid real estate license in good standing</li>
          <li>Provide accurate license information and documentation</li>
          <li>Submit to verification by platform administrators</li>
          <li>Maintain active licensure throughout platform use</li>
        </ul>
        <p class="mt-4">We reserve the right to reject any agent application or suspend accounts at our discretion.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">2. Listing Standards</h3>
        <p>All property listings must:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Contain accurate and truthful information</li>
          <li>Include clear, high-quality photos of the actual property</li>
          <li>Comply with Fair Housing laws and regulations</li>
          <li>Not contain discriminatory language or preferences</li>
          <li>Be updated promptly when property status changes</li>
          <li>Be removed within 24 hours of sale, rent, or withdrawal from market</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">3. Subscription and Fees</h3>
        <p>PropConnect offers the following pricing structure:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li><strong>Free Tier:</strong> Limited listings (up to 5 active listings)</li>
          <li><strong>Professional Tier:</strong> $49/month for unlimited listings, enhanced features, and priority placement</li>
          <li><strong>Premium Tier:</strong> $99/month includes all Professional features plus featured listings and advanced analytics</li>
        </ul>
        <p class="mt-4">Fees are billed monthly and are non-refundable. You may upgrade or downgrade your subscription at any time, with changes taking effect at the next billing cycle.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">4. Commission Agreement</h3>
        <p>PropConnect charges NO commission or transaction fees. We operate on a subscription-based model only. You retain 100% of your commissions from property transactions.</p>
        <p class="mt-4">However, you acknowledge that:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>PropConnect is not a party to any transaction between you and property seekers</li>
          <li>All commission arrangements are between you and your clients</li>
          <li>You are solely responsible for your professional obligations and liabilities</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">5. Inquiry Response Requirements</h3>
        <p>As an Agent, you agree to:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Respond to legitimate inquiries within 24 hours</li>
          <li>Maintain professional and courteous communication</li>
          <li>Not spam or harass property seekers</li>
          <li>Keep contact information current and accurate</li>
        </ul>
        <p class="mt-4">Failure to respond to inquiries may result in reduced visibility or account suspension.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">6. Intellectual Property Rights</h3>
        <p>You retain ownership of all photos and content you upload. By posting listings, you grant PropConnect a non-exclusive, worldwide license to:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Display your listings on the platform</li>
          <li>Share listings on social media for promotional purposes</li>
          <li>Create thumbnails and optimized versions of images</li>
          <li>Include listings in search results and featured sections</li>
        </ul>
        <p class="mt-4">This license terminates when you remove the listing, except for cached versions.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">7. Account Termination</h3>
        <p>We may suspend or terminate your agent account if you:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Violate these Terms or applicable laws</li>
          <li>Post fraudulent or misleading listings</li>
          <li>Engage in prohibited conduct</li>
          <li>Fail to maintain a valid real estate license</li>
          <li>Receive excessive user complaints</li>
        </ul>
      `},{id:"prohibited-conduct",title:"Prohibited Conduct",content:`
        <p>All users (Property Seekers and Agents) are prohibited from:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Posting false, misleading, or fraudulent content</li>
          <li>Impersonating another person or entity</li>
          <li>Harassing, threatening, or abusing other users</li>
          <li>Violating any local, state, or federal laws</li>
          <li>Discriminating based on race, religion, gender, disability, familial status, or national origin</li>
          <li>Scraping or automated data collection</li>
          <li>Hacking, phishing, or distributing malware</li>
          <li>Interfering with platform security or functionality</li>
          <li>Using the platform for commercial purposes other than intended (e.g., selling data)</li>
        </ul>
        <p class="mt-4">Violation of these prohibitions may result in immediate account termination and legal action.</p>
      `},{id:"intellectual-property",title:"Intellectual Property",content:`
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Platform Content</h3>
        <p>The PropConnect platform, including its design, layout, logos, graphics, and software, is owned by PropConnect and protected by copyright, trademark, and other intellectual property laws.</p>
        <p class="mt-4">You may not:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Copy, modify, or distribute platform design elements</li>
          <li>Use PropConnect branding without written permission</li>
          <li>Reverse engineer or decompile platform software</li>
          <li>Create derivative works based on the platform</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">User-Generated Content</h3>
        <p>You retain ownership of content you submit (property listings, photos, messages). However, by posting content, you represent that:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>You own or have the right to use the content</li>
          <li>The content does not violate third-party rights</li>
          <li>The content does not contain illegal or harmful material</li>
        </ul>
        <p class="mt-4">We reserve the right to remove any content that violates these Terms or is otherwise objectionable.</p>
      `},{id:"limitation-of-liability",title:"Limitation of Liability",content:`
        <p class="uppercase font-semibold">PLEASE READ THIS SECTION CAREFULLY AS IT LIMITS PROPCONNECT'S LIABILITY.</p>
        
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Disclaimer of Warranties</h3>
        <p>The platform is provided "as is" and "as available" without warranties of any kind, either express or implied, including but not limited to:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Accuracy or reliability of property information</li>
          <li>Availability of the platform at all times</li>
          <li>Freedom from errors, viruses, or harmful components</li>
          <li>Fitness for a particular purpose</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Limitation of Liability</h3>
        <p>To the maximum extent permitted by law, PropConnect shall not be liable for:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Indirect, incidental, special, consequential, or punitive damages</li>
          <li>Lost profits, revenues, data, or business opportunities</li>
          <li>Property transaction failures or disputes</li>
          <li>Inaccurate or fraudulent property listings</li>
          <li>Agent misconduct or license issues</li>
          <li>User-generated content or third-party links</li>
        </ul>
        <p class="mt-4">Our total liability shall not exceed the amount you paid to PropConnect in the 12 months preceding the claim.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Indemnification</h3>
        <p>You agree to indemnify and hold harmless PropConnect from any claims arising from:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Your use of the platform</li>
          <li>Your violation of these Terms</li>
          <li>Your violation of any third-party rights</li>
          <li>Content you post on the platform</li>
        </ul>
      `},{id:"privacy-data",title:"Privacy and Data Use",content:`
        <p>Your use of PropConnect is also governed by our <a href="/privacy" class="text-blue-600 hover:text-blue-700 underline">Privacy Policy</a>, which describes how we collect, use, and protect your personal information.</p>
        
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Data Collection</h3>
        <p>We collect:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Account information (name, email, phone)</li>
          <li>Usage data (searches, views, saved properties)</li>
          <li>Device and browser information</li>
          <li>Cookies and tracking technologies</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Data Sharing</h3>
        <p>We may share your information with:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Agents you contact (name, email, phone, message content)</li>
          <li>Service providers necessary for platform operation</li>
          <li>Law enforcement if legally required</li>
        </ul>
        <p class="mt-4">We never sell your personal information to third parties.</p>
      `},{id:"termination",title:"Termination",content:`
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">By You</h3>
        <p>You may terminate your account at any time by:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Accessing account settings and selecting "Delete Account"</li>
          <li>Contacting us at <a href="mailto:support@propconnect.com" class="text-blue-600 hover:text-blue-700 underline">support@propconnect.com</a></li>
        </ul>
        <p class="mt-4">Upon termination:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Property Seekers: Your saved properties and inquiry history will be deleted</li>
          <li>Agents: Active listings will be removed immediately; subscription fees are non-refundable</li>
        </ul>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">By PropConnect</h3>
        <p>We may suspend or terminate accounts for:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Violation of these Terms</li>
          <li>Fraudulent or illegal activity</li>
          <li>Excessive user complaints</li>
          <li>Non-payment of subscription fees (Agents)</li>
          <li>License revocation or suspension (Agents)</li>
        </ul>
        <p class="mt-4">We will provide notice where possible, but reserve the right to terminate immediately for serious violations.</p>
      `},{id:"dispute-resolution",title:"Dispute Resolution",content:`
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Governing Law</h3>
        <p>These Terms are governed by the laws of the State of [Your State], United States, without regard to conflict of law principles.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Arbitration Agreement</h3>
        <p>Any disputes arising from these Terms or your use of the platform shall be resolved through binding arbitration, except:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Small claims court disputes (under $10,000)</li>
          <li>Intellectual property disputes</li>
          <li>Injunctive or equitable relief</li>
        </ul>
        <p class="mt-4">You waive your right to a jury trial and to participate in class action lawsuits.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Severability</h3>
        <p>If any provision of these Terms is found invalid or unenforceable, the remaining provisions continue in full force and effect.</p>
      `},{id:"changes-to-terms",title:"Changes to Terms",content:`
        <p>We may update these Terms from time to time. When we make changes:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>The "Last Updated" date will be revised</li>
          <li>Significant changes will be announced via email or platform notification</li>
          <li>Continued use of the platform after changes constitutes acceptance</li>
        </ul>
        <p class="mt-4">For material changes affecting Agents (subscription fees, commission structure), we will provide 30 days' notice.</p>
        <p class="mt-4">We encourage you to review these Terms periodically.</p>
      `},{id:"fair-housing",title:"Fair Housing Compliance",content:`
        <p>PropConnect is committed to compliance with the Fair Housing Act and all applicable fair housing laws.</p>
        
        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Prohibited Discrimination</h3>
        <p>It is illegal to discriminate in housing based on:</p>
        <ul class="list-disc pl-6 mt-3 space-y-2">
          <li>Race or color</li>
          <li>National origin</li>
          <li>Religion</li>
          <li>Sex (including sexual orientation and gender identity)</li>
          <li>Familial status (presence of children)</li>
          <li>Disability</li>
        </ul>
        <p class="mt-4">All listings and communications must comply with these protections. Violations will result in immediate listing removal and possible account termination.</p>

        <h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3">Reporting Fair Housing Violations</h3>
        <p>If you believe a listing or agent has violated fair housing laws, please report it immediately through our reporting system or contact us at <a href="mailto:fairhousing@propconnect.com" class="text-blue-600 hover:text-blue-700 underline">fairhousing@propconnect.com</a>.</p>
      `},{id:"contact",title:"Contact Information",content:`
        <p>For questions about these Terms of Service, please contact us:</p>
        <div class="mt-6 bg-gray-50 border border-gray-200 rounded-lg p-6">
          <p class="font-semibold text-gray-900 mb-4">PropConnect Legal Department</p>
          <p class="text-gray-700">Email: <a href="mailto:legal@propconnect.com" class="text-blue-600 hover:text-blue-700 underline">legal@propconnect.com</a></p>
          <p class="text-gray-700 mt-2">Phone: 1-800-PROP-LAW (1-800-776-7529)</p>
          <p class="text-gray-700 mt-2">Address: 123 Tech Boulevard, Suite 500<br/>San Francisco, CA 94105</p>
          <p class="text-gray-700 mt-4">Business Hours: Monday-Friday, 9:00 AM - 5:00 PM PST</p>
        </div>
        <p class="mt-6">For general support inquiries, visit our <a href="/contact" class="text-blue-600 hover:text-blue-700 underline">Contact Page</a> or email <a href="mailto:support@propconnect.com" class="text-blue-600 hover:text-blue-700 underline">support@propconnect.com</a>.</p>
      `}],G2=()=>{const[t,s]=k.useState(null),[r,a]=k.useState(!1);k.useEffect(()=>{const l=window.location.hash.replace("#","");if(l){const o=document.getElementById(l);o&&(setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"start"})},100),s(l))}},[]),k.useEffect(()=>{const l={root:null,rootMargin:"-20% 0px -70% 0px",threshold:0},o=d=>{d.forEach(m=>{m.isIntersecting&&s(m.target.id)})},c=new IntersectionObserver(o,l);return rn.forEach(d=>{const m=document.getElementById(d.id);m&&c.observe(m)}),()=>c.disconnect()},[]);const n=l=>{const o=document.getElementById(l);o&&(o.scrollIntoView({behavior:"smooth",block:"start"}),s(l),a(!1),window.history.pushState(null,"",`#${l}`))},i=()=>{window.print()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Last updated: ",e.jsx("time",{dateTime:"2024-01-25",children:"January 25, 2024"})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Print terms of service",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]}),e.jsx(I,{to:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Back to Home"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[e.jsx("div",{className:"hidden lg:block lg:col-span-1",children:e.jsx("div",{className:"sticky top-8",children:e.jsxs("nav",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6","aria-label":"Table of contents",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Contents"}),e.jsx("ul",{className:"space-y-2",children:rn.map(l=>e.jsx("li",{children:e.jsx("button",{onClick:()=>n(l.id),className:`text-left w-full px-3 py-2 rounded-lg text-sm transition-all duration-200 ${t===l.id?"bg-blue-50 text-blue-700 font-medium border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-l-4 border-transparent"}`,children:l.title})},l.id))})]})})}),e.jsxs("div",{className:"lg:hidden mb-6",children:[e.jsxs("button",{onClick:()=>a(!r),className:"w-full flex items-center justify-between bg-white rounded-lg shadow-md border border-gray-200 px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors","aria-expanded":r,"aria-controls":"mobile-toc",children:[e.jsx("span",{children:"Table of Contents"}),e.jsx("svg",{className:`h-5 w-5 transform transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&e.jsx("div",{id:"mobile-toc",className:"mt-2 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:e.jsx("ul",{className:"space-y-2",children:rn.map(l=>e.jsx("li",{children:e.jsx("button",{onClick:()=>n(l.id),className:`text-left w-full px-3 py-2 rounded-lg text-sm transition-all duration-200 ${t===l.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:l.title})},l.id))})})]}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-6 sm:p-8 lg:p-12",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-r-lg mb-8",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-6 w-6 text-blue-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-blue-800",children:"Please read these Terms of Service carefully before using PropConnect. By accessing or using our platform, you agree to be bound by these terms."})]})]})}),e.jsx("div",{className:"prose prose-gray max-w-none",children:rn.map((l,o)=>e.jsxs("section",{id:l.id,className:"scroll-mt-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b border-gray-200",children:[o+1,". ",l.title]}),e.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:l.content}}),o<rn.length-1&&e.jsx("div",{className:"mt-12 mb-8 border-t border-gray-200"})]},l.id))}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need More Information?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about these Terms or need clarification on any section, please don't hesitate to contact us."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(I,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Contact Support"}),e.jsx(I,{to:"/privacy",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"View Privacy Policy"})]})]})}),e.jsx("div",{className:"mt-8 p-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-900",children:e.jsx("strong",{children:"By using PropConnect, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 shadow-md hover:shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Back to Top"]})})]})]})}),e.jsx("style",{children:`
          @media print {
            .no-print {
              display: none !important;
            }
            body {
              background: white;
            }
            .bg-gradient-to-br {
              background: white !important;
            }
            .shadow-lg, .shadow-md {
              box-shadow: none !important;
            }
            .border {
              border-color: #e5e7eb !important;
            }
          }
        `})]})})},J2=()=>{const t=Be(),s=H(S=>S.authentication_state.current_user),r=H(S=>S.authentication_state.authentication_status.is_authenticated),a=H(S=>S.authentication_state.user_auth_token),n=H(S=>S.logout),i=H(S=>S.show_toast),l=H(S=>S.open_modal),o=H(S=>S.close_modal),c=H(S=>S.ui_state.active_modal),[d,m]=k.useState(""),[h,g]=k.useState(""),[w,j]=k.useState(!1),[x,v]=k.useState(!1),[u,p]=k.useState(null),f={title:"Privacy Policy",effectiveDate:"January 1, 2024",lastUpdated:"January 1, 2024",contactEmail:"privacy@propconnect.com",sections:[{id:"introduction",title:"1. Introduction",icon:go,content:`Welcome to PropConnect. This Privacy Policy explains how we collect, use, disclose, and safeguard your personal information when you use our real estate listing platform. By accessing or using PropConnect, you agree to this Privacy Policy. If you do not agree, please discontinue use of our services.

We are committed to protecting your privacy and ensuring you understand how your data is handled. This policy applies to all users including property seekers, real estate agents, and administrators.`},{id:"information-we-collect",title:"2. Information We Collect",icon:Ym,content:`**2.1 Information You Provide Directly**

When you create an account, we collect:
 Full name and email address
 Phone number (optional for property seekers, required for agents)
 Password (securely hashed)
 Profile photo (optional)
 Location/city (optional)
 Real estate license information (agents only)
 Agency details and professional credentials (agents only)

When you use our services, we collect:
 Property search queries and filters
 Saved property favorites
 Inquiry messages sent to agents  
 Property viewing preferences
 Notification and communication preferences
 Property listings and descriptions (agents only)
 Photos and virtual tour links uploaded to listings

**2.2 Information Collected Automatically**

When you access our platform, we automatically collect:
 IP address and device information
 Browser type and version
 Operating system
 Pages visited and time spent on pages
 Referring website addresses
 Property views and interactions
 Search patterns and behavior
 Cookies and similar tracking technologies

**2.3 Information from Third Parties**

We may receive information from:
 Social media platforms (if you connect your accounts)
 Public databases for address verification (Google Places API)
 MLS (Multiple Listing Service) data for property information
 Credit reporting agencies (for agent verification only)
 Background check services (agent license verification)`},{id:"how-we-use-information",title:"3. How We Use Your Information",icon:Le,content:`We use your personal information for the following purposes:

**3.1 Service Delivery**
 Creating and managing your account
 Authenticating your identity
 Processing property searches and displaying results
 Facilitating communication between property seekers and agents
 Sending inquiry notifications to real estate agents
 Managing property listings and photo galleries
 Tracking property views for analytics

**3.2 Communication**
 Sending email notifications about inquiries and replies
 Alerting you to saved property price changes or status updates
 Providing platform updates and new features
 Responding to your questions and support requests
 Sending verification emails for account security

**3.3 Platform Improvement**
 Analyzing usage patterns to improve search functionality
 Monitoring platform performance and identifying technical issues
 Conducting research to enhance user experience
 Developing new features based on user behavior
 Generating aggregate statistics (never personally identifiable)

**3.4 Security and Fraud Prevention**
 Detecting and preventing fraudulent listings
 Verifying agent licenses and credentials
 Monitoring for suspicious activity or policy violations
 Protecting against spam and abuse
 Maintaining platform integrity and safety

**3.5 Legal Compliance**
 Complying with applicable laws and regulations
 Responding to legal requests and preventing harm
 Enforcing our Terms of Service
 Protecting our rights and property`},{id:"data-sharing",title:"4. How We Share Your Information",icon:si,content:`We share your information only in the following limited circumstances:

**4.1 Between Users and Agents**
When you submit an inquiry about a property, we share:
 Your name and contact information with the listing agent
 Your inquiry message and viewing preferences
 Your user ID and account status (if registered)

**4.2 Service Providers**
We share data with trusted third-party service providers:
 Cloud hosting providers (AWS, DigitalOcean) for data storage
 Email service providers (SendGrid, Mailgun) for notifications
 Analytics providers (Google Analytics) for usage insights
 Payment processors (Stripe) for transaction handling
 Map services (Google Maps) for location features
 Image hosting services (S3, Cloudinary) for photo storage

All service providers are contractually obligated to protect your data and use it only for specified purposes.

**4.3 Legal Requirements**
We may disclose your information:
 To comply with court orders, subpoenas, or legal processes
 To protect our rights, property, or safety
 To prevent fraud or security threats
 To enforce our Terms of Service
 When required by law enforcement or regulatory authorities

**4.4 Business Transfers**
If PropConnect is acquired or merged with another company, your information may be transferred to the new entity. You will be notified of any such change.

**4.5 With Your Consent**
We may share your information for other purposes with your explicit consent.

**We NEVER:**
 Sell your personal information to third parties
 Share your data with advertisers without consent
 Disclose your saved searches or property favorites publicly`},{id:"cookies-tracking",title:"5. Cookies and Tracking Technologies",icon:Sj,content:`**5.1 Types of Cookies We Use**

**Essential Cookies**
Required for platform functionality:
 Authentication cookies (session management)
 Security cookies (CSRF protection)
 Load balancing cookies (performance)

**Functional Cookies**
Enhance your experience:
 Language preferences
 Display settings (grid/list view)
 Search filter preferences
 Location memory for search

**Analytics Cookies**
Help us understand usage:
 Google Analytics (anonymized IP)
 Page view tracking
 Feature usage statistics
 Error logging and diagnostics

**Advertising Cookies** (Optional)
Used only with your consent:
 Behavioral targeting (opt-in only)
 Retargeting campaigns (opt-in only)

**5.2 Managing Cookies**

You can control cookies through:
 Browser settings (block all cookies)
 Our cookie consent banner (customize preferences)
 Opt-out tools provided by analytics services

Note: Disabling essential cookies may impact platform functionality.

**5.3 Do Not Track**
We honor Do Not Track (DNT) browser signals and will not track users who enable this setting.`},{id:"data-retention",title:"6. Data Retention and Storage",icon:Ym,content:`**6.1 How Long We Keep Your Data**

We retain personal information only as long as necessary:

**Active Accounts**
 Account data: Until you close your account
 Property listings: While active + 1 year after marked sold/rented
 Inquiry messages: 3 years for customer service purposes
 Search history: 2 years for analytics
 Session data: 30 days or until logout

**Closed Accounts**
 Account data: Deleted within 30 days of closure
 Anonymized analytics: Retained indefinitely
 Legal records: As required by law (typically 7 years)
 Backup data: Deleted within 90 days

**Agent Accounts**
 Professional credentials: Retained for compliance (as long as required by law)
 Transaction records: 7 years for legal purposes
 Listing history: Archived but not publicly visible

**6.2 Data Storage and Security**

Your data is stored:
 In secure, encrypted databases (PostgreSQL with TLS)
 On cloud servers in the United States (AWS US-East region)
 With regular backups for disaster recovery
 Behind firewalls and access controls
 With encryption in transit (HTTPS/TLS 1.3)
 With encryption at rest (AES-256)

We implement industry-standard security measures including:
 Multi-factor authentication for sensitive operations
 Regular security audits and penetration testing
 Employee access controls and training
 Intrusion detection and prevention systems
 Incident response procedures`},{id:"your-rights",title:"7. Your Privacy Rights",icon:Tt,content:`**7.1 General Rights**

You have the right to:

 **Access** - Request a copy of all personal data we hold about you
 **Rectification** - Correct inaccurate or incomplete information  
 **Erasure** - Request deletion of your personal data (see section 7.3)
 **Portability** - Receive your data in a machine-readable format
 **Restriction** - Limit how we process your data
 **Objection** - Object to certain processing activities
 **Withdraw Consent** - Revoke permission for data processing

**7.2 GDPR Rights (EU Residents)**

If you are located in the European Union, you have additional rights under GDPR:
 Right to lodge complaints with supervisory authorities
 Right to know the legal basis for data processing
 Right to know data retention periods
 Right to data portability across services
 Enhanced consent requirements before processing

**7.3 Data Deletion Process**

To delete your account and data:

1. Log in to your PropConnect account
2. Navigate to Account Settings
3. Click "Delete My Account"
4. Confirm your password
5. Select reason for deletion (optional)
6. Receive confirmation email

We will delete within 30 days:
 Your account credentials and profile
 Saved properties and search history
 Personal notification preferences
 Uploaded photos and documents

We will retain (anonymized or as required by law):
 Transaction records (7 years)
 Aggregated analytics (no personal identifiers)
 Legal compliance records

**7.4 California Privacy Rights (CCPA)**

California residents have additional rights:
 Right to know what personal information is collected
 Right to know if information is sold or disclosed
 Right to opt-out of sale of personal information (we don't sell data)
 Right to non-discrimination for exercising privacy rights

**7.5 Exercising Your Rights**

To exercise any of these rights:
 Email us at privacy@propconnect.com
 Use the account deletion tool in your settings
 Submit a written request to our office address
 Contact our Data Protection Officer

We will respond within 30 days (or as required by applicable law).`},{id:"childrens-privacy",title:"8. Children's Privacy",icon:we,content:`PropConnect is not intended for use by children under the age of 18. We do not knowingly collect personal information from children.

If you are under 18 years old, please do not:
 Create an account
 Submit inquiries
 Provide any personal information

If we learn we have collected information from a child under 18, we will delete it immediately. If you believe a child has provided us with personal information, please contact us at privacy@propconnect.com.

Parents and guardians: Please monitor your children's internet usage and help us protect their privacy.`},{id:"changes-to-policy",title:"9. Changes to This Privacy Policy",icon:dn,content:`We may update this Privacy Policy periodically to reflect:
 Changes in our data practices
 New features or services
 Legal or regulatory requirements
 User feedback and best practices

**When We Make Changes:**
 We will update the "Last Updated" date at the top
 Material changes will be notified via email to registered users
 Continued use after changes constitutes acceptance
 You can review the previous version upon request

**Notification Methods:**
 Email notification to your registered email address
 Banner notification when you log in
 Announcement on our homepage
 Version history available upon request

We encourage you to review this Privacy Policy regularly to stay informed about how we protect your information.`},{id:"international-transfers",title:"10. International Data Transfers",icon:go,content:`PropConnect is based in the United States and processes data on US servers.

**If you are accessing from outside the US:**
 Your information will be transferred to and processed in the United States
 US privacy laws may differ from those in your country
 We implement safeguards to protect your data during transfer
 We comply with applicable data protection frameworks

**Data Transfer Safeguards:**
 Standard Contractual Clauses (SCCs) for EU transfers
 Encryption during transit and at rest
 Access controls and security measures
 Regular compliance audits

**Your Consent:**
By using PropConnect from outside the United States, you consent to the transfer and processing of your information in the US.`},{id:"contact-us",title:"11. Contact Us",icon:Ce,content:`If you have questions, concerns, or requests regarding this Privacy Policy or your personal data:

**Email:** privacy@propconnect.com

**Mail:**
PropConnect Privacy Team
[Office Address]
[City, State ZIP]

**Data Protection Officer:**
For GDPR-related inquiries, contact our DPO at dpo@propconnect.com

**Response Time:**
We aim to respond to all privacy inquiries within 30 days. For urgent matters, please mark your email as "URGENT."

**What to Include:**
 Your full name and registered email
 Description of your inquiry or request
 Any relevant account information (if applicable)
 Preferred method of response`}]},C=()=>{l("delete_account_confirmation"),g(""),j(!1),p(null)},L=async()=>{var S;if(!h){p("Please enter your password to confirm");return}if(!w){p("Please confirm you understand this action is permanent");return}v(!0),p(null);try{const b=await fetch("https://123real-estate-listing-site-with.launchpulse.ai/api/users/me",{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({password:h,confirm_deletion:w})});if(!b.ok){const T=await b.json();throw new Error(((S=T.error)==null?void 0:S.message)||"Failed to delete account")}o(),i("Your account has been deleted. We're sorry to see you go.","success",5e3),setTimeout(()=>{n(),t("/")},1500)}catch(b){p(b.message||"Failed to delete account. Please try again."),v(!1)}},A=()=>{o(),g(""),j(!1),p(null)},q=S=>{const b=document.getElementById(S);if(b){const W=b.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:W,behavior:"smooth"}),m(S)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(go,{className:"h-12 w-12 text-blue-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Your privacy is important to us"}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Tt,{className:"h-4 w-4 mr-1"}),"Effective: ",f.effectiveDate]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(dn,{className:"h-4 w-4 mr-1"}),"Last Updated: ",f.lastUpdated]})]})]})})}),e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"lg:sticky lg:top-24 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),e.jsx("nav",{className:"space-y-2",children:f.sections.map(S=>{const b=S.icon;return e.jsxs("button",{onClick:()=>q(S.id),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm flex items-center space-x-2 ${d===S.id?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(b,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-2",children:S.title})]},S.id)})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>window.print(),className:"w-full flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-900 transition-colors",children:[e.jsx(Pj,{className:"h-4 w-4"}),e.jsx("span",{children:"Print Policy"})]}),e.jsxs(I,{to:"/terms",className:"w-full flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-900 transition-colors",children:[e.jsx(dn,{className:"h-4 w-4"}),e.jsx("span",{children:"View Terms of Service"})]}),e.jsxs("a",{href:`mailto:${f.contactEmail}`,className:"w-full flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-900 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Contact Privacy Team"})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-12",children:[f.sections.map(S=>{const b=S.icon;return e.jsxs("section",{id:S.id,className:"scroll-mt-24",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 pt-1",children:S.title})]}),e.jsx("div",{className:"ml-13 prose prose-gray max-w-none",children:S.content.split(`

`).map((T,Q)=>{if(T.startsWith("**")&&T.endsWith("**"))return e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-3",children:T.replace(/\*\*/g,"")},Q);if(T.startsWith("")){const W=T.split(`
`);return e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-4",children:W.map((O,te)=>e.jsx("li",{className:"leading-relaxed",children:O.replace(" ","")},te))},Q)}if(T.startsWith("")){const W=T.split(`
`);return e.jsx("ul",{className:"space-y-3 mb-4",children:W.map((O,te)=>{const[D,...Y]=O.replace(" ","").split(" - ");return e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:D}),Y.length>0&&e.jsxs("span",{className:"text-gray-700",children:[" - ",Y.join(" - ")]})]})]},te)})},Q)}return e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:T},Q)})})]},S.id)}),r&&s&&e.jsx("section",{className:"scroll-mt-24 border-t-2 border-gray-200 pt-12",children:e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-xl border-2 border-red-200 p-8",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(sh,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Data Management"}),e.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:["You are currently logged in as ",e.jsx("strong",{children:s.full_name})," (",s.email,"). You can request deletion of your account and all associated personal data at any time."]}),e.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"What will be deleted:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 mb-4",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Your account credentials and profile information"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Saved/favorited properties"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Search history and preferences"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Email notification preferences"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Profile photos and uploaded documents"})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 mt-6",children:"What will be retained:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(we,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Anonymized inquiry messages (your name/email removed, but content preserved for agent records)"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(we,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Aggregated analytics data (no personal identifiers)"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(we,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Legal compliance records (as required by law)"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Data deletion typically completes within 30 days"})]}),e.jsx("button",{onClick:C,className:"px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-red-100",children:"Delete My Account"})]})]})]})})}),e.jsx("section",{className:"border-t-2 border-gray-200 pt-12",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-8",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ce,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Questions About Your Privacy?"}),e.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"If you have any questions about this Privacy Policy or how we handle your data, we're here to help. Our privacy team is dedicated to ensuring transparency and protecting your rights."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("a",{href:`mailto:${f.contactEmail}`,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),"Email Privacy Team"]}),e.jsxs(I,{to:"/terms",className:"inline-flex items-center px-6 py-3 bg-white text-blue-600 rounded-lg font-medium border-2 border-blue-600 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(dn,{className:"h-5 w-5 mr-2"}),"View Terms of Service"]})]})]})]})})})]})]})})}),c==="delete_account_confirmation"&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:A}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(sh,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delete Your Account?"}),e.jsx("p",{className:"text-gray-600",children:"This will permanently delete your account and all associated data. This action cannot be undone."})]}),u&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-700",children:u})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deletion-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm your password"}),e.jsx("input",{id:"deletion-password",type:"password",value:h,onChange:S=>{g(S.target.value),p(null)},placeholder:"Enter your password",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all outline-none",disabled:x})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{id:"deletion-confirm",type:"checkbox",checked:w,onChange:S=>{j(S.target.checked),p(null)},className:"mt-1 h-4 w-4 text-red-600 border-gray-300 rounded focus:ring-red-500",disabled:x}),e.jsx("label",{htmlFor:"deletion-confirm",className:"text-sm text-gray-700",children:"I understand this action is permanent and cannot be undone. All my saved properties, search history, and account data will be permanently deleted."})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:A,disabled:x,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:L,disabled:x||!h||!w,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-red-100",children:x?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete Account"})]})]})]})}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 w-12 h-12 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":"Scroll to top",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})},Z2=()=>{const t=Be(),s=hr(),r=new URLSearchParams(s.search),a=r.get("attempted_path")||s.pathname,n=r.get("error_type")||"page_not_found",[i]=k.useState(()=>{const w=a.includes("/property/"),j=a.includes("/agent/");let x="The page you are looking for does not exist.";return w?x="This property listing may have been removed or does not exist.":j&&(x="This agent profile is not available or has been deactivated."),{error_type:n,attempted_path:a,is_property_not_found:w,is_agent_not_found:j,suggested_message:x}}),[l,o]=k.useState({location:"",listing_type:"sale",min_price:null,max_price:null,validation_errors:{}}),c={featured_locations:[{name:"Miami",path:"/search?location=miami",property_count:245},{name:"Orlando",path:"/search?location=orlando",property_count:189},{name:"Tampa",path:"/search?location=tampa",property_count:156},{name:"Jacksonville",path:"/search?location=jacksonville",property_count:132}]},{data:d,isLoading:m}=Ne({queryKey:["suggested-properties-404"],queryFn:async()=>(await G.get("https://123real-estate-listing-site-with.launchpulse.ai/api/properties",{params:{is_featured:!0,status:"active",limit:6,offset:0,sort_by:"view_count",sort_order:"desc"}})).data,staleTime:3e5,retry:1}),h=w=>{if(w.preventDefault(),o(x=>({...x,validation_errors:{}})),l.min_price&&l.max_price&&l.max_price<l.min_price){o(x=>({...x,validation_errors:{price_range:"Maximum price must be greater than minimum price"}}));return}const j=new URLSearchParams;l.location&&j.set("location",l.location),l.min_price&&j.set("min_price",String(l.min_price)),l.max_price&&j.set("max_price",String(l.max_price)),j.set("listing_type",l.listing_type),t(`/search?${j.toString()}`)},g=(w,j,x)=>{const v=new Intl.NumberFormat("en-US",{style:"currency",currency:j||"USD",minimumFractionDigits:0}).format(w);return x==="rent"?`${v}/month`:v};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"relative overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("svg",{className:"mx-auto h-48 w-48 text-blue-600 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("h1",{className:"text-9xl font-extrabold text-gray-900 tracking-tight mb-4",children:"404"}),e.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4 leading-tight",children:[i.is_property_not_found&&"Property Not Found",i.is_agent_not_found&&"Agent Profile Not Available",!i.is_property_not_found&&!i.is_agent_not_found&&"Page Not Found"]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:i.suggested_message}),a&&a!=="/"&&e.jsx("div",{className:"inline-block bg-white px-4 py-2 rounded-lg shadow-sm border border-gray-200 mb-8",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Attempted to access: ",e.jsx("code",{className:"text-blue-600 font-mono",children:a})]})})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 mb-16",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Search for Properties Instead"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"location",type:"text",value:l.location,onChange:w=>{o(j=>({...j,location:w.target.value,validation_errors:{}}))},placeholder:"Enter city, neighborhood, or ZIP code",className:"block w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type"}),e.jsxs("div",{className:"flex rounded-lg border-2 border-gray-200 overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>o(w=>({...w,listing_type:"sale"})),className:`flex-1 px-6 py-3 font-medium transition-all duration-200 ${l.listing_type==="sale"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Sale"}),e.jsx("button",{type:"button",onClick:()=>o(w=>({...w,listing_type:"rent"})),className:`flex-1 px-6 py-3 font-medium transition-all duration-200 ${l.listing_type==="rent"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"For Rent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"min_price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price"}),e.jsx("input",{id:"min_price",type:"number",value:l.min_price||"",onChange:w=>{o(j=>({...j,min_price:w.target.value?Number(w.target.value):null,validation_errors:{}}))},placeholder:"No minimum",className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max_price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price"}),e.jsx("input",{id:"max_price",type:"number",value:l.max_price||"",onChange:w=>{o(j=>({...j,max_price:w.target.value?Number(w.target.value):null,validation_errors:{}}))},placeholder:"No maximum",className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]})]}),l.validation_errors.price_range&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-sm text-red-700",children:l.validation_errors.price_range})}),e.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white px-6 py-4 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),e.jsx("span",{children:"Search Properties"})]})]})]})}),!m&&d&&d.data&&d.data.length>0&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Explore Popular Properties"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Check out these featured listings while you're here"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.data.slice(0,3).map(w=>{var j,x;return e.jsxs(I,{to:`/property/${w.property_id}`,className:"group bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-200",children:[(j=w.primary_photo)!=null&&j.thumbnail_url||(x=w.primary_photo)!=null&&x.image_url?e.jsx("img",{src:w.primary_photo.thumbnail_url||w.primary_photo.image_url,alt:w.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx(ve,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full shadow-md",children:["For ",w.listing_type==="sale"?"Sale":"Rent"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:g(w.price,w.currency,w.listing_type)}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:w.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[w.address_city,", ",w.address_state]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),w.bedrooms," bd"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),w.bathrooms," ba"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),w.square_footage.toLocaleString()," sqft"]})]})]})]},w.property_id)})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs(I,{to:"/search",className:"inline-flex items-center space-x-2 bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:[e.jsx("span",{children:"Browse All Properties"}),e.jsx(wj,{className:"h-5 w-5"})]})})]}),m&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-16",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Explore Popular Properties"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(w=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"aspect-[4/3] bg-gray-200"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-2/3"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},w))})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Quick Navigation"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(I,{to:"/search",className:"bg-white rounded-lg p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-blue-500 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg group-hover:bg-blue-600 transition-colors duration-200",children:e.jsx(Ot,{className:"h-6 w-6 text-blue-600 group-hover:text-white transition-colors duration-200"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:"Browse All Properties"})})]})}),e.jsx(I,{to:"/search?listing_type=sale",className:"bg-white rounded-lg p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-blue-500 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg group-hover:bg-green-600 transition-colors duration-200",children:e.jsx(ve,{className:"h-6 w-6 text-green-600 group-hover:text-white transition-colors duration-200"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:"Properties for Sale"})})]})}),e.jsx(I,{to:"/search?listing_type=rent",className:"bg-white rounded-lg p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-blue-500 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg group-hover:bg-purple-600 transition-colors duration-200",children:e.jsx(Gd,{className:"h-6 w-6 text-purple-600 group-hover:text-white transition-colors duration-200"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:"Rental Properties"})})]})}),e.jsx(I,{to:"/",className:"bg-white rounded-lg p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-blue-500 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg group-hover:bg-indigo-600 transition-colors duration-200",children:e.jsx(ve,{className:"h-6 w-6 text-indigo-600 group-hover:text-white transition-colors duration-200"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:"Back to Homepage"})})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Popular Locations"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:c.featured_locations.map(w=>e.jsxs(I,{to:w.path,className:"bg-white rounded-lg p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-blue-500 transition-all duration-200 text-center group",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx(nt,{className:"h-8 w-8 text-blue-600 group-hover:text-blue-700"})}),e.jsx("p",{className:"font-bold text-gray-900 text-lg mb-1 group-hover:text-blue-600 transition-colors",children:w.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[w.property_count," properties"]})]},w.name))})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Need Help?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"If you believe this is an error or need assistance, please contact our support team."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs(I,{to:"/",className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(ve,{className:"h-5 w-5"}),e.jsx("span",{children:"Go to Homepage"})]}),e.jsxs(I,{to:"/search",className:"inline-flex items-center space-x-2 bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:[e.jsx(Ot,{className:"h-5 w-5"}),e.jsx("span",{children:"Search Properties"})]})]})]})})})]})})},X2=new wb({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}}),Ni=({children:t})=>H(r=>r.authentication_state.authentication_status.is_authenticated)?e.jsx(e.Fragment,{children:t}):e.jsx(Dd,{to:"/login",replace:!0}),Yr=({children:t})=>H(r=>r.authentication_state.authentication_status.is_agent_authenticated)?e.jsx(e.Fragment,{children:t}):e.jsx(Dd,{to:"/agent/login",replace:!0}),_i=({children:t})=>H(r=>r.authentication_state.authentication_status.is_admin_authenticated)?e.jsx(e.Fragment,{children:t}):e.jsx(Dd,{to:"/login",replace:!0}),ew=()=>e.jsx(Nb,{client:X2,children:e.jsx(Gy,{children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(Kj,{}),e.jsx(Gj,{}),e.jsx("main",{className:"flex-grow",children:e.jsxs(By,{children:[e.jsx(je,{path:"/",element:e.jsx(Zj,{})}),e.jsx(je,{path:"/login",element:e.jsx(Xj,{})}),e.jsx(je,{path:"/register",element:e.jsx(e2,{})}),e.jsx(je,{path:"/search",element:e.jsx(s2,{})}),e.jsx(je,{path:"/property/:id",element:e.jsx(d2,{})}),e.jsx(je,{path:"/agent/:id",element:e.jsx(R2,{})}),e.jsx(je,{path:"/contact",element:e.jsx(h2,{})}),e.jsx(je,{path:"/forgot-password",element:e.jsx(Q2,{})}),e.jsx(je,{path:"/reset-password",element:e.jsx(K2,{})}),e.jsx(je,{path:"/verify-email",element:e.jsx(Y2,{})}),e.jsx(je,{path:"/terms",element:e.jsx(G2,{})}),e.jsx(je,{path:"/privacy",element:e.jsx(J2,{})}),e.jsx(je,{path:"/agent/login",element:e.jsx(w2,{})}),e.jsx(je,{path:"/agent/register",element:e.jsx(N2,{})}),e.jsx(je,{path:"/agent/dashboard",element:e.jsx(Yr,{children:e.jsx(C2,{})})}),e.jsx(je,{path:"/agent/listings",element:e.jsx(Yr,{children:e.jsx(S2,{})})}),e.jsx(je,{path:"/agent/listings/create",element:e.jsx(Yr,{children:e.jsx(P2,{})})}),e.jsx(je,{path:"/agent/listings/edit/:id",element:e.jsx(Yr,{children:e.jsx(E2,{})})}),e.jsx(je,{path:"/agent/inquiries",element:e.jsx(Yr,{children:e.jsx(F2,{})})}),e.jsx(je,{path:"/agent/settings",element:e.jsx(Yr,{children:e.jsx(T2,{})})}),e.jsx(je,{path:"/dashboard",element:e.jsx(Ni,{children:e.jsx(x2,{})})}),e.jsx(je,{path:"/saved",element:e.jsx(Ni,{children:e.jsx(f2,{})})}),e.jsx(je,{path:"/inquiries",element:e.jsx(Ni,{children:e.jsx(v2,{})})}),e.jsx(je,{path:"/account",element:e.jsx(Ni,{children:e.jsx(j2,{})})}),e.jsx(je,{path:"/admin/dashboard",element:e.jsx(_i,{children:e.jsx(O2,{})})}),e.jsx(je,{path:"/admin/agents",element:e.jsx(_i,{children:e.jsx(I2,{})})}),e.jsx(je,{path:"/admin/featured",element:e.jsx(_i,{children:e.jsx(B2,{})})}),e.jsx(je,{path:"/admin/reports",element:e.jsx(_i,{children:e.jsx(H2,{})})}),e.jsx(je,{path:"*",element:e.jsx(Z2,{})})]})}),e.jsx(Yj,{}),e.jsx(Jj,{})]})})}),tw=()=>e.jsx(e.Fragment,{children:e.jsx(ew,{})});Cx(document.getElementById("root")).render(e.jsx(tw,{}));
